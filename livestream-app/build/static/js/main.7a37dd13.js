!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=66)}([function(e,t,n){"use strict";var r=(n(2),n(22)),i=n(13),o=n(85),a=n(40),s=n(92),u=(n(43),n(19),n(27),n(93)),l=(n(45),n(94),n(46)),c=(n(95),n(47),n(96),n(48)),f=(n(97),n(41)),d=(n(49),n(98),n(99)),h=(n(51),n(31),n(100),n(101)),p=n(32),y=(n(102),n(30),n(103),n(29)),g=n(28),v=n(14),m=(n(104),n(105)),b=n(106),_=(n(53),n(16)),E=n(18),w=n(9),A=(n(7),n(107)),S=n(54),T=n(108),O=n(56),N=(n(10),n(26)),R=(n(110),n(111)),k=n(52),I=(n(33),n(57),n(112)),D=n(114),B=n(25),P=n(17),C=n(3);n(5),n(6),n(15),n(8),n(39);n.d(t,"d",function(){return i.a}),n.d(t,"y",function(){return f.a}),n.d(t,"a",function(){return u.a}),n.d(t,"p",function(){return l.a}),n.d(t,"q",function(){return c.a}),n.d(t,"B",function(){return C.a}),n.d(t,"z",function(){return B.a}),n.d(t,"A",function(){return P.a}),n.d(t,"l",function(){return d.a}),n.d(t,"D",function(){return p.a}),n.d(t,"m",function(){return h.a}),n.d(t,"h",function(){return m.a}),n.d(t,"i",function(){return o.a}),n.d(t,"k",function(){return a.a}),n.d(t,"n",function(){return s.a}),n.d(t,"g",function(){return _.a}),n.d(t,"o",function(){return E.a}),n.d(t,"f",function(){return b.a}),n.d(t,"C",function(){return N.a}),n.d(t,"r",function(){return w.a}),n.d(t,"v",function(){return D.a}),n.d(t,"u",function(){return I.a}),n.d(t,"w",function(){return T.a}),n.d(t,"x",function(){return O.a}),n.d(t,"j",function(){return k.a}),n.d(t,"t",function(){return S.a}),n.d(t,"s",function(){return A.a}),n.d(t,"F",function(){return v.a}),n.d(t,"b",function(){return y.a}),n.d(t,"c",function(){return r.a}),n.d(t,"e",function(){return R.a}),n.d(t,"E",function(){return g.b})},function(e,t,n){"use strict";e.exports=n(73)},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,Buffer){function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}function noop(){}function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}function hrtime(e){var t=.001*performanceNow.call(performance),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]}function uptime(){return(new Date-startTime)/1e3}function _typeof$1(e){return(_typeof$1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<i;a=r[++n])isNull(a)||!isObject(a)?o+=" "+a:o+=" "+inspect(a);return o}function deprecate(e,t){function n(){return r||(console.error(t),r=!0),e.apply(this,arguments)}if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return n}function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"\x1b["+inspect.colors[n][0]+"m"+e+"\x1b["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function formatValue(e,t,n){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return isString(r)||(r=formatValue(e,r,n)),r}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),a=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var u="",l=!1,c=["{","}"];if(isArray(t)&&(l=!0,c=["[","]"]),isFunction(t)){u=" [Function"+(t.name?": "+t.name:"")+"]"}if(isRegExp(t)&&(u=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(u=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(u=" "+formatError(t)),0===o.length&&(!l||0==t.length))return c[0]+u+c[1];if(n<0)return isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var f;return f=l?formatArray(e,t,n,a,o):o.map(function(r){return formatProperty(e,t,n,a,r,l)}),e.seen.pop(),reduceToSingleString(f,u,c)}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?o.push(formatProperty(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))}),o}function formatProperty(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=isNull(n)?formatValue(e,u.value,null):formatValue(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"===typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"===typeof e}function isString(e){return"string"===typeof e}function isSymbol(e){return"symbol"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"===typeof e}function isPrimitive(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===_typeof$1(e)||"undefined"===typeof e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),e}function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,t){var n=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(n,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$3(e,t,n){return t&&_defineProperties$3(e.prototype,t),n&&_defineProperties$3(e,n),e}function alphabetize(e){return e.split("").sort().join("")}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$4(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),e}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$5(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),e}function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$6(e,t,n){return t&&_defineProperties$6(e.prototype,t),n&&_defineProperties$6(e,n),e}function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new long_1(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new long_1(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new long_1(t.getLowBits(),0),a=n.multiply(i),s=n.multiply(o),u=r.multiply(i),l=r.multiply(o);return a=a.add(s.shiftRightUnsigned(32)),s=new long_1(s.getLowBits(),0).add(u).add(l.shiftRightUnsigned(32)),a=a.add(s.shiftRightUnsigned(32)),l=s.shiftLeft(32).add(new long_1(l.getLowBits(),0)),{high:a,low:l}}function lessThan(e,t){var n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r){if(e.low>>>0<t.low>>>0)return!0}return!1}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$7(e,t,n){return t&&_defineProperties$7(e.prototype,t),n&&_defineProperties$7(e,n),e}function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$8(e,t,n){return t&&_defineProperties$8(e.prototype,t),n&&_defineProperties$8(e,n),e}function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$9(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),e}function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$a(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),e}function isUint8Array(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function convertArraytoUtf8BinaryString(e,t,n){for(var r="",i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function _typeof$2(e){return(_typeof$2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function deserializeValue(e,t,n,r){if("number"===typeof n){if(r.relaxed)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||"object"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var i=Object.keys(n).filter(function(e){return e.startsWith("$")&&null!=n[e]}),o=0;o<i.length;o++){var a=keysToCodecs[i[o]];if(a)return a.fromExtendedJSON(n,r)}if(null!=n.$date){var s=n.$date,u=new Date;return"string"===typeof s?u.setTime(Date.parse(s)):long_1.isLong(s)?u.setTime(s.toNumber()):"number"===typeof s&&r.relaxed&&u.setTime(s),u}if(null!=n.$code){var l=Object.assign({},n);return n.$scope&&(l.$scope=deserializeValue(e,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var c=n.$ref?n:n.$dbPointer;if(c instanceof db_ref)return c;var f=Object.keys(c).filter(function(e){return e.startsWith("$")}),d=!0;if(f.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(d=!1)}),d)return db_ref.fromExtendedJSON(c)}return n}function parse(e,t){var n=this;return t=Object.assign({},{relaxed:!0},t),"boolean"===typeof t.relaxed&&(t.strict=!t.relaxed),"boolean"===typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,r){return deserializeValue(n,e,r,t)})}function stringify(e,t,n,r){null!=n&&"object"===_typeof$2(n)&&(r=n,n=0),null==t||"object"!==_typeof$2(t)||Array.isArray(t)||(r=t,t=null,n=0),r=Object.assign({},{relaxed:!0},r);var i=Array.isArray(e)?serializeArray(e,r):serializeDocument(e,r);return JSON.stringify(i,t,n)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime(),r=n>-1&&n<2534023188e5;return t.relaxed&&r?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"===typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX,o=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(i)return{$numberInt:e.toString()};if(o)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var a=e.flags;void 0===a&&(a=e.toString().match(/[gimuy]*$/)[0]);return new regexp(e.source,a).toExtendedJSON()}return null!=e&&"object"===_typeof$2(e)?serializeDocument(e,t):e}function serializeDocument(e,t){if(null==e||"object"!==_typeof$2(e))throw new Error("not an object instance");var n=e._bsontype;if("undefined"===typeof n){var r={};for(var i in e)r[i]=serializeValue(e[i],t);return r}if("string"===typeof n){var o=e;if("function"!==typeof o.toExtendedJSON){var a=BSON_TYPE_MAPPINGS[n];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+n);o=a(o)}return"Code"===n&&o.scope?o=new code(o.code,serializeValue(o.scope,t)):"DBRef"===n&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(n))}function validateUtf8(e,t,n){for(var r=0,i=t;i<n;i+=1){var o=e[i];if(r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}function deserialize$1(e,t,n){t=null==t?{}:t;var r=t&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is ".concat(i));if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(i));if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(i));if(i+r>e.length)throw new Error("(bson size ".concat(i," + options.index ").concat(r," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(0!==e[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,r,t,n)}function deserializeObject(e,t,n,r){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,a=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!a)var s=null;var u=null==n.fieldsAsRaw?null:n.fieldsAsRaw,l=null!=n.raw&&n.raw,c="boolean"===typeof n.bsonRegExp&&n.bsonRegExp,f=null!=n.promoteBuffers&&n.promoteBuffers,d=null==n.promoteLongs||n.promoteLongs,h=null==n.promoteValues||n.promoteValues,p=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(y<5||y>e.length)throw new Error("corrupt bson message");for(var g=r?[]:{},v=0;;){var m=e[t++];if(0===m)break;for(var b=t;0!==e[b]&&b<e.length;)b++;if(b>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var _=r?v++:e.toString("utf8",t,b);if(t=b+1,m===constants.BSON_DATA_STRING){var E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(E<=0||E>e.length-t||0!==e[t+E-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+E-1))throw new Error("Invalid UTF-8 string in BSON document");var w=e.toString("utf8",t,t+E-1);g[_]=w,t+=E}else if(m===constants.BSON_DATA_OID){var A=Buffer$4.alloc(12);e.copy(A,0,t,t+12),g[_]=new objectid(A),t+=12}else if(m===constants.BSON_DATA_INT&&!1===h)g[_]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(m===constants.BSON_DATA_INT)g[_]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(m===constants.BSON_DATA_NUMBER&&!1===h)g[_]=new double_1(e.readDoubleLE(t)),t+=8;else if(m===constants.BSON_DATA_NUMBER)g[_]=e.readDoubleLE(t),t+=8;else if(m===constants.BSON_DATA_DATE){var S=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[_]=new Date(new long_1(S,T).toNumber())}else if(m===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");g[_]=1===e[t++]}else if(m===constants.BSON_DATA_OBJECT){var O=t,N=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(N<=0||N>e.length-t)throw new Error("bad embedded document length in bson");g[_]=l?e.slice(t,t+N):deserializeObject(e,O,n,!1),t+=N}else if(m===constants.BSON_DATA_ARRAY){var R=t,k=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,I=n,D=t+k;if(u&&u[_]){I={};for(var B in n)I[B]=n[B];I.raw=!0}if(g[_]=deserializeObject(e,R,I,!0),t+=k,0!==e[t-1])throw new Error("invalid array terminator byte");if(t!==D)throw new Error("corrupted array bson")}else if(m===constants.BSON_DATA_UNDEFINED)g[_]=void 0;else if(m===constants.BSON_DATA_NULL)g[_]=null;else if(m===constants.BSON_DATA_LONG){var P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,L=new long_1(P,C);g[_]=d&&!0===h&&L.lessThanOrEqual(JS_INT_MAX_LONG)&&L.greaterThanOrEqual(JS_INT_MIN_LONG)?L.toNumber():L}else if(m===constants.BSON_DATA_DECIMAL128){var x=Buffer$4.alloc(16);e.copy(x,0,t,t+16),t+=16;var U=new decimal128(x);g[_]=U.toObject?U.toObject():U}else if(m===constants.BSON_DATA_BINARY){var M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,F=M,j=e[t++];if(M<0)throw new Error("Negative binary type element size found");if(M>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(null!=e.slice){if(j===binary.SUBTYPE_BYTE_ARRAY){if((M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(M>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(M<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}g[_]=f&&h?e.slice(t,t+M):new binary(e.slice(t,t+M),j)}else{var $="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(M)):new Array(M);if(j===binary.SUBTYPE_BYTE_ARRAY){if((M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(M>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(M<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(b=0;b<M;b++)$[b]=e[t+b];g[_]=f&&h?$:new binary($,j)}t+=M}else if(m===constants.BSON_DATA_REGEXP&&!1===c){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var z=e.toString("utf8",t,b);for(t=b+1,b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var G=e.toString("utf8",t,b);t=b+1;var Y=new Array(G.length);for(b=0;b<G.length;b++)switch(G[b]){case"m":Y[b]="m";break;case"s":Y[b]="g";break;case"i":Y[b]="i"}g[_]=new RegExp(z,Y.join(""))}else if(m===constants.BSON_DATA_REGEXP&&!0===c){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var V=e.toString("utf8",t,b);for(t=b+1,b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var K=e.toString("utf8",t,b);t=b+1,g[_]=new regexp(V,K)}else if(m===constants.BSON_DATA_SYMBOL){var W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(W<=0||W>e.length-t||0!==e[t+W-1])throw new Error("bad string length in bson");g[_]=e.toString("utf8",t,t+W-1),t+=W}else if(m===constants.BSON_DATA_TIMESTAMP){var H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[_]=new timestamp(H,q)}else if(m===constants.BSON_DATA_MIN_KEY)g[_]=new min_key;else if(m===constants.BSON_DATA_MAX_KEY)g[_]=new max_key;else if(m===constants.BSON_DATA_CODE){var X=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(X<=0||X>e.length-t||0!==e[t+X-1])throw new Error("bad string length in bson");var J=e.toString("utf8",t,t+X-1);if(i)if(o){var Q=a?s(J):J;g[_]=isolateEvalWithHash(functionCache,Q,J,g)}else g[_]=isolateEval(J);else g[_]=new code(J);t+=X}else if(m===constants.BSON_DATA_CODE_W_SCOPE){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Z<13)throw new Error("code_w_scope total size shorter minimum expected length");var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<=0||ee>e.length-t||0!==e[t+ee-1])throw new Error("bad string length in bson");var te=e.toString("utf8",t,t+ee-1);t+=ee;var ne=t,re=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ie=deserializeObject(e,ne,n,!1);if(t+=re,Z<8+re+ee)throw new Error("code_w_scope total size is to short, truncating scope");if(Z>8+re+ee)throw new Error("code_w_scope total size is to long, clips outer document");if(i){if(o){var oe=a?s(te):te;g[_]=isolateEvalWithHash(functionCache,oe,te,g)}else g[_]=isolateEval(te);g[_].scope=ie}else g[_]=new code(te,ie)}else{if(m!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+m.toString(16)+' for fieldname "'+_+'", are you using the latest BSON parser?');var ae=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ae<=0||ae>e.length-t||0!==e[t+ae-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+ae-1))throw new Error("Invalid UTF-8 string in BSON document");var se=e.toString("utf8",t,t+ae-1);t+=ae;var ue=Buffer$4.alloc(12);e.copy(ue,0,t,t+12);var le=new objectid(ue);t+=12,g[_]=new db_ref(se,le)}}if(y!==t-p){if(r)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var ce=Object.keys(g).filter(function(e){return e.startsWith("$")}),fe=!0;if(ce.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(fe=!1)}),!fe)return g;if(null!=g.$id&&null!=g.$ref){var de=Object.assign({},g);return delete de.$ref,delete de.$id,delete de.$db,new db_ref(g.$ref,g.$id,g.$db||null,de)}return g}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}function readIEEE754(e,t,n,r,i){var o,a,s="big"===n,u=8*i-r-1,l=(1<<u)-1,c=l>>1,f=-7,d=s?0:i-1,h=s?1:-1,p=e[t+d];for(d+=h,o=p&(1<<-f)-1,p>>=-f,f+=u;f>0;o=256*o+e[t+d],d+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+d],d+=h,f-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)}function writeIEEE754(e,t,n,r,i,o){var a,s,u,l="big"===r,c=8*o-i-1,f=(1<<c)-1,d=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=l?o-1:0,y=l?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?h/u:h*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=f?(s=0,a=f):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0)),isNaN(t)&&(s=0);i>=8;)e[n+p]=255&s,p+=y,s/=256,i-=8;for(a=a<<i|s,isNaN(t)&&(a+=8),c+=i;c>0;)e[n+p]=255&a,p+=y,a/=256,c-=8;e[n+p-y]|=128*g}function _typeof$3(e){return(_typeof$3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function serializeString(e,t,n,r,i){e[r++]=constants.BSON_DATA_STRING,r=r+(i?e.write(t,r,"ascii"):e.write(t,r,"utf8"))+1,e[r-1]=0;var o=e.write(n,r+4,"utf8");return e[r+3]=o+1>>24&255,e[r+2]=o+1>>16&255,e[r+1]=o+1>>8&255,e[r]=o+1&255,r=r+4+o,e[r++]=0,r}function serializeNumber(e,t,n,r,i){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX){e[r++]=constants.BSON_DATA_INT;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX){e[r++]=constants.BSON_DATA_NUMBER;var a=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=a,e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8}else{e[r++]=constants.BSON_DATA_LONG;var s=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=s,e[r++]=0;var u=long_1.fromNumber(n),l=u.getLowBits(),c=u.getHighBits();e[r++]=255&l,e[r++]=l>>8&255,e[r++]=l>>16&255,e[r++]=l>>24&255,e[r++]=255&c,e[r++]=c>>8&255,e[r++]=c>>16&255,e[r++]=c>>24&255}else{e[r++]=constants.BSON_DATA_NUMBER;r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8}return r}function serializeNull(e,t,n,r,i){return e[r++]=constants.BSON_DATA_NULL,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r}function serializeBoolean(e,t,n,r,i){return e[r++]=constants.BSON_DATA_BOOLEAN,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function serializeDate(e,t,n,r,i){e[r++]=constants.BSON_DATA_DATE,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=long_1.fromNumber(n.getTime()),a=o.getLowBits(),s=o.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function serializeRegExp(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_REGEXP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function serializeBSONRegExp(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_REGEXP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,"utf8"),e[r++]=0,r}function serializeMinMax(e,t,n,r,i){return null===n?e[r++]=constants.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=constants.BSON_DATA_MIN_KEY:e[r++]=constants.BSON_DATA_MAX_KEY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r}function serializeObjectId(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_OID,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,"string"===typeof n.id)e.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function serializeBuffer(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,o),r+=o}function serializeObject(e,t,n,r,i,o,a,s,u,l){for(var c=0;c<l.length;c++)if(l[c]===n)throw new Error("cyclic dependency detected");l.push(n),e[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var f=serializeInto(e,n,i,r,o+1,a,s,l);return l.pop(),f}function serializeDecimal128(e,t,n,r,i){return e[r++]=constants.BSON_DATA_DECIMAL128,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function serializeLong(e,t,n,r,i){e[r++]="Long"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.getLowBits(),a=n.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function serializeInt32(e,t,n,r,i){return e[r++]=constants.BSON_DATA_INT,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function serializeDouble(e,t,n,r,i){return e[r++]=constants.BSON_DATA_NUMBER,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n.value,r,"little",52,8),r+=8}function serializeFunction(e,t,n,r,i,o,a){e[r++]=constants.BSON_DATA_CODE,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s=normalizedFunctionString$1(n),u=e.write(s,r+4,"utf8")+1;return e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0,r}function serializeCode(e,t,n,r,i,o,a,s,u){if(n.scope&&"object"===_typeof$3(n.scope)){e[r++]=constants.BSON_DATA_CODE_W_SCOPE;r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var l=r,c="string"===typeof n.code?n.code:n.code.toString();r+=4;var f=e.write(c,r+4,"utf8")+1;e[r]=255&f,e[r+1]=f>>8&255,e[r+2]=f>>16&255,e[r+3]=f>>24&255,e[r+4+f-1]=0,r=r+f+4;var d=serializeInto(e,n.scope,i,r,o+1,a,s);r=d-1;var h=d-l;e[l++]=255&h,e[l++]=h>>8&255,e[l++]=h>>16&255,e[l++]=h>>24&255,e[r++]=0}else{e[r++]=constants.BSON_DATA_CODE;r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var p=n.code.toString(),y=e.write(p,r+4,"utf8")+1;e[r]=255&y,e[r+1]=y>>8&255,e[r+2]=y>>16&255,e[r+3]=y>>24&255,r=r+4+y-1,e[r++]=0}return r}function serializeBinary(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.value(!0),a=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),o.copy(e,r,0,n.position),r+=n.position}function serializeSymbol(e,t,n,r,i){e[r++]=constants.BSON_DATA_SYMBOL,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=e.write(n.value,r+4,"utf8")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r}function serializeDBRef(e,t,n,r,i,o,a){e[r++]=constants.BSON_DATA_OBJECT,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s,u=r,l={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(l.$db=n.db),l=Object.assign(l,n.fields),s=serializeInto(e,l,!1,r,i+1,o);var c=s-u;return e[u++]=255&c,e[u++]=c>>8&255,e[u++]=c>>16&255,e[u++]=c>>24&255,s}function serializeInto(e,t,n,r,i,o,a,s){r=r||0,s=s||[],s.push(t);var u=r+4;if(Array.isArray(t))for(var l=0;l<t.length;l++){var c=""+l,f=t[l];if(f&&f.toBSON){if("function"!==typeof f.toBSON)throw new TypeError("toBSON is not a function");f=f.toBSON()}var d=_typeof$3(f);if("string"===d)u=serializeString(e,c,f,u,!0);else if("number"===d)u=serializeNumber(e,c,f,u,!0);else if("boolean"===d)u=serializeBoolean(e,c,f,u,!0);else if(f instanceof Date||isDate$1(f))u=serializeDate(e,c,f,u,!0);else if(void 0===f)u=serializeNull(e,c,f,u,!0);else if(null===f)u=serializeNull(e,c,f,u,!0);else if("ObjectId"===f._bsontype||"ObjectID"===f._bsontype)u=serializeObjectId(e,c,f,u,!0);else if(Buffer$5.isBuffer(f))u=serializeBuffer(e,c,f,u,!0);else if(f instanceof RegExp||isRegExp$1(f))u=serializeRegExp(e,c,f,u,!0);else if("object"===d&&null==f._bsontype)u=serializeObject(e,c,f,u,n,i,o,a,!0,s);else if("object"===d&&"Decimal128"===f._bsontype)u=serializeDecimal128(e,c,f,u,!0);else if("Long"===f._bsontype||"Timestamp"===f._bsontype)u=serializeLong(e,c,f,u,!0);else if("Double"===f._bsontype)u=serializeDouble(e,c,f,u,!0);else if("function"===typeof f&&o)u=serializeFunction(e,c,f,u,n,i,o,!0);else if("Code"===f._bsontype)u=serializeCode(e,c,f,u,n,i,o,a,!0);else if("Binary"===f._bsontype)u=serializeBinary(e,c,f,u,!0);else if("Symbol"===f._bsontype)u=serializeSymbol(e,c,f,u,!0);else if("DBRef"===f._bsontype)u=serializeDBRef(e,c,f,u,i,o,!0);else if("BSONRegExp"===f._bsontype)u=serializeBSONRegExp(e,c,f,u,!0);else if("Int32"===f._bsontype)u=serializeInt32(e,c,f,u,!0);else if("MinKey"===f._bsontype||"MaxKey"===f._bsontype)u=serializeMinMax(e,c,f,u,!0);else if("undefined"!==typeof f._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+f._bsontype)}else if(t instanceof map)for(var h=t.entries(),p=!1;!p;){var y=h.next();if(!(p=y.done)){var g=y.value[0],v=y.value[1],m=_typeof$3(v);if("string"===typeof g&&!ignoreKeys.has(g)){if(null!=g.match(regexp$1))throw Error("key "+g+" must not contain null bytes");if(n){if("$"===g[0])throw Error("key "+g+" must not start with '$'");if(~g.indexOf("."))throw Error("key "+g+" must not contain '.'")}}if("string"===m)u=serializeString(e,g,v,u);else if("number"===m)u=serializeNumber(e,g,v,u);else if("boolean"===m)u=serializeBoolean(e,g,v,u);else if(v instanceof Date||isDate$1(v))u=serializeDate(e,g,v,u);else if(null===v||void 0===v&&!1===a)u=serializeNull(e,g,v,u);else if("ObjectId"===v._bsontype||"ObjectID"===v._bsontype)u=serializeObjectId(e,g,v,u);else if(Buffer$5.isBuffer(v))u=serializeBuffer(e,g,v,u);else if(v instanceof RegExp||isRegExp$1(v))u=serializeRegExp(e,g,v,u);else if("object"===m&&null==v._bsontype)u=serializeObject(e,g,v,u,n,i,o,a,!1,s);else if("object"===m&&"Decimal128"===v._bsontype)u=serializeDecimal128(e,g,v,u);else if("Long"===v._bsontype||"Timestamp"===v._bsontype)u=serializeLong(e,g,v,u);else if("Double"===v._bsontype)u=serializeDouble(e,g,v,u);else if("Code"===v._bsontype)u=serializeCode(e,g,v,u,n,i,o,a);else if("function"===typeof v&&o)u=serializeFunction(e,g,v,u,n,i,o);else if("Binary"===v._bsontype)u=serializeBinary(e,g,v,u);else if("Symbol"===v._bsontype)u=serializeSymbol(e,g,v,u);else if("DBRef"===v._bsontype)u=serializeDBRef(e,g,v,u,i,o);else if("BSONRegExp"===v._bsontype)u=serializeBSONRegExp(e,g,v,u);else if("Int32"===v._bsontype)u=serializeInt32(e,g,v,u);else if("MinKey"===v._bsontype||"MaxKey"===v._bsontype)u=serializeMinMax(e,g,v,u);else if("undefined"!==typeof v._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+v._bsontype)}}else{if(t.toBSON){if("function"!==typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==_typeof$3(t))throw new TypeError("toBSON function did not return an object")}for(var b in t){var _=t[b];if(_&&_.toBSON){if("function"!==typeof _.toBSON)throw new TypeError("toBSON is not a function");_=_.toBSON()}var E=_typeof$3(_);if("string"===typeof b&&!ignoreKeys.has(b)){if(null!=b.match(regexp$1))throw Error("key "+b+" must not contain null bytes");if(n){if("$"===b[0])throw Error("key "+b+" must not start with '$'");if(~b.indexOf("."))throw Error("key "+b+" must not contain '.'")}}if("string"===E)u=serializeString(e,b,_,u);else if("number"===E)u=serializeNumber(e,b,_,u);else if("boolean"===E)u=serializeBoolean(e,b,_,u);else if(_ instanceof Date||isDate$1(_))u=serializeDate(e,b,_,u);else if(void 0===_)!1===a&&(u=serializeNull(e,b,_,u));else if(null===_)u=serializeNull(e,b,_,u);else if("ObjectId"===_._bsontype||"ObjectID"===_._bsontype)u=serializeObjectId(e,b,_,u);else if(Buffer$5.isBuffer(_))u=serializeBuffer(e,b,_,u);else if(_ instanceof RegExp||isRegExp$1(_))u=serializeRegExp(e,b,_,u);else if("object"===E&&null==_._bsontype)u=serializeObject(e,b,_,u,n,i,o,a,!1,s);else if("object"===E&&"Decimal128"===_._bsontype)u=serializeDecimal128(e,b,_,u);else if("Long"===_._bsontype||"Timestamp"===_._bsontype)u=serializeLong(e,b,_,u);else if("Double"===_._bsontype)u=serializeDouble(e,b,_,u);else if("Code"===_._bsontype)u=serializeCode(e,b,_,u,n,i,o,a);else if("function"===typeof _&&o)u=serializeFunction(e,b,_,u,n,i,o);else if("Binary"===_._bsontype)u=serializeBinary(e,b,_,u);else if("Symbol"===_._bsontype)u=serializeSymbol(e,b,_,u);else if("DBRef"===_._bsontype)u=serializeDBRef(e,b,_,u,i,o);else if("BSONRegExp"===_._bsontype)u=serializeBSONRegExp(e,b,_,u);else if("Int32"===_._bsontype)u=serializeInt32(e,b,_,u);else if("MinKey"===_._bsontype||"MaxKey"===_._bsontype)u=serializeMinMax(e,b,_,u);else if("undefined"!==typeof _._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+_._bsontype)}}s.pop(),e[u++]=0;var w=u-r;return e[r++]=255&w,e[r++]=w>>8&255,e[r++]=w>>16&255,e[r++]=w>>24&255,u}function _typeof$4(e){return(_typeof$4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function isDate$2(e){return"object"===_typeof$4(e)&&"[object Date]"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,n){var r=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=calculateElement(i.toString(),e[i],t,!0,n);else{e.toBSON&&(e=e.toBSON());for(var o in e)r+=calculateElement(o,e[o],t,!1,n)}return r}function calculateElement(e,t,n,r,i){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+5:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;case"undefined":return r||!i?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("undefined"!==typeof Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+6+t.length;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,n,i):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var o=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(o.$db=t.db),(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(o,n,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.pattern,"utf8")+1+Buffer$6.byteLength(t.options,"utf8")+1:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(t,n,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,n,i);if(n)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1}return 0}function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){t=t||{};var n="boolean"===typeof t.checkKeys&&t.checkKeys,r="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined,o="number"===typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var a=serializer(buffer$1,e,n,0,0,r,i,[]),s=Buffer$8.alloc(a);return buffer$1.copy(s,0,0,s.length),s}function serializeWithBufferAndIndex(e,t,n){n=n||{};var r="boolean"===typeof n.checkKeys&&n.checkKeys,i="boolean"===typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!==typeof n.ignoreUndefined||n.ignoreUndefined,a="number"===typeof n.index?n.index:0,s=serializer(buffer$1,e,r,0,0,i,o);return buffer$1.copy(t,a,0,s),a+s-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){t=t||{};var n="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,r="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,r)}function deserializeStream(e,t,n,r,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),e=ensure_buffer(e);for(var a=t,s=0;s<n;s++){var u=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;o.index=a,r[i+s]=deserializer(e,o),a+=u}return a}__webpack_require__.d(__webpack_exports__,"a",function(){return bson_54});var __WEBPACK_IMPORTED_MODULE_0_long__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_0_long___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_long__),__WEBPACK_IMPORTED_MODULE_1_buffer__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_1_buffer___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_buffer__),commonjsGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},map=createCommonjsModule(function(e){if("undefined"!==typeof commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;__WEBPACK_IMPORTED_MODULE_0_long___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},__WEBPACK_IMPORTED_MODULE_0_long___default.a.fromExtendedJSON=function(e,t){var n=__WEBPACK_IMPORTED_MODULE_0_long___default.a.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n},Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_long___default.a.prototype,"_bsontype",{value:"Long"});var long_1=__WEBPACK_IMPORTED_MODULE_0_long___default.a,Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double,Timestamp=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),_possibleConstructorReturn(r)}return _inherits(t,e),_createClass$1(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(e){return new t(long_1.fromInt(e))}},{key:"fromNumber",value:function(e){return new t(long_1.fromNumber(e))}},{key:"fromBits",value:function(e,n){return new t(e,n)}},{key:"fromString",value:function(e,n){return new t(long_1.fromString(e,n))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}(long_1);Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={},randomBytes=insecureRandomBytes;if("undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes},cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;"function"===typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"===typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={},on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop,performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()},startTime=new Date,process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits,formatRegExp=/%[sdj%]/g,debugs={},debugEnviron;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog},Buffer$1=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1,ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||"number"===typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var n=e.isValid(t);if(!n&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"===typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,"hex"));if(n&&"string"===typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if("string"!==typeof r)throw makeObjectIdError(this.id,n);t+=r}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"===typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"===typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString("binary"):"string"===typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"===typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!==typeof t&&(t=~~(Date.now()/1e3));var n=e.getInc(),r=Buffer$1.alloc(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,new e(n)}},{key:"createFromHexString",value:function(t){if("undefined"===typeof t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(t,"hex"));for(var n=new _Buffer(12),r=0,i=0;i<24;)n[r++]=decodeLookup[t.charCodeAt(i++)]<<4|decodeLookup[t.charCodeAt(i++)];return new e(n)}},{key:"isValid",value:function(t){return null!=t&&("number"===typeof t||("string"===typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||(t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId,BSONRegExp=function(){function e(t,n){_classCallCheck$3(this,e),this.pattern=t||"",this.options=n?alphabetize(n):"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp,BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol,Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32,Code=function(){function e(t,n){_classCallCheck$6(this,e),this.code=t,this.scope=n}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;Decimal128.fromString=function(e){var t=!1,n=!1,r=!1,i=0,o=0,a=0,s=0,u=0,l=[0],c=0,f=0,d=0,h=0,p=0,y=0,g=[0,0],v=[0,0],m=0,b=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");var _=e.match(PARSE_STRING_REGEXP),E=e.match(PARSE_INF_REGEXP),w=e.match(PARSE_NAN_REGEXP);if(!_&&!E&&!w||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(_){var A=_[2],S=_[4],T=_[5],O=_[6];S&&void 0===O&&invalidErr(e,"missing exponent power"),S&&void 0===A&&invalidErr(e,"missing exponent base"),void 0===S&&(T||O)&&invalidErr(e,"missing e before exponent")}if("+"!==e[b]&&"-"!==e[b]||(t="-"===e[b++]),!isDigit(e[b])&&"."!==e[b]){if("i"===e[b]||"I"===e[b])return new Decimal128(Buffer$2.from(t?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===e[b])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[b])||"."===e[b];)"."!==e[b]?(c<34&&("0"!==e[b]||r)&&(r||(u=o),r=!0,l[f++]=parseInt(e[b],10),c+=1),r&&(a+=1),n&&(s+=1),o+=1,b+=1):(n&&invalidErr(e,"contains multiple periods"),n=!0,b+=1);if(n&&!o)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[b]||"E"===e[b]){var N=e.substr(++b).match(EXPONENT_REGEX);if(!N||!N[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));p=parseInt(N[0],10),b+=N[0].length}if(e[b])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(d=0,c){if(h=c-1,1!==(i=a))for(;"0"===e[u+i-1];)i-=1}else d=0,h=0,l[0]=0,a=1,c=1,i=0;for(p<=s&&s-p>16384?p=EXPONENT_MIN:p-=s;p>EXPONENT_MAX;){if((h+=1)-d>34){if(l.join("").match(/^0+$/)){p=EXPONENT_MAX;break}invalidErr(e,"overflow")}p-=1}for(;p<EXPONENT_MIN||c<a;){if(0===h&&i<c){p=EXPONENT_MIN,i=0;break}if(c<a?a-=1:h-=1,p<EXPONENT_MAX)p+=1;else{if(l.join("").match(/^0+$/)){p=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(h-d+1<i){var R=o;n&&(u+=1,R+=1),t&&(u+=1,R+=1);var k=parseInt(e[u+h+1],10),I=0;if(k>=5&&(I=1,5===k))for(I=l[h]%2===1,y=u+h+2;y<R;y++)if(parseInt(e[y],10)){I=1;break}if(I)for(var D=h;D>=0;D--)if(++l[D]>9&&(l[D]=0,0===D)){if(!(p<EXPONENT_MAX))return new Decimal128(Buffer$2.from(t?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));p+=1,l[D]=1}}if(g=long_1.fromNumber(0),v=long_1.fromNumber(0),0===i)g=long_1.fromNumber(0),v=long_1.fromNumber(0);else if(h-d<17){var B=d;for(v=long_1.fromNumber(l[B++]),g=new long_1(0,0);B<=h;B++)v=v.multiply(long_1.fromNumber(10)),v=v.add(long_1.fromNumber(l[B]))}else{var P=d;for(g=long_1.fromNumber(l[P++]);P<=h-17;P++)g=g.multiply(long_1.fromNumber(10)),g=g.add(long_1.fromNumber(l[P]));for(v=long_1.fromNumber(l[P++]);P<=h;P++)v=v.multiply(long_1.fromNumber(10)),v=v.add(long_1.fromNumber(l[P]))}var C=multiply64x2(g,long_1.fromString("100000000000000000"));C.low=C.low.add(v),lessThan(C.low,v)&&(C.high=C.high.add(long_1.fromNumber(1))),m=p+EXPONENT_BIAS;var L={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};C.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(L.high=L.high.or(long_1.fromNumber(3).shiftLeft(61)),L.high=L.high.or(long_1.fromNumber(m).and(long_1.fromNumber(16383).shiftLeft(47))),L.high=L.high.or(C.high.and(long_1.fromNumber(0x7fffffffffff)))):(L.high=L.high.or(long_1.fromNumber(16383&m).shiftLeft(49)),L.high=L.high.or(C.high.and(long_1.fromNumber(562949953421311)))),L.low=C.low,t&&(L.high=L.high.or(long_1.fromString("9223372036854775808")));var x=Buffer$2.alloc(16);return b=0,x[b++]=255&L.low.low,x[b++]=L.low.low>>8&255,x[b++]=L.low.low>>16&255,x[b++]=L.low.low>>24&255,x[b++]=255&L.low.high,x[b++]=L.low.high>>8&255,x[b++]=L.low.high>>16&255,x[b++]=L.low.high>>24&255,x[b++]=255&L.high.low,x[b++]=L.high.low>>8&255,x[b++]=L.high.low>>16&255,x[b++]=L.high.low>>24&255,x[b++]=255&L.high.high,x[b++]=L.high.high>>8&255,x[b++]=L.high.high>>16&255,x[b++]=L.high.high>>24&255,new Decimal128(x)};var EXPONENT_MASK=16383;Decimal128.prototype.toString=function(){for(var e,t,n,r,i,o,a=0,s=new Array(36),u=0;u<s.length;u++)s[u]=0;var l,c,f,d,h,p=0,y=!1,g={parts:new Array(4)},v=[];p=0;var m=this.bytes;if(r=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,n=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,t=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,e=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,p=0,{low:new long_1(r,n),high:new long_1(t,e)}.high.lessThan(long_1.ZERO)&&v.push("-"),(i=e>>26&31)>>3===3){if(30===i)return v.join("")+"Infinity";if(31===i)return"NaN";o=e>>15&EXPONENT_MASK,f=8+(e>>14&1)}else f=e>>14&7,o=e>>17&EXPONENT_MASK;if(l=o-EXPONENT_BIAS,g.parts[0]=(16383&e)+((15&f)<<14),g.parts[1]=t,g.parts[2]=n,g.parts[3]=r,0===g.parts[0]&&0===g.parts[1]&&0===g.parts[2]&&0===g.parts[3])y=!0;else for(h=3;h>=0;h--){var b=0,_=divideu128(g);if(g=_.quotient,b=_.rem.low)for(d=8;d>=0;d--)s[9*h+d]=b%10,b=Math.floor(b/10)}if(y)a=1,s[p]=0;else for(a=36;!s[p];)a-=1,p+=1;if((c=a-1+l)>=34||c<=-7||l>0){if(a>34)return v.push(0),l>0?v.push("E+"+l):l<0&&v.push("E"+l),v.join("");v.push(s[p++]),(a-=1)&&v.push(".");for(var E=0;E<a;E++)v.push(s[p++]);v.push("E"),c>0?v.push("+"+c):v.push(c)}else if(l>=0)for(var w=0;w<a;w++)v.push(s[p++]);else{var A=a+l;if(A>0)for(var S=0;S<A;S++)v.push(s[p++]);else v.push("0");for(v.push(".");A++<0;)v.push("0");for(var T=0;T<a-Math.max(A-1,0);T++)v.push(s[p++])}return v.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128,MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey,MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey,DBRef=function(){function e(t,n,r,i){_classCallCheck$9(this,e);var o=t.split(".");2===o.length&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=i||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),e=Object.assign(e,this.fields)}}],[{key:"fromExtendedJSON",value:function(t){var n=Object.assign({},t);return["$ref","$id","$db"].forEach(function(e){return delete n[e]}),new e(t.$ref,t.$id,t.$db,n)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef,Buffer$3=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,Binary=function(){function e(t,n){if(_classCallCheck$a(this,e),null!=t&&"string"!==typeof t&&!Buffer$3.isBuffer(t)&&!(t instanceof Uint8Array)&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==t||t instanceof Number)"undefined"!==typeof Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):"undefined"!==typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"===typeof t)if("undefined"!==typeof Buffer$3)this.buffer=Buffer$3.from(t);else{if("undefined"===typeof Uint8Array&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!==typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!==typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"===typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"===typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if("undefined"!==typeof Buffer$3&&"string"===typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&"string"!==typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e[i];this.position=t>this.position?t:this.position}else if("string"===typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n}},{key:"value",value:function(e){if((e=null!=e&&e)&&"undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),t=Number(this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?"0"+t:t}}}}],[{key:"fromExtendedJSON",value:function(t){var n=t.$binary.subType?parseInt(t.$binary.subType,16):0;return new e(Buffer$3.from(t.$binary.base64,"base64"),n)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128},keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp},BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000,BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}},extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128,validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={},deserializer=deserialize$1,float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754},Buffer$5=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(e){return"object"===_typeof$3(e)&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},serializer=serializeInto,Buffer$6=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString,calculate_size=calculateObjectSize,Buffer$7=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE),bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__.b=bson}).call(__webpack_exports__,__webpack_require__(11),__webpack_require__(12).Buffer)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(e){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this),this.message=e,this.name=this.constructor.name};i.prototype=Object.create(Error.prototype);var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(i);t.a=o},function(e,t,n){"use strict";var r=function(){function e(e){void 0===e&&(e=!1),this.reusesExistingSession=e}return e}();t.a=r},function(e,t,n){"use strict";var r=n(3),i=n(6),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t,n){var r=this,o="("+i.a[n]+"): "+i.b[n]+": "+t.message;return r=e.call(this,o)||this,r.underlyingError=t,r.errorCode=n,r.errorCodeName=i.a[n],r}return o(t,e),t}(r.a);t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r,i;!function(e){e[e.TRANSPORT_ERROR=0]="TRANSPORT_ERROR",e[e.DECODING_ERROR=1]="DECODING_ERROR",e[e.ENCODING_ERROR=2]="ENCODING_ERROR"}(i||(i={}));var o=(r={},r[i.TRANSPORT_ERROR]="the request transport encountered an error communicating with Stitch",r[i.DECODING_ERROR]="an error occurred while decoding a response from Stitch",r[i.ENCODING_ERROR]="an error occurred while encoding a request for Stitch",r)},function(e,t,n){"use strict";var r;!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.TRACE="TRACE",e.PATCH="PATCH"}(r||(r={})),t.a=r},function(e,t,n){"use strict";function r(e){return e in o?o[e]:i.Unknown}n.d(t,"a",function(){return i}),t.b=r;var i;!function(e){e[e.MissingAuthReq=0]="MissingAuthReq",e[e.InvalidSession=1]="InvalidSession",e[e.UserAppDomainMismatch=2]="UserAppDomainMismatch",e[e.DomainNotAllowed=3]="DomainNotAllowed",e[e.ReadSizeLimitExceeded=4]="ReadSizeLimitExceeded",e[e.InvalidParameter=5]="InvalidParameter",e[e.MissingParameter=6]="MissingParameter",e[e.TwilioError=7]="TwilioError",e[e.GCMError=8]="GCMError",e[e.HTTPError=9]="HTTPError",e[e.AWSError=10]="AWSError",e[e.MongoDBError=11]="MongoDBError",e[e.ArgumentsNotAllowed=12]="ArgumentsNotAllowed",e[e.FunctionExecutionError=13]="FunctionExecutionError",e[e.NoMatchingRuleFound=14]="NoMatchingRuleFound",e[e.InternalServerError=15]="InternalServerError",e[e.AuthProviderNotFound=16]="AuthProviderNotFound",e[e.AuthProviderAlreadyExists=17]="AuthProviderAlreadyExists",e[e.ServiceNotFound=18]="ServiceNotFound",e[e.ServiceTypeNotFound=19]="ServiceTypeNotFound",e[e.ServiceAlreadyExists=20]="ServiceAlreadyExists",e[e.ServiceCommandNotFound=21]="ServiceCommandNotFound",e[e.ValueNotFound=22]="ValueNotFound",e[e.ValueAlreadyExists=23]="ValueAlreadyExists",e[e.ValueDuplicateName=24]="ValueDuplicateName",e[e.FunctionNotFound=25]="FunctionNotFound",e[e.FunctionAlreadyExists=26]="FunctionAlreadyExists",e[e.FunctionDuplicateName=27]="FunctionDuplicateName",e[e.FunctionSyntaxError=28]="FunctionSyntaxError",e[e.FunctionInvalid=29]="FunctionInvalid",e[e.IncomingWebhookNotFound=30]="IncomingWebhookNotFound",e[e.IncomingWebhookAlreadyExists=31]="IncomingWebhookAlreadyExists",e[e.IncomingWebhookDuplicateName=32]="IncomingWebhookDuplicateName",e[e.RuleNotFound=33]="RuleNotFound",e[e.ApiKeyNotFound=34]="ApiKeyNotFound",e[e.RuleAlreadyExists=35]="RuleAlreadyExists",e[e.RuleDuplicateName=36]="RuleDuplicateName",e[e.AuthProviderDuplicateName=37]="AuthProviderDuplicateName",e[e.RestrictedHost=38]="RestrictedHost",e[e.ApiKeyAlreadyExists=39]="ApiKeyAlreadyExists",e[e.IncomingWebhookAuthFailed=40]="IncomingWebhookAuthFailed",e[e.ExecutionTimeLimitExceeded=41]="ExecutionTimeLimitExceeded",e[e.FunctionNotCallable=42]="FunctionNotCallable",e[e.UserAlreadyConfirmed=43]="UserAlreadyConfirmed",e[e.UserNotFound=44]="UserNotFound",e[e.UserDisabled=45]="UserDisabled",e[e.Unknown=46]="Unknown"}(i||(i={}));var o={APIKeyAlreadyExists:i.ApiKeyAlreadyExists,APIKeyNotFound:i.ApiKeyNotFound,AWSError:i.AWSError,ArgumentsNotAllowed:i.ArgumentsNotAllowed,AuthProviderAlreadyExists:i.AuthProviderAlreadyExists,AuthProviderDuplicateName:i.AuthProviderDuplicateName,AuthProviderNotFound:i.AuthProviderNotFound,DomainNotAllowed:i.DomainNotAllowed,ExecutionTimeLimitExceeded:i.ExecutionTimeLimitExceeded,FunctionAlreadyExists:i.FunctionAlreadyExists,FunctionDuplicateName:i.FunctionDuplicateName,FunctionExecutionError:i.FunctionExecutionError,FunctionInvalid:i.FunctionInvalid,FunctionNotCallable:i.FunctionNotCallable,FunctionNotFound:i.FunctionNotFound,FunctionSyntaxError:i.FunctionSyntaxError,GCMError:i.GCMError,HTTPError:i.HTTPError,IncomingWebhookAlreadyExists:i.IncomingWebhookAlreadyExists,IncomingWebhookAuthFailed:i.IncomingWebhookAuthFailed,IncomingWebhookDuplicateName:i.IncomingWebhookDuplicateName,IncomingWebhookNotFound:i.IncomingWebhookNotFound,InternalServerError:i.InternalServerError,InvalidParameter:i.InvalidParameter,InvalidSession:i.InvalidSession,MissingAuthReq:i.MissingAuthReq,MissingParameter:i.MissingParameter,MongoDBError:i.MongoDBError,NoMatchingRuleFound:i.NoMatchingRuleFound,ReadSizeLimitExceeded:i.ReadSizeLimitExceeded,RestrictedHost:i.RestrictedHost,RuleAlreadyExists:i.RuleAlreadyExists,RuleDuplicateName:i.RuleDuplicateName,RuleNotFound:i.RuleNotFound,ServiceAlreadyExists:i.ServiceAlreadyExists,ServiceCommandNotFound:i.ServiceCommandNotFound,ServiceNotFound:i.ServiceNotFound,ServiceTypeNotFound:i.ServiceTypeNotFound,TwilioError:i.TwilioError,UserAlreadyConfirmed:i.UserAlreadyConfirmed,UserAppDomainMismatch:i.UserAppDomainMismatch,UserDisabled:i.UserDisabled,UserNotFound:i.UserNotFound,ValueAlreadyExists:i.ValueAlreadyExists,ValueDuplicateName:i.ValueDuplicateName,ValueNotFound:i.ValueNotFound}},function(e,t,n){"use strict";var r=function(){function e(){}return e.getAuthorizationBearer=function(t){return e.AUTHORIZATION_BEARER+" "+t},e.CONTENT_TYPE_CANON="Content-Type",e.CONTENT_TYPE=e.CONTENT_TYPE_CANON.toLocaleLowerCase(),e.AUTHORIZATION_CANON="Authorization",e.AUTHORIZATION=e.AUTHORIZATION_CANON.toLocaleLowerCase(),e.ACCEPT_CANON="Accept",e.ACCEPT=e.ACCEPT_CANON.toLocaleLowerCase(),e.AUTHORIZATION_BEARER="Bearer",e}();t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(24),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0);var i=e.call(this,t.method,t.path,t.headers,t.startedAt,t.body)||this;return i.useRefreshToken=n,i.shouldRefreshOnFailure=r,i}return i(t,e),Object.defineProperty(t.prototype,"builder",{get:function(){return new t.Builder(this)},enumerable:!0,configurable:!0}),t}(r.a);!function(e){var t=function(t){function n(e){return t.call(this,e)||this}return i(n,t),n.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},n.prototype.withRefreshToken=function(){return this.useRefreshToken=!0,this},n.prototype.withShouldRefreshOnFailure=function(e){return this.shouldRefreshOnFailure=e,this},n.prototype.build=function(){return this.useRefreshToken&&(this.shouldRefreshOnFailure=!1),new e(t.prototype.build.call(this),this.useRefreshToken,this.shouldRefreshOnFailure)},n}(r.a.Builder);e.Builder=t}(o||(o={}))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=o.prototype):(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,n){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return a(this,e,t,n)}function a(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,n,r):"string"===typeof t?c(e,t,n):h(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?i(e,t):void 0!==n?"string"===typeof r?i(e,t).fill(n,r):i(e,t).fill(n):i(e,t)}function l(e,t){if(s(t),e=i(e,t<0?0:0|p(t)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(t,n);e=i(e,r);var a=e.write(t,n);return a!==r&&(e=e.slice(0,a)),e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=i(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),o.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=o.prototype):e=f(e,t),e}function h(e,t){if(o.isBuffer(t)){var n=0|p(t.length);return e=i(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||q(t.length)?i(e,0):f(e,t);if("Buffer"===t.type&&Q(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),o.alloc(+e)}function g(e,t){if(o.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return Y(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return D(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){function o(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(e,l)===o(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,d=0;d<u;d++)if(o(e,l+d)!==o(t,d)){f=!1;break}if(f)return l}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return H(Y(t,e.length-n),e,n,r)}function A(e,t,n,r){return H(V(t),e,n,r)}function S(e,t,n,r){return A(e,t,n,r)}function T(e,t,n,r){return H(W(t),e,n,r)}function O(e,t,n,r){return H(K(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:o<128&&(a=o);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],l=e[i+2],128===(192&u)&&128===(192&l)&&(f=(15&o)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],l=e[i+2],c=e[i+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return k(r)}function k(e){var t=e.length;if(t<=Z)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Z));return n}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function B(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function x(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return i||M(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return i||M(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function $(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function K(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(e){return X.toByteArray($(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function q(e){return e!==e}var X=n(82),J=n(83),Q=n(84);t.Buffer=o,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,n){return a(null,e,t,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,n){return u(null,e,t,n)},o.allocUnsafe=function(e){return l(null,e)},o.allocUnsafeSlow=function(e){return l(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=g,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):v.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,r,i){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,s=n-t,u=Math.min(a,s),l=this.slice(r,i),c=e.slice(t,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=o.prototype;else{var i=t-e;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},o.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){L(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){L(this,e,t,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):U(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):U(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):U(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},o.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var a;if("number"===typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:Y(new o(e,r).toString()),u=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(11))},function(e,t,n){"use strict";var r=function(){function e(e,t,n,r,i,o,a,s){this.userId=e,this.deviceId=t,this.accessToken=n,this.refreshToken=r,this.loggedInProviderType=i,this.loggedInProviderName=o,this.lastAuthActivity=a,this.userProfile=s}return e.empty=function(){return new e(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},Object.defineProperty(e.prototype,"hasUser",{get:function(){return void 0!==this.userId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return void 0===this.deviceId},enumerable:!0,configurable:!0}),e.prototype.loggedOut=function(){return new e(this.userId,this.deviceId,void 0,void 0,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},e.prototype.withClearedUser=function(){return new e(void 0,this.deviceId,void 0,void 0,void 0,void 0,void 0,void 0)},e.prototype.withAuthProvider=function(t,n){return new e(this.userId,this.deviceId,this.accessToken,this.refreshToken,t,n,new Date,this.userProfile)},e.prototype.withNewAuthActivityTime=function(){return new e(this.userId,this.deviceId,this.accessToken,this.refreshToken,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return void 0!==this.accessToken&&void 0!==this.refreshToken},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){return new e(void 0===t.userId?this.userId:t.userId,void 0===t.deviceId?this.deviceId:t.deviceId,void 0===t.accessToken?this.accessToken:t.accessToken,void 0===t.refreshToken?this.refreshToken:t.refreshToken,void 0===t.loggedInProviderType?this.loggedInProviderType:t.loggedInProviderType,void 0===t.loggedInProviderName?this.loggedInProviderName:t.loggedInProviderName,void 0===t.lastAuthActivity?this.lastAuthActivity:t.lastAuthActivity,void 0===t.userProfile?this.userProfile:t.userProfile)},e}();t.a=r},function(e,t,n){"use strict";function r(e){return e instanceof s.a?e:new u.a(e,l.a.DECODING_ERROR)}function i(e){if(void 0===e.body)throw new c.a("received unexpected status code "+e.statusCode,f.a.Unknown);var t;try{t=e.body}catch(t){throw new c.a("received unexpected status code "+e.statusCode,f.a.Unknown)}var n=o(e,t);throw new c.a(n,f.a.Unknown)}function o(e,t){if(void 0===e.headers[h.a.CONTENT_TYPE]||void 0!==e.headers[h.a.CONTENT_TYPE]&&e.headers[h.a.CONTENT_TYPE]!==d.a.APPLICATION_JSON)return t;var n=JSON.parse(t);if(!(n instanceof Object))return t;var r=n;if(void 0===r[a.ERROR])return t;var i=r[a.ERROR];if(void 0===r[a.ERROR_CODE])return i;var o=r[a.ERROR_CODE];throw new c.a(i,Object(f.b)(o))}t.b=r,t.a=i;var a,s=n(3),u=n(5),l=n(6),c=n(15),f=n(8),d=n(16),h=n(9);!function(e){e.ERROR="error",e.ERROR_CODE="error_code"}(a||(a={}))},function(e,t,n){"use strict";var r=n(3),i=n(8),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t,n){void 0===n&&(n=i.a.Unknown);var r=e.call(this,t)||this;return r.message=t,r.errorCode=n,r.errorCodeName=i.a[n],r}return o(t,e),t}(r.a);t.a=a},function(e,t,n){"use strict";var r=function(){function e(){}return e.APPLICATION_JSON="application/json",e.TEXT_EVENT_STREAM="text/event-stream",e}();t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r,i;!function(e){e[e.LoggedOutDuringRequest=0]="LoggedOutDuringRequest",e[e.MustAuthenticateFirst=1]="MustAuthenticateFirst",e[e.UserNoLongerValid=2]="UserNoLongerValid",e[e.UserNotFound=3]="UserNotFound",e[e.UserNotLoggedIn=4]="UserNotLoggedIn",e[e.CouldNotLoadPersistedAuthInfo=5]="CouldNotLoadPersistedAuthInfo",e[e.CouldNotPersistAuthInfo=6]="CouldNotPersistAuthInfo",e[e.StreamingNotSupported=7]="StreamingNotSupported",e[e.StreamClosed=8]="StreamClosed",e[e.UnexpectedArguments=9]="UnexpectedArguments"}(i||(i={}));var o=(r={},r[i.LoggedOutDuringRequest]="logged out while making a request to Stitch",r[i.MustAuthenticateFirst]="method called requires being authenticated",r[i.UserNoLongerValid]="user instance being accessed is no longer valid; please get a new user with auth.getUser()",r[i.UserNotFound]="user not found in list of users",r[i.UserNotLoggedIn]="cannot make the active user a logged out user; please use loginWithCredential() to switch to this user",r[i.CouldNotLoadPersistedAuthInfo]="failed to load stored auth information for Stitch",r[i.CouldNotPersistAuthInfo]="failed to save auth information for Stitch",r[i.StreamingNotSupported]="streaming not supported in this SDK",r[i.StreamClosed]="stream is closed",r[i.UnexpectedArguments]="function does not accept arguments",r)},function(e,t,n){"use strict";var r=function(){function e(e,t){this.eventName=e,this.data=t}return e.MESSAGE_EVENT="message",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),this.userType=e,this.data=t,this.identities=n}return e.empty=function(){return new e},Object.defineProperty(e.prototype,"name",{get:function(){return this.data.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"email",{get:function(){return this.data.email},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pictureUrl",{get:function(){return this.data.picture},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstName",{get:function(){return this.data.first_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastName",{get:function(){return this.data.last_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gender",{get:function(){return this.data.gender},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"birthday",{get:function(){return this.data.birthday},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minAge",{get:function(){var e=this.data.min_age;if(void 0!==e)return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAge",{get:function(){var e=this.data.max_age;if(void 0!==e)return e},enumerable:!0,configurable:!0}),e}();t.a=r},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";var r=n(81);n.d(t,"a",function(){return r.a}),n.d(t,"c",function(){return r.b});var i=n(138);n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r;!function(e){e[e.ActiveUserChanged=0]="ActiveUserChanged",e[e.ListenerRegistered=1]="ListenerRegistered",e[e.UserAdded=2]="UserAdded",e[e.UserLinked=3]="UserLinked",e[e.UserLoggedIn=4]="UserLoggedIn",e[e.UserLoggedOut=5]="UserLoggedOut",e[e.UserRemoved=6]="UserRemoved"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(2),i=n(16),o=n(9),a=n(10),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e){function t(t,n){var r=this;return r=t instanceof a.a?e.call(this,t,t.useRefreshToken,t.shouldRefreshOnFailure)||this:e.call(this,t)||this,r.document=n,r}return s(t,e),Object.defineProperty(t.prototype,"builder",{get:function(){return new t.Builder(this)},enumerable:!0,configurable:!0}),t}(a.a);!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return void 0!==e&&(n.document=e.document,n.useRefreshToken=e.useRefreshToken),n}return s(n,t),n.prototype.withDocument=function(e){return this.document=e,this},n.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},n.prototype.build=function(){if(void 0===this.document||!(this.document instanceof Object))throw new Error("document must be set: "+this.document);return void 0===this.headers&&this.withHeaders({}),this.headers[o.a.CONTENT_TYPE]=i.a.APPLICATION_JSON,this.withBody(r.a.stringify(this.document,{relaxed:!1})),new e(t.prototype.build.call(this),this.document)},n}(a.a.Builder);e.Builder=t}(u||(u={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(e,t,n,r,i){this.method=e,this.path=t,this.headers=n,this.body=i,this.startedAt=r}return Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}();!function(e){var t=function(){function t(e){void 0!==e&&(this.method=e.method,this.path=e.path,this.headers=e.headers,this.body=e.body,this.startedAt=e.startedAt)}return t.prototype.withMethod=function(e){return this.method=e,this},t.prototype.withPath=function(e){return this.path=e,this},t.prototype.withHeaders=function(e){return this.headers=e,this},t.prototype.withBody=function(e){return this.body=e,this},t.prototype.build=function(){if(void 0===this.method)throw Error("must set method");if(void 0===this.path)throw Error("must set non-empty path");return void 0===this.startedAt&&(this.startedAt=Date.now()/1e3),new e(this.method,this.path,void 0===this.headers?{}:this.headers,this.startedAt,this.body)},t}();e.Builder=t}(r||(r={}))},function(e,t,n){"use strict";var r=n(17),i=n(3),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t){var n=this,i="("+r.a[t]+"): "+r.b[t];return n=e.call(this,i)||this,n.errorCode=t,n.errorCodeName=r.a[t],n}return o(t,e),t}(i.a);t.a=a},function(e,t,n){"use strict";var r=n(2),i=n(15),o=n(8),a=n(18),s=function(){function e(t,n,s){this.eventName=t,n=n||"";for(var l=[],c=0;c<n.length;c++){var f=n[c];switch(f){case"%":if(c+2>=n.length)break;var d=n.substring(c+1,c+3),h=void 0;switch(d){case"25":h=!0,l.push("%");break;case"0A":h=!0,l.push("\n");break;case"0D":h=!0,l.push("\r");break;default:h=!1}if(h){c+=2;continue}}l.push(f)}var p=l.join("");switch(this.eventName){case e.ERROR_EVENT_NAME:var y=void 0,g=void 0;try{var v=r.a.parse(p,{strict:!1});y=v[u.Error],g=Object(o.b)(v[u.ErrorCode])}catch(e){y=p,g=o.a.Unknown}this.error=new i.a(y,g);break;case a.a.MESSAGE_EVENT:this.data=r.a.parse(p,{strict:!1}),s&&(this.data=s.decode(this.data))}}return e.fromEvent=function(t,n){return new e(t.eventName,t.data,n)},e.ERROR_EVENT_NAME="error",e}();t.a=s;var u;!function(e){e.Error="error",e.ErrorCode="error_code"}(u||(u={}))},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="anon-user",e.DEFAULT_NAME="anon-user",e}();t.a=r},function(e,t,n){"use strict";function r(e){var t,n=e.length%4;if(0!=n){t=e+"=".repeat(4-n)}else t=e;var r=Object(u.toByteArray)(t);return a(r,0,r.length)}function i(e){var t;return"undefined"===typeof Uint8Array&&(t=o(e)),t=new Uint8Array(o(e)),Object(u.fromByteArray)(t)}function o(e){for(var t,n=1/0,r=e.length,i=null,o=[],a=0;a<r;a++){if((t=e.charCodeAt(a))>55295&&t<57344){if(!i){if(t>56319){(n-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(n-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(n-=3)>-1&&o.push(239,191,189),i=t;continue}t=i-55296<<10|t-56320|65536,i=null}else i&&((n-=3)>-1&&o.push(239,191,189),i=null);if(t<128){if((n-=1)<0)break;o.push(t)}else if(t<2048){if((n-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<2097152))throw new Error("Invalid code point");if((n-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function a(e,t,n){var r="",i="";n=Math.min(e.length,n||1/0),t=t||0;for(var o=t;o<n;o++)e[o]<=127?(r+=s(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+s(i)}function s(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}t.a=r,t.b=i;var u=n(87);n.n(u)},function(e,t,n){"use strict";var r=function(){function e(){}return e.keyPresent=function(e,t){if(void 0===t[e])throw new Error("expected "+e+" to be present")},e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(e,t){this.id=e,this.providerType=t}return e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="api-key",e.DEFAULT_NAME="api-key",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="local-userpass",e.DEFAULT_NAME="local-userpass",e}();t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var r,i=function(){function e(){}return e}();!function(e){e[e.AUTH_EVENT=0]="AUTH_EVENT"}(r||(r={}))},function(e,t,n){"use strict";function r(e){return a+"/app/"+e}function i(e){return r(e)+"/functions/call"}function o(e){return r(e)+"/location"}n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o});var a="/api/client/v2.0"},function(e,t,n){"use strict";var r=n(0),i=n(58),o=function(){function e(){}return e.prototype.roundTrip=function(e){var t=Object(i.a)(e.url,{body:e.body,headers:e.headers,method:e.method,mode:"cors"}),n=t.then(function(e){return e.text()});return Promise.all([t,n]).then(function(e){var t=e[0],n=e[1],i={};return t.headers.forEach(function(e,t){i[t]=e}),new r.s(i,t.status,n)})},e.prototype.stream=function(e,t,n){throw void 0===t&&(t=!0),new r.z(r.A.StreamingNotSupported)},e}();t.a=o},function(e,t,n){"use strict";function r(){}function i(e){try{return e.then}catch(e){return v=e,m}}function o(e,t){try{return e(t)}catch(e){return v=e,m}}function a(e,t,n){try{e(t,n)}catch(e){return v=e,m}}function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==r&&y(e,this)}function u(e,t,n){return new e.constructor(function(i,o){var a=new s(r);a.then(i,o),l(e,new p(t,n,a))})}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);c(e,t)}function c(e,t){g(function(){var n=1===e._83?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._83?f(t.promise,e._18):d(t.promise,e._18));var r=o(n,e._18);r===m?d(t.promise,v):f(t.promise,r)})}function f(e,t){if(t===e)return d(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=i(t);if(n===m)return d(e,v);if(n===e.then&&t instanceof s)return e._83=3,e._18=t,void h(e);if("function"===typeof n)return void y(n.bind(t),e)}e._83=1,e._18=t,h(e)}function d(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),h(e)}function h(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function p(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function y(e,t){var n=!1,r=a(e,function(e){n||(n=!0,f(t,e))},function(e){n||(n=!0,d(t,e))});n||r!==m||(n=!0,d(t,v))}var g=n(69),v=null,m={};e.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(e,t){if(this.constructor!==s)return u(this,e,t);var n=new s(r);return l(this,new p(e,t,n)),n}},function(e,t){function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}function i(e,t){var n,r,i;return t?(e>>>=0,(i=0<=e&&e<256)&&(r=f[e])?r:(n=a(e,(0|e)<0?-1:0,!0),i&&(f[e]=n),n)):(e|=0,(i=-128<=e&&e<128)&&(r=c[e])?r:(n=a(e,e<0?-1:0,!1),i&&(c[e]=n),n))}function o(e,t){if(isNaN(e))return t?m:v;if(t){if(e<0)return m;if(e>=p)return A}else{if(e<=-y)return S;if(e+1>=y)return w}return e<0?o(-e,t).neg():a(e%h|0,e/h|0,t)}function a(e,t,r){return new n(e,t,r)}function s(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return s(e.substring(1),t,n).neg();for(var i=o(d(n,8)),a=v,u=0;u<e.length;u+=8){var l=Math.min(8,e.length-u),c=parseInt(e.substring(u,u+l),n);if(l<8){var f=o(d(n,l));a=a.mul(f).add(o(c))}else a=a.mul(i),a=a.add(o(c))}return a.unsigned=t,a}function u(e,t){return"number"===typeof e?o(e,t):"string"===typeof e?s(e,t):a(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}e.exports=n;var l=null;try{l=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var c={},f={};n.fromInt=i,n.fromNumber=o,n.fromBits=a;var d=Math.pow;n.fromString=s,n.fromValue=u;var h=4294967296,p=h*h,y=p/2,g=i(1<<24),v=i(0);n.ZERO=v;var m=i(0,!0);n.UZERO=m;var b=i(1);n.ONE=b;var _=i(1,!0);n.UONE=_;var E=i(-1);n.NEG_ONE=E;var w=a(-1,2147483647,!1);n.MAX_VALUE=w;var A=a(-1,-1,!0);n.MAX_UNSIGNED_VALUE=A;var S=a(0,-2147483648,!1);n.MIN_VALUE=S;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=o(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(d(e,6),this.unsigned),a=this,s="";;){var u=a.div(i),l=a.sub(u.mul(i)).toInt()>>>0,c=l.toString(e);if(a=u,a.isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(e){return r(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(r(e)||(e=u(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},T.neg=T.negate,T.add=function(e){r(e)||(e=u(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,l=65535&e.high,c=e.low>>>16,f=65535&e.low,d=0,h=0,p=0,y=0;return y+=o+f,p+=y>>>16,y&=65535,p+=i+c,h+=p>>>16,p&=65535,h+=n+l,d+=h>>>16,h&=65535,d+=t+s,d&=65535,a(p<<16|y,d<<16|h,this.unsigned)},T.subtract=function(e){return r(e)||(e=u(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=u(e)),l){return a(l.mul(this.low,this.high,e.low,e.high),l.get_high(),this.unsigned)}if(e.isZero())return v;if(this.eq(S))return e.isOdd()?S:v;if(e.eq(S))return this.isOdd()?S:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return o(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,c=e.high>>>16,f=65535&e.high,d=e.low>>>16,h=65535&e.low,p=0,y=0,m=0,b=0;return b+=s*h,m+=b>>>16,b&=65535,m+=i*h,y+=m>>>16,m&=65535,m+=s*d,y+=m>>>16,m&=65535,y+=n*h,p+=y>>>16,y&=65535,y+=i*d,p+=y>>>16,y&=65535,y+=s*f,p+=y>>>16,y&=65535,p+=t*h+n*d+i*f+s*c,p&=65535,a(m<<16|b,p<<16|y,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(r(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(l){if(!this.unsigned&&-2147483648===this.high&&-1===e.low&&-1===e.high)return this;return a((this.unsigned?l.div_u:l.div_s)(this.low,this.high,e.low,e.high),l.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?m:v;var t,n,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return _;i=m}else{if(this.eq(S)){if(e.eq(b)||e.eq(E))return S;if(e.eq(S))return b;return t=this.shr(1).div(e).shl(1),t.eq(v)?e.isNegative()?b:E:(n=this.sub(e.mul(t)),i=t.add(n.div(e)))}if(e.eq(S))return this.unsigned?m:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=v}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),c=s<=48?1:d(2,s-48),f=o(t),h=f.mul(e);h.isNegative()||h.gt(n);)t-=c,f=o(t,this.unsigned),h=f.mul(e);f.isZero()&&(f=b),i=i.add(f),n=n.sub(h)}return i},T.div=T.divide,T.modulo=function(e){if(r(e)||(e=u(e)),l){return a((this.unsigned?l.rem_u:l.rem_s)(this.low,this.high,e.low,e.high),l.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return a(~this.low,~this.high,this.unsigned)},T.and=function(e){return r(e)||(e=u(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return r(e)||(e=u(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return r(e)||(e=u(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;if(e<32){return a(this.low>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?a(t,0,this.unsigned):a(t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(2),i=n(16),o=n(9),a=n(24),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(e){function t(t,n){var r=e.call(this,t.method,t.path,t.headers,t.startedAt,t.body)||this;return r.document=n,r}return s(t,e),Object.defineProperty(t.prototype,"builder",{get:function(){return new t.Builder(this)},enumerable:!0,configurable:!0}),t}(a.a);!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return void 0!==e&&(n.document=e.document),n}return s(n,t),n.prototype.withDocument=function(e){return this.document=e,this},n.prototype.build=function(){if(void 0===this.document||!(this.document instanceof Object))throw new Error("document must be set");return void 0===this.headers&&this.withHeaders({}),this.headers[o.a.CONTENT_TYPE]=i.a.APPLICATION_JSON,this.withBody(r.a.stringify(this.document,{relaxed:!1})),new e(t.prototype.build.call(this),this.document)},n}(a.a.Builder);e.Builder=t}(u||(u={}))},function(e,t,n){"use strict";var r=n(18),i=n(26),o=function(){function e(e,t){this.eventStream=e,this.decoder=t,this.listeners=[]}return e.prototype.next=function(){var e=this;return this.eventStream.nextEvent().then(function(t){var n=i.a.fromEvent(t,e.decoder);if(n.eventName===i.a.ERROR_EVENT_NAME)throw n.error;return n.eventName===r.a.MESSAGE_EVENT?n.data:e.next()})},e.prototype.onNext=function(e){var t=this,n={onEvent:function(n){var o=i.a.fromEvent(n,t.decoder);o.eventName===r.a.MESSAGE_EVENT&&e(o.data)}};this.eventStream.addListener(n)},e.prototype.onError=function(e){var t=this,n={onEvent:function(n){var r=i.a.fromEvent(n,t.decoder);r.eventName===i.a.ERROR_EVENT_NAME&&e(r.error)}};this.eventStream.addListener(n)},e.prototype.addListener=function(e){var t=this,n={onEvent:function(n){var r=i.a.fromEvent(n,t.decoder);r.eventName===i.a.ERROR_EVENT_NAME?e.onError&&e.onError(r.error):e.onNext&&e.onNext(r.data)}};this.listeners.push([e,n]),this.eventStream.addListener(n)},e.prototype.removeListener=function(e){for(var t=-1,n=0;n<this.listeners.length;n++)if(this.listeners[n][0]===e){t=n;break}if(-1!==t){var r=this.listeners[t][1];this.listeners.splice(t,1),this.eventStream.removeListener(r)}},e.prototype.isOpen=function(){return this.eventStream.isOpen()},e.prototype.close=function(){this.eventStream.close()},e}();t.a=o},function(e,t,n){"use strict";var r=n(19),i=function(){function e(e,t,n,i,o,a,s){this.id=e,this.loggedInProviderType=t,this.loggedInProviderName=n,this.profile=void 0===a?r.a.empty():a,this.isLoggedIn=i,this.lastAuthActivity=o,this.customData=void 0===s?{}:s}return Object.defineProperty(e.prototype,"userType",{get:function(){return this.profile.userType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identities",{get:function(){return this.profile.identities},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return this.id===e.id&&JSON.stringify(this.identities)===JSON.stringify(e.identities)&&this.isLoggedIn===e.isLoggedIn&&this.loggedInProviderName===e.loggedInProviderName&&this.loggedInProviderType===e.loggedInProviderType&&JSON.stringify(this.profile)===JSON.stringify(e.profile)},e}();t.a=i},function(e,t,n){"use strict";var r=function(){function e(e,t,n,r){this.authInfo=e,this.providerType=t,this.providerName=n,this.asLink=r}return e}();t.a=r},function(e,t,n){"use strict";var r=n(28),i=function(){function e(e,t,n){this.expires=e,this.issuedAt=t,this.userData=n}return e.fromEncoded=function(t){var n=e.splitToken(t),i=JSON.parse(Object(r.a)(n[1]));return new e(i.exp,i.iat,i.user_data)},e.splitToken=function(e){var t=e.split(".");if(3!==t.length)throw new Error("Malformed JWT token. The string "+e+" should have 3 parts.");return t},e}();t.a=i},function(e,t,n){"use strict";var r,i=n(30),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.ID="id",e.PROVIDER_TYPE="provider_type"}(r||(r={}));var a=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.fromJSON=function(e){return new t(e[r.ID],e[r.PROVIDER_TYPE])},t.prototype.toJSON=function(){var e;return e={},e[r.ID]=this.id,e[r.PROVIDER_TYPE]=this.providerType,e},t}(i.a);t.a=a},function(e,t,n){"use strict";var r,i=n(30),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.ID="id",e.PROVIDER_TYPE="provider_type"}(r||(r={}));var a=function(e){function t(t,n){return e.call(this,t,n)||this}return o(t,e),t.decode=function(e){return new t(e[r.ID],e[r.PROVIDER_TYPE])},t.prototype.encode=function(){var e;return e={},e[r.ID]=this.id,e[r.PROVIDER_TYPE]=this.providerType,e},t}(i.a);t.a=a},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="custom-token",e.DEFAULT_NAME="custom-token",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="oauth2-facebook",e.DEFAULT_NAME="oauth2-facebook",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="custom-function",e.DEFAULT_NAME="custom-function",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="oauth2-google",e.DEFAULT_NAME="oauth2-google",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(){}return e.TYPE="api-key",e.DEFAULT_NAME="api-key",e}();t.a=r},function(e,t,n){"use strict";var r=function(){function e(e,t,n){this.providerName=e,this.requestClient=t,this.baseRoute=n}return e}();t.a=r},function(e,t,n){"use strict";var r,i=n(2),o=n(29);!function(e){e.ID="_id",e.KEY="key",e.NAME="name",e.DISABLED="disabled"}(r||(r={}));var a=function(){function e(e,t,n,r){this.id=i.b.ObjectID.createFromHexString(e),this.key=t,this.name=n,this.disabled=r}return e.readFromApi=function(t){var n="string"===typeof t?JSON.parse(t):t;return o.a.keyPresent(r.ID,n),o.a.keyPresent(r.NAME,n),o.a.keyPresent(r.DISABLED,n),new e(n[r.ID],n[r.KEY],n[r.NAME],n[r.DISABLED])},e.prototype.toJSON=function(){var e;return e={},e[r.ID]=this.id,e[r.KEY]=this.key,e[r.NAME]=this.name,e[r.DISABLED]=this.disabled,e},e}();t.a=a},function(e,t,n){"use strict";var r=n(2),i=n(22),o=n(28),a=n(7),s=n(23),u=n(10),l=n(33),c=function(){function e(e,t,n){this.serviceField="service",this.argumentsField="arguments",this.requestClient=e,this.serviceRoutes=t,this.serviceName=n,this.serviceBinders=[],this.allocatedStreams=[]}return e.prototype.callFunction=function(e,t,n){return this.requestClient.doAuthenticatedRequestWithDecoder(this.getCallServiceFunctionRequest(e,t),n)},e.prototype.streamFunction=function(e,t,n){var r=this;return this.requestClient.openAuthenticatedStreamWithDecoder(this.getStreamServiceFunctionRequest(e,t),n).then(function(e){return r.allocatedStreams.push(e),e})},e.prototype.bind=function(e){this.serviceBinders.push(e)},e.prototype.onRebindEvent=function(e){switch(e.type){case l.b.AUTH_EVENT:e.event.kind===i.a.ActiveUserChanged&&this.closeAllocatedStreams()}this.serviceBinders.forEach(function(t){t.onRebindEvent(e)})},e.prototype.getStreamServiceFunctionRequest=function(e,t){var n={name:e};void 0!==this.serviceName&&(n[this.serviceField]=this.serviceName),n[this.argumentsField]=t;var i=new u.a.Builder;return i.withMethod(a.a.GET).withPath(this.serviceRoutes.functionCallRoute+"?stitch_request="+encodeURIComponent(Object(o.b)(r.a.stringify(n)))),i.build()},e.prototype.getCallServiceFunctionRequest=function(e,t){var n={name:e};void 0!==this.serviceName&&(n[this.serviceField]=this.serviceName),n[this.argumentsField]=t;var r=new s.a.Builder;return r.withMethod(a.a.POST).withPath(this.serviceRoutes.functionCallRoute),r.withDocument(n),r.build()},e.prototype.closeAllocatedStreams=function(){this.allocatedStreams.forEach(function(e){e.isOpen()&&e.close()}),this.allocatedStreams=[]},e}();t.a=c},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(e,t,n,r){this.method=e,this.url=t,this.headers=n,this.body=r}return e}();!function(e){var t=function(){function t(e){e&&(this.method=e.method,this.url=e.url,this.headers=e.headers,this.body=e.body)}return t.prototype.withMethod=function(e){return this.method=e,this},t.prototype.withUrl=function(e){return this.url=e,this},t.prototype.withHeaders=function(e){return this.headers=e,this},t.prototype.withBody=function(e){return this.body=e,this},t.prototype.build=function(){if(void 0===this.method)throw new Error("must set method");if(void 0===this.url)throw new Error("must set non-empty url");return new e(this.method,this.url,void 0===this.headers?{}:this.headers,this.body)},t}();e.Builder=t}(r||(r={}))},function(e,t,n){"use strict";function r(e,t){return Object(a.c)(e)+"/auth/providers/"+t}function i(e,t){return r(e,t)+"/login"}function o(e,t){return i(e,t)+"?link=true"}var a=n(34),s=function(){function e(e){var t=this;this.baseAuthRoute=a.a+"/auth",this.sessionRoute=function(){return t.baseAuthRoute+"/session"}(),this.profileRoute=function(){return t.baseAuthRoute+"/profile"}(),this.clientAppId=e}return e.prototype.getAuthProviderRoute=function(e){return r(this.clientAppId,e)},e.prototype.getAuthProviderLoginRoute=function(e){return i(this.clientAppId,e)},e.prototype.getAuthProviderLinkRoute=function(e){return o(this.clientAppId,e)},e.prototype.getAuthProviderExtensionRoute=function(e,t){return this.getAuthProviderRoute(e)+"/"+t},e}();t.a=s},function(e,t,n){"use strict";function r(e,t,n){return n.statusCode>=200&&n.statusCode<300?n:Object(i.a)(n)}var i=n(14),o=n(3),a=n(5),s=n(6),u=n(53),l=function(){function e(e,t){this.baseUrl=e,this.transport=t}return e.prototype.doRequestToURL=function(e,t){return this.transport.roundTrip(this.buildRequest(e,t)).catch(function(e){throw new a.a(e,s.a.TRANSPORT_ERROR)}).then(function(n){return r(e,t,n)})},e.prototype.doStreamRequestToURL=function(e,t,n,r){return void 0===n&&(n=!0),this.transport.stream(this.buildRequest(e,t),n,r).catch(function(e){if(e instanceof o.a)throw e;throw new a.a(e,s.a.TRANSPORT_ERROR)})},e.prototype.buildRequest=function(e,t){return(new u.a.Builder).withMethod(e.method).withUrl(""+t+e.path).withHeaders(e.headers).withBody(e.body).build()},e}();t.a=l},function(e,t,n){"use strict";var r=n(57),i=n(54),o=n(34),a=function(){function e(e){this.clientAppId=e,this.authRoutes=new i.a(e),this.serviceRoutes=new r.a(e),this.appMetadataRoute=Object(o.b)(e),this.functionCallRoute=Object(o.d)(e)}return e}();t.a=a},function(e,t,n){"use strict";var r=n(34),i=function(){function e(e){this.clientAppId=e,this.functionCallRoute=Object(r.d)(e)}return e}();t.a=i},function(e,t,n){"use strict";function r(e){return e&&DataView.prototype.isPrototypeOf(e)}function i(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!==typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return w.iterable&&(t[Symbol.iterator]=function(){return t}),t}function s(e){this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function c(e){var t=new FileReader,n=l(t);return t.readAsArrayBuffer(e),n}function f(e){var t=new FileReader,n=l(t);return t.readAsText(e),n}function d(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:w.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:w.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:w.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():w.arrayBuffer&&w.blob&&r(e)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):w.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||S(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},w.blob&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=u(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(c)}),this.text=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},w.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e){var t=e.toUpperCase();return T.indexOf(t)>-1?t:e}function g(e,t){if(!(this instanceof g))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=y(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function m(e){var t=new s;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new s(t.headers),this.url=t.url||"",this._initBody(e)}function _(e,t){return new Promise(function(n,r){function i(){u.abort()}var a=new g(e,t);if(a.signal&&a.signal.aborted)return r(new N("Aborted","AbortError"));var u=new XMLHttpRequest;u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:m(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout(function(){n(new b(t,e))},0)},u.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},u.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},u.onabort=function(){setTimeout(function(){r(new N("Aborted","AbortError"))},0)},u.open(a.method,function(e){try{return""===e&&E.location.href?E.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?u.withCredentials=!0:"omit"===a.credentials&&(u.withCredentials=!1),"responseType"in u&&(w.blob?u.responseType="blob":w.arrayBuffer&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!t||"object"!==typeof t.headers||t.headers instanceof s?a.headers.forEach(function(e,t){u.setRequestHeader(t,e)}):Object.getOwnPropertyNames(t.headers).forEach(function(e){u.setRequestHeader(e,o(t.headers[e]))}),a.signal&&(a.signal.addEventListener("abort",i),u.onreadystatechange=function(){4===u.readyState&&a.signal.removeEventListener("abort",i)}),u.send("undefined"===typeof a._bodyInit?null:a._bodyInit)})}t.a=_;var E="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof E&&E,w={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};if(w.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(e){return e&&A.indexOf(Object.prototype.toString.call(e))>-1};s.prototype.append=function(e,t){e=i(e),t=o(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},s.prototype.delete=function(e){delete this.map[i(e)]},s.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},s.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},s.prototype.set=function(e,t){this.map[i(e)]=o(t)},s.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},s.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),a(e)},s.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),a(e)},s.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),a(e)},w.iterable&&(s.prototype[Symbol.iterator]=s.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},p.call(g.prototype),p.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];b.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var N=E.DOMException;try{new N}catch(e){N=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},N.prototype=Object.create(Error.prototype),N.prototype.constructor=N}_.polyfill=!0,E.fetch||(E.fetch=_,E.Headers=s,E.Request=g,E.Response=b)},function(e,t,n){"use strict";var r=n(139);n(61),n(60),n(62),n(63),n(64);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(61),i=function(){function e(e,t){this.name=e,this.service=t}return e.prototype.collection=function(e,t){return new r.a(e,this.name,this.service,t)},e}();t.a=i},function(e,t,n){"use strict";var r=n(140),i=n(62),o=n(141),a=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s=function(){function e(e,t,n,r){var i=this;this.name=e,this.databaseName=t,this.service=n,this.codec=r,this.namespace=this.databaseName+"."+this.name,this.baseOperationArgs=function(){return{collection:i.name,database:i.databaseName}}()}return e.prototype.withCollectionType=function(t){return new e(this.name,this.databaseName,this.service,t)},e.prototype.find=function(e,t){void 0===e&&(e={});var n=a({},this.baseOperationArgs);return n.query=e,t&&(t.limit&&(n.limit=t.limit),t.projection&&(n.project=t.projection),t.sort&&(n.sort=t.sort)),new i.a("find",n,this.service,this.codec)},e.prototype.findOne=function(e,t){void 0===e&&(e={});var n=a({},this.baseOperationArgs);return n.query=e,t&&(t.projection&&(n.project=t.projection),t.sort&&(n.sort=t.sort)),this.service.callFunction("findOne",[n],this.codec)},e.prototype.findOneAndUpdate=function(e,t,n){var r=a({},this.baseOperationArgs);return r.filter=e,r.update=t,n&&(n.projection&&(r.projection=n.projection),n.sort&&(r.sort=n.sort),n.upsert&&(r.upsert=!0),n.returnNewDocument&&(r.returnNewDocument=!0)),this.service.callFunction("findOneAndUpdate",[r],this.codec)},e.prototype.findOneAndReplace=function(e,t,n){var r=a({},this.baseOperationArgs);return r.filter=e,r.update=t,n&&(n.projection&&(r.projection=n.projection),n.sort&&(r.sort=n.sort),n.upsert&&(r.upsert=!0),n.returnNewDocument&&(r.returnNewDocument=!0)),this.service.callFunction("findOneAndReplace",[r],this.codec)},e.prototype.findOneAndDelete=function(e,t){var n=a({},this.baseOperationArgs);return n.filter=e,t&&(t.projection&&(n.projection=t.projection),t.sort&&(n.sort=t.sort)),this.service.callFunction("findOneAndDelete",[n],this.codec)},e.prototype.aggregate=function(e){var t=a({},this.baseOperationArgs);return t.pipeline=e,new i.a("aggregate",t,this.service,this.codec)},e.prototype.count=function(e,t){void 0===e&&(e={});var n=a({},this.baseOperationArgs);return n.query=e,t&&t.limit&&(n.limit=t.limit),this.service.callFunction("count",[n])},e.prototype.insertOne=function(e){var t=a({},this.baseOperationArgs);return t.document=this.generateObjectIdIfMissing(this.codec?this.codec.encode(e):e),this.service.callFunction("insertOne",[t],o.a.remoteInsertOneResultDecoder)},e.prototype.insertMany=function(e){var t=this,n=a({},this.baseOperationArgs);return n.documents=e.map(function(e){return t.generateObjectIdIfMissing(t.codec?t.codec.encode(e):e)}),this.service.callFunction("insertMany",[n],o.a.remoteInsertManyResultDecoder)},e.prototype.deleteOne=function(e){return this.executeDelete(e,!1)},e.prototype.deleteMany=function(e){return this.executeDelete(e,!0)},e.prototype.updateOne=function(e,t,n){return this.executeUpdate(e,t,n,!1)},e.prototype.updateMany=function(e,t,n){return this.executeUpdate(e,t,n,!0)},e.prototype.watch=function(e){var t=a({},this.baseOperationArgs);return void 0!==e&&(e instanceof Array?0!==e.length&&(t.ids=e):e instanceof Object&&(t.filter=e)),t.useCompactEvents=!1,this.service.streamFunction("watch",[t],new o.a.ChangeEventDecoder(this.codec))},e.prototype.watchCompact=function(e){var t=a({},this.baseOperationArgs);return t.ids=e,t.useCompactEvents=!0,this.service.streamFunction("watch",[t],new o.a.CompactChangeEventDecoder(this.codec))},e.prototype.executeDelete=function(e,t){var n=a({},this.baseOperationArgs);return n.query=e,this.service.callFunction(t?"deleteMany":"deleteOne",[n],o.a.remoteDeleteResultDecoder)},e.prototype.executeUpdate=function(e,t,n,r){void 0===r&&(r=!1);var i=a({},this.baseOperationArgs);return i.query=e,i.update=t,n&&n.upsert&&(i.upsert=n.upsert),this.service.callFunction(r?"updateMany":"updateOne",[i],o.a.remoteUpdateResultDecoder)},e.prototype.generateObjectIdIfMissing=function(e){if(!e._id){var t=e;return t._id=new r.a.ObjectID,t}return e},e}();t.a=s},function(e,t,n){"use strict";var r=function(){function e(e,t,n,r){this.command=e,this.args=t,this.service=n,r&&(this.collectionDecoder=new(function(){function e(){}return e.prototype.decode=function(e){return e instanceof Array?e.map(function(e){return r.decode(e)}):[r.decode(e)]},e}()))}return e.prototype.iterator=function(){return this.executeRead().then(function(e){return e[Symbol.iterator]()})},e.prototype.first=function(){return this.executeRead().then(function(e){return e[0]})},e.prototype.toArray=function(){return this.executeRead()},e.prototype.asArray=function(){return this.toArray()},e.prototype.executeRead=function(){return this.service.callFunction(this.command,[this.args],this.collectionDecoder)},e}();t.a=r},function(e,t,n){"use strict";function r(e){switch(e){case"insert":return i.Insert;case"delete":return i.Delete;case"replace":return i.Replace;case"update":return i.Update;default:return i.Unknown}}t.a=r;var i;!function(e){e.Insert="insert",e.Delete="delete",e.Replace="replace",e.Update="update",e.Unknown="unknown"}(i||(i={}))},function(e,t,n){"use strict";var r=function(){function e(e){var t={};e.forEach(function(e,n){t[n]=e}),this.insertedIds=t}return e}();t.a=r},function(e,t,n){"use strict";var r=n(146),i=function(){function e(e){this.proxy=e}return e.prototype.first=function(){return this.proxy.first()},e.prototype.toArray=function(){return this.proxy.toArray()},e.prototype.asArray=function(){return this.toArray()},e.prototype.iterator=function(){return this.proxy.iterator().then(function(e){return new r.a(e)})},e}();t.a=i},function(e,t,n){n(67),e.exports=n(72)},function(e,t,n){"use strict";"undefined"===typeof Promise&&(n(68).enable(),window.Promise=n(70)),n(71),Object.assign=n(20)},function(e,t,n){"use strict";function r(){l=!1,s._47=null,s._71=null}function i(e){function t(t){(e.allRejections||a(f[t].error,e.whitelist||u))&&(f[t].displayId=c++,e.onUnhandled?(f[t].logged=!0,e.onUnhandled(f[t].displayId,f[t].error)):(f[t].logged=!0,o(f[t].displayId,f[t].error)))}function n(t){f[t].logged&&(e.onHandled?e.onHandled(f[t].displayId,f[t].error):f[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+f[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+f[t].displayId+".")))}e=e||{},l&&r(),l=!0;var i=0,c=0,f={};s._47=function(e){2===e._83&&f[e._56]&&(f[e._56].logged?n(e._56):clearTimeout(f[e._56].timeout),delete f[e._56])},s._71=function(e,n){0===e._75&&(e._56=i++,f[e._56]={displayId:null,error:n,timeout:setTimeout(t.bind(null,e._56),a(n,u)?100:2e3),logged:!1})}}function o(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}function a(e,t){return t.some(function(t){return e instanceof t})}var s=n(36),u=[ReferenceError,TypeError,RangeError],l=!1;t.disable=r,t.enable=i},function(e,t,n){"use strict";(function(t){function n(e){a.length||(o(),s=!0),a[a.length]=e}function r(){for(;u<a.length;){var e=u;if(u+=1,a[e].call(),u>l){for(var t=0,n=a.length-u;t<n;t++)a[t]=a[t+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(e){return function(){function t(){clearTimeout(n),clearInterval(r),e()}var n=setTimeout(t,0),r=setInterval(t,50)}}e.exports=n;var o,a=[],s=!1,u=0,l=1024,c="undefined"!==typeof t?t:self,f=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof f?function(e){var t=1,n=new f(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(t,n(11))},function(e,t,n){"use strict";function r(e){var t=new i(i._44);return t._83=1,t._18=e,t}var i=n(36);e.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),l=r(0),c=r("");i.resolve=function(e){if(e instanceof i)return e;if(null===e)return s;if(void 0===e)return u;if(!0===e)return o;if(!1===e)return a;if(0===e)return l;if(""===e)return c;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new i(t.bind(e))}catch(e){return new i(function(t,n){n(e)})}return r(e)},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(e){r(a,e)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(e){r(a,e)},n)}}t[a]=s,0===--o&&e(t)}if(0===t.length)return e([]);for(var o=t.length,a=0;a<t.length;a++)r(a,t[a])})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){e.forEach(function(e){i.resolve(e).then(t,n)})})},i.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";function t(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!==typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return E.indexOf(t)>-1?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function y(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},f.call(h.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];g.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=h,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new h(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n.n(r),o=n(74),a=n.n(o),s=n(78),u=n(151);a.a.render(i.a.createElement(s.a,null),document.getElementById("root")),Object(u.a)()},function(e,t,n){"use strict";function r(e){return null===e||"object"!==typeof e?null:(e=O&&e[O]||e["@@iterator"],"function"===typeof e?e:null)}function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e,t,n){this.props=e,this.context=t,this.refs=R,this.updater=n||N}function a(){}function s(e,t,n){this.props=e,this.context=t,this.refs=R,this.updater=n||N}function u(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)D.call(t,r)&&!B.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:m,type:e,key:o,ref:a,props:i,_owner:I.current}}function l(e,t){return{$$typeof:m,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function c(e){return"object"===typeof e&&null!==e&&e.$$typeof===m}function f(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}function d(e,t){return"object"===typeof e&&null!==e&&null!=e.key?f(""+e.key):t.toString(36)}function h(e,t,n,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case m:case b:u=!0}}if(u)return u=e,a=a(u),e=""===o?"."+d(u,0):o,Array.isArray(a)?(n="",null!=e&&(n=e.replace(P,"$&/")+"/"),h(a,t,n,"",function(e){return e})):null!=a&&(c(a)&&(a=l(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",Array.isArray(e))for(var f=0;f<e.length;f++){s=e[f];var p=o+d(s,f);u+=h(s,t,n,p,a)}else if("function"===typeof(p=r(e)))for(e=p.call(e),f=0;!(s=e.next()).done;)s=s.value,p=o+d(s,f++),u+=h(s,t,n,p,a);else if("object"===s)throw t=""+e,Error(i(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function p(e,t,n){if(null==e)return e;var r=[],i=0;return h(e,r,"","",function(e){return t.call(n,e,i++)}),r}function y(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)})}if(1===e._status)return e._result;throw e._result}function g(){var e=C.current;if(null===e)throw Error(i(321));return e}var v=n(20),m=60103,b=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var _=60109,E=60110,w=60112;t.Suspense=60113;var A=60115,S=60116;if("function"===typeof Symbol&&Symbol.for){var T=Symbol.for;m=T("react.element"),b=T("react.portal"),t.Fragment=T("react.fragment"),t.StrictMode=T("react.strict_mode"),t.Profiler=T("react.profiler"),_=T("react.provider"),E=T("react.context"),w=T("react.forward_ref"),t.Suspense=T("react.suspense"),A=T("react.memo"),S=T("react.lazy")}var O="function"===typeof Symbol&&Symbol.iterator,N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R={};o.prototype.isReactComponent={},o.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(i(85));this.updater.enqueueSetState(this,e,t,"setState")},o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},a.prototype=o.prototype;var k=s.prototype=new a;k.constructor=s,v(k,o.prototype),k.isPureReactComponent=!0;var I={current:null},D=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0},P=/\/+/g,C={current:null},L={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:I,IsSomeRendererActing:{current:!1},assign:v};t.Children={map:p,forEach:function(e,t,n){p(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return p(e,function(){t++}),t},toArray:function(e){return p(e,function(e){return e})||[]},only:function(e){if(!c(e))throw Error(i(143));return e}},t.Component=o,t.PureComponent=s,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(i(267,e));var r=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=I.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)D.call(t,l)&&!B.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:m,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),e={$$typeof:E,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:_,_context:e},e.Consumer=e},t.createElement=u,t.createFactory=function(e){var t=u.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:w,render:e}},t.isValidElement=c,t.lazy=function(e){return{$$typeof:S,_payload:{_status:-1,_result:e},_init:y}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return g().useCallback(e,t)},t.useContext=function(e,t){return g().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return g().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return g().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return g().useLayoutEffect(e,t)},t.useMemo=function(e,t){return g().useMemo(e,t)},t.useReducer=function(e,t,n){return g().useReducer(e,t,n)},t.useRef=function(e){return g().useRef(e)},t.useState=function(e){return g().useState(e)},t.version="17.0.1"},function(e,t,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}r(),e.exports=n(75)},function(e,t,n){"use strict";function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e,t){o(e,t),o(e+"Capture",t)}function o(e,t){for(Hi[e]=t,e=0;e<t.length;e++)Wi.add(t[e])}function a(e){return!!Ji.call(Zi,e)||!Ji.call(Qi,e)&&(Xi.test(e)?Zi[e]=!0:(Qi[e]=!0,!1))}function s(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function u(e,t,n,r){if(null===t||"undefined"===typeof t||s(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function l(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}function c(e){return e[1].toUpperCase()}function f(e,t,n,r){var i=eo.hasOwnProperty(t)?eo[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(u(t,n,i,r)&&(n=null),r||null===i?a(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function d(e){return null===e||"object"!==typeof e?null:(e=So&&e[So]||e["@@iterator"],"function"===typeof e?e:null)}function h(e){if(void 0===wo)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);wo=t&&t[1]||""}return"\n"+wo+e}function p(e,t){if(!e||To)return"";To=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"===typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{To=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?h(e):""}function y(e){switch(e.tag){case 5:return h(e.type);case 16:return h("Lazy");case 13:return h("Suspense");case 19:return h("SuspenseList");case 0:case 2:case 15:return e=p(e.type,!1);case 11:return e=p(e.type.render,!1);case 22:return e=p(e.type._render,!1);case 1:return e=p(e.type,!0);default:return""}}function g(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case oo:return"Fragment";case io:return"Portal";case so:return"Profiler";case ao:return"StrictMode";case fo:return"Suspense";case ho:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case lo:return(e.displayName||"Context")+".Consumer";case uo:return(e._context.displayName||"Context")+".Provider";case co:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case po:return g(e.type);case go:return g(e._render);case yo:t=e._payload,e=e._init;try{return g(e(t))}catch(e){}}return null}function v(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function m(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function b(e){var t=m(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _(e){e._valueTracker||(e._valueTracker=b(e))}function E(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=m(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function w(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function A(e,t){var n=t.checked;return Vi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function S(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=v(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function T(e,t){null!=(t=t.checked)&&f(e,"checked",t,!1)}function O(e,t){T(e,t);var n=v(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?R(e,t.type,n):t.hasOwnProperty("defaultValue")&&R(e,t.type,v(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function N(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,""!==n&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function R(e,t,n){"number"===t&&w(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function k(e){var t="";return Yi.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}function I(e,t){return e=Vi({children:void 0},t),(t=k(t.children))&&(e.children=t),e}function D(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+v(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function B(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return Vi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function P(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:v(n)}}function C(e,t){var n=v(t.value),r=v(t.defaultValue);null!=n&&(n=""+n,n!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function L(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function x(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?x(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}function M(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function F(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function j(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=F(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}function $(e,t){if(t){if(Io[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if(!("object"===typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function z(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function G(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Y(e){if(e=It(e)){if("function"!==typeof Do)throw Error(r(280));var t=e.stateNode;t&&(t=Bt(t),Do(e.stateNode,e.type,t))}}function V(e){Bo?Po?Po.push(e):Po=[e]:Bo=e}function K(){if(Bo){var e=Bo,t=Po;if(Po=Bo=null,Y(e),t)for(e=0;e<t.length;e++)Y(t[e])}}function W(e,t){return e(t)}function H(e,t,n,r,i){return e(t,n,r,i)}function q(){}function X(){null===Bo&&null===Po||(q(),K())}function J(e,t,n){if(xo)return e(t,n);xo=!0;try{return Co(e,t,n)}finally{xo=!1,X()}}function Q(e,t){var n=e.stateNode;if(null===n)return null;var i=Bt(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!("button"===e||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}function Z(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}function ee(e,t,n,r,i,o,a,s,u){Go=!1,Yo=null,Z.apply(Wo,arguments)}function te(e,t,n,i,o,a,s,u,l){if(ee.apply(this,arguments),Go){if(!Go)throw Error(r(198));var c=Yo;Go=!1,Yo=null,Vo||(Vo=!0,Ko=c)}}function ne(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{t=e,0!==(1026&t.flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function re(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function ie(e){if(ne(e)!==e)throw Error(r(188))}function oe(e){var t=e.alternate;if(!t){if(null===(t=ne(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ie(o),e;if(a===i)return ie(o),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,i=a;break}if(u===i){s=!0,i=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,i=o;break}if(u===i){s=!0,i=a,n=o;break}u=u.sibling}if(!s)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function ae(e){if(!(e=oe(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function se(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}function ue(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function le(e,t){switch(e){case"focusin":case"focusout":Xo=null;break;case"dragenter":case"dragleave":Jo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":Zo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(t.pointerId)}}function ce(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ue(t,n,r,i,o),null!==t&&null!==(t=It(t))&&jo(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function fe(e,t,n,r,i){switch(t){case"focusin":return Xo=ce(Xo,e,t,n,r,i),!0;case"dragenter":return Jo=ce(Jo,e,t,n,r,i),!0;case"mouseover":return Qo=ce(Qo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zo.set(o,ce(Zo.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ea.set(o,ce(ea.get(o)||null,e,t,n,r,i)),!0}return!1}function de(e){var t=kt(e.target);if(null!==t){var n=ne(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=re(n)))return e.blockedOn=t,void zo(e.lanePriority,function(){Ki.unstable_runWithPriority(e.priority,function(){$o(n)})})}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function he(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ce(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return t=It(n),null!==t&&jo(t),e.blockedOn=n,!1;t.shift()}return!0}function pe(e,t,n){he(e)&&n.delete(t)}function ye(){for(Ho=!1;0<qo.length;){var e=qo[0];if(null!==e.blockedOn){e=It(e.blockedOn),null!==e&&Fo(e);break}for(var t=e.targetContainers;0<t.length;){var n=Ce(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&qo.shift()}null!==Xo&&he(Xo)&&(Xo=null),null!==Jo&&he(Jo)&&(Jo=null),null!==Qo&&he(Qo)&&(Qo=null),Zo.forEach(pe),ea.forEach(pe)}function ge(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,Ki.unstable_scheduleCallback(Ki.unstable_NormalPriority,ye)))}function ve(e){function t(t){return ge(t,e)}if(0<qo.length){ge(qo[0],e);for(var n=1;n<qo.length;n++){var r=qo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Xo&&ge(Xo,e),null!==Jo&&ge(Jo,e),null!==Qo&&ge(Qo,e),Zo.forEach(t),ea.forEach(t),n=0;n<ta.length;n++)r=ta[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ta.length&&(n=ta[0],null===n.blockedOn);)de(n),null===n.blockedOn&&ta.shift()}function me(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}function be(e){if(ia[e])return ia[e];if(!ra[e])return e;var t,n=ra[e];for(t in n)if(n.hasOwnProperty(t)&&t in oa)return ia[e]=n[t];return e}function _e(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),fa.set(r,t),ca.set(r,o),i(o,[r])}}function Ee(e){if(0!==(1&e))return ga=15,1;if(0!==(2&e))return ga=14,2;if(0!==(4&e))return ga=13,4;var t=24&e;return 0!==t?(ga=12,t):0!==(32&e)?(ga=11,32):0!==(t=192&e)?(ga=10,t):0!==(256&e)?(ga=9,256):0!==(t=3584&e)?(ga=8,t):0!==(4096&e)?(ga=7,4096):0!==(t=4186112&e)?(ga=6,t):0!==(t=62914560&e)?(ga=5,t):67108864&e?(ga=4,67108864):0!==(134217728&e)?(ga=3,134217728):0!==(t=805306368&e)?(ga=2,t):0!==(1073741824&e)?(ga=1,1073741824):(ga=8,e)}function we(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ae(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(r(358,e))}}function Se(e,t){var n=e.pendingLanes;if(0===n)return ga=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=ga=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Ee(u),i=ga):0!==(s&=o)&&(r=Ee(s),i=ga)}else o=n&~a,0!==o?(r=Ee(o),i=ga):0!==s&&(r=Ee(s),i=ga);if(0===r)return 0;if(r=31-va(r),r=n&((0>r?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Ee(t),i<=ga)return t;ga=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=31-va(t),i=1<<n,r|=e[n],t&=~i;return r}function Te(e){return e=-1073741825&e.pendingLanes,0!==e?e:1073741824&e?1073741824:0}function Oe(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Ne(24&~t),0===e?Oe(10,t):e;case 10:return e=Ne(192&~t),0===e?Oe(8,t):e;case 8:return e=Ne(3584&~t),0===e&&0===(e=Ne(4186112&~t))&&(e=512),e;case 2:return t=Ne(805306368&~t),0===t&&(t=268435456),t}throw Error(r(358,e))}function Ne(e){return e&-e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ke(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e=e.eventTimes,t=31-va(t),e[t]=n}function Ie(e){return 0===e?32:31-(ma(e)/ba|0)|0}function De(e,t,n,r){Lo||q();var i=Pe,o=Lo;Lo=!0;try{H(i,e,t,n,r)}finally{(Lo=o)||X()}}function Be(e,t,n,r){Ea(_a,Pe.bind(null,e,t,n,r))}function Pe(e,t,n,r){if(wa){var i;if((i=0===(4&t))&&0<qo.length&&-1<na.indexOf(e))e=ue(null,e,t,n,r),qo.push(e);else{var o=Ce(e,t,n,r);if(null===o)i&&le(e,r);else{if(i){if(-1<na.indexOf(e))return e=ue(o,e,t,n,r),void qo.push(e);if(fe(o,e,t,n,r))return;le(e,r)}vt(e,t,r,null,n)}}}}function Ce(e,t,n,r){var i=G(r);if(null!==(i=kt(i))){var o=ne(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=re(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return vt(e,t,r,i,n),null}function Le(){if(Ta)return Ta;var e,t,n=Sa,r=n.length,i="value"in Aa?Aa.value:Aa.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Ta=i.slice(e,1<t?1-t:void 0)}function xe(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ue(){return!0}function Me(){return!1}function Fe(e){function t(t,n,r,i,o){this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ue:Me,this.isPropagationStopped=Me,this}return Vi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ue)},persist:function(){},isPersistent:Ue}),t}function je(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ya[e])&&!!t[e]}function $e(){return je}function ze(e,t){switch(e){case"keyup":return-1!==ts.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ge(e){return e=e.detail,"object"===typeof e&&"data"in e?e.data:null}function Ye(e,t){switch(e){case"compositionend":return Ge(t);case"keypress":return 32!==t.which?null:(ss=!0,as);case"textInput":return e=t.data,e===as&&ss?null:e;default:return null}}function Ve(e,t){if(us)return"compositionend"===e||!ns&&ze(e,t)?(e=Le(),Ta=Sa=Aa=null,us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return os&&"ko"!==t.locale?null:t.data;default:return null}}function Ke(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ls[e.type]:"textarea"===t}function We(e,t,n,r){V(r),t=bt(t,"onChange"),0<t.length&&(n=new Na("onChange","change",null,n,r),e.push({event:n,listeners:t}))}function He(e){dt(e,0)}function qe(e){if(E(Dt(e)))return e}function Xe(e,t){if("change"===e)return t}function Je(){cs&&(cs.detachEvent("onpropertychange",Qe),fs=cs=null)}function Qe(e){if("value"===e.propertyName&&qe(fs)){var t=[];if(We(t,fs,e,G(e)),e=He,Lo)e(t);else{Lo=!0;try{W(e,t)}finally{Lo=!1,X()}}}}function Ze(e,t,n){"focusin"===e?(Je(),cs=t,fs=n,cs.attachEvent("onpropertychange",Qe)):"focusout"===e&&Je()}function et(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qe(fs)}function tt(e,t){if("click"===e)return qe(t)}function nt(e,t){if("input"===e||"change"===e)return qe(t)}function rt(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t}function it(e,t){if(gs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!vs.call(t,n[r])||!gs(e[n[r]],t[n[r]]))return!1;return!0}function ot(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function at(e,t){var n=ot(e);e=0;for(var r;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ot(n)}}function st(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?st(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ut(){for(var e=window,t=w();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;e=t.contentWindow,t=w(e.document)}return t}function lt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ct(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ws||null==bs||bs!==w(r)||(r=bs,"selectionStart"in r&&lt(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Es&&it(Es,r)||(Es=r,r=bt(_s,"onSelect"),0<r.length&&(t=new Na("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bs)))}function ft(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,te(r,t,void 0,e),e.currentTarget=null}function dt(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;ft(i,s,l),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;ft(i,s,l),o=u}}}if(Vo)throw e=Ko,Vo=!1,Ko=null,e}function ht(e,t){var n=Pt(t),r=e+"__bubble";n.has(r)||(gt(t,e,2,!1),n.add(r))}function pt(e){e[Ds]||(e[Ds]=!0,Wi.forEach(function(t){Is.has(t)||yt(t,!1,e,null),yt(t,!0,e,null)}))}function yt(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Is.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=Pt(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),gt(o,e,i,t),a.add(s))}function gt(e,t,n,r){var i=fa.get(t);switch(void 0===i?2:i){case 0:i=De;break;case 1:i=Be;break;default:i=Pe}n=i.bind(null,t,n,e),i=void 0,!Uo||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function vt(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=kt(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}J(function(){var r=o,i=G(n),a=[];e:{var s=ca.get(e);if(void 0!==s){var u=Na,l=e;switch(e){case"keypress":if(0===xe(n))break e;case"keydown":case"keyup":u=Ka;break;case"focusin":l="focus",u=La;break;case"focusout":l="blur",u=La;break;case"beforeblur":case"afterblur":u=La;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Xa;break;case aa:case sa:case ua:u=Ua;break;case la:u=Qa;break;case"scroll":u=ka;break;case"wheel":u=es;break;case"copy":case"cut":case"paste":u=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ha}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){h=p;var y=h.stateNode;if(5===h.tag&&null!==y&&(h=y,null!==d&&null!=(y=Q(p,d))&&c.push(mt(p,y,h))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(s="mouseover"===e||"pointerover"===e,u="mouseout"===e||"pointerout"===e,(!s||0!==(16&t)||!(l=n.relatedTarget||n.fromElement)||!kt(l)&&!l[js])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(l=n.relatedTarget||n.toElement,u=r,null!==(l=l?kt(l):null)&&(f=ne(l),l!==f||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=Da,y="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Ha,y="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:Dt(u),h=null==l?s:Dt(l),s=new c(y,p+"leave",u,n,i),s.target=f,s.relatedTarget=h,y=null,kt(i)===r&&(c=new c(d,p+"enter",l,n,i),c.target=h,c.relatedTarget=f,y=c),f=y,u&&l)e:{for(c=u,d=l,p=0,h=c;h;h=_t(h))p++;for(h=0,y=d;y;y=_t(y))h++;for(;0<p-h;)c=_t(c),p--;for(;0<h-p;)d=_t(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=_t(c),d=_t(d)}c=null}else c=null;null!==u&&Et(a,s,u,c,!1),null!==l&&null!==f&&Et(a,f,l,c,!0)}if(s=r?Dt(r):window,"select"===(u=s.nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Xe;else if(Ke(s))if(ds)g=nt;else{g=et;var v=Ze}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=tt);switch(g&&(g=g(e,r))?We(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&R(s,"number",s.value)),v=r?Dt(r):window,e){case"focusin":(Ke(v)||"true"===v.contentEditable)&&(bs=v,_s=r,Es=null);break;case"focusout":Es=_s=bs=null;break;case"mousedown":ws=!0;break;case"contextmenu":case"mouseup":case"dragend":ws=!1,ct(a,n,i);break;case"selectionchange":if(ms)break;case"keydown":case"keyup":ct(a,n,i)}var m;if(ns)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else us?ze(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(os&&"ko"!==n.locale&&(us||"onCompositionStart"!==b?"onCompositionEnd"===b&&us&&(m=Le()):(Aa=i,Sa="value"in Aa?Aa.value:Aa.textContent,us=!0)),v=bt(r,b),0<v.length&&(b=new $a(b,e,null,n,i),a.push({event:b,listeners:v}),m?b.data=m:null!==(m=Ge(n))&&(b.data=m))),(m=is?Ye(e,n):Ve(e,n))&&(r=bt(r,"onBeforeInput"),0<r.length&&(i=new $a("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}dt(a,t)})}function mt(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bt(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,o=Q(e,n),null!=o&&r.unshift(mt(e,o,i)),null!=(o=Q(e,t))&&r.push(mt(e,o,i))),e=e.return}return r}function _t(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Et(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Q(n,o))&&a.unshift(mt(n,u,s)):i||null!=(u=Q(n,o))&&a.push(mt(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function wt(){}function At(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function St(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Tt(e){1===e.nodeType?e.textContent="":9===e.nodeType&&null!=(e=e.body)&&(e.textContent="")}function Ot(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Nt(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Rt(e){return{$$typeof:vo,toString:e,valueOf:e}}function kt(e){var t=e[Ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[js]||n[Ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Nt(e);null!==e;){if(n=e[Ms])return n;e=Nt(e)}return t}e=n,n=e.parentNode}return null}function It(e){return e=e[Ms]||e[js],!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dt(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Bt(e){return e[Fs]||null}function Pt(e){var t=e[$s];return void 0===t&&(t=e[$s]=new Set),t}function Ct(e){return{current:e}}function Lt(e){0>Gs||(e.current=zs[Gs],zs[Gs]=null,Gs--)}function xt(e,t){Gs++,zs[Gs]=e.current,e.current=t}function Ut(e,t){var n=e.type.contextTypes;if(!n)return Ys;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ft(){Lt(Ks),Lt(Vs)}function jt(e,t,n){if(Vs.current!==Ys)throw Error(r(168));xt(Vs,t),xt(Ks,n)}function $t(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(r(108,g(t)||"Unknown",o));return Vi({},n,i)}function zt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ys,Ws=Vs.current,xt(Vs,e),xt(Ks,Ks.current),!0}function Gt(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=$t(e,t,Ws),i.__reactInternalMemoizedMergedChildContext=e,Lt(Ks),Lt(Vs),xt(Vs,e)):Lt(Ks),xt(Ks,n)}function Yt(){switch(nu()){case ru:return 99;case iu:return 98;case ou:return 97;case au:return 96;case su:return 95;default:throw Error(r(332))}}function Vt(e){switch(e){case 99:return ru;case 98:return iu;case 97:return ou;case 96:return au;case 95:return su;default:throw Error(r(332))}}function Kt(e,t){return e=Vt(e),Xs(e,t)}function Wt(e,t,n){return e=Vt(e),Js(e,t,n)}function Ht(){if(null!==fu){var e=fu;fu=null,Qs(e)}qt()}function qt(){if(!du&&null!==cu){du=!0;var e=0;try{var t=cu;Kt(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),cu=null}catch(t){throw null!==cu&&(cu=cu.slice(e+1)),Js(ru,Ht),t}finally{du=!1}}}function Xt(e,t){if(e&&e.defaultProps){t=Vi({},t),e=e.defaultProps;for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Jt(){bu=mu=vu=null}function Qt(e){var t=gu.current;Lt(gu),e.type._context._currentValue=t}function Zt(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function en(e,t){vu=e,bu=mu=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Hu=!0),e.firstContext=null)}function tn(e,t){if(bu!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(bu=e,t=1073741823),t={context:e,observedBits:t,next:null},null===mu){if(null===vu)throw Error(r(308));mu=t,vu.dependencies={lanes:0,firstContext:t,responders:null}}else mu=mu.next=t;return e._currentValue}function nn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t){if(null!==(e=e.updateQueue)){e=e.shared;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function sn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&(r=r.updateQueue,n===r)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}e=n.lastBaseUpdate,null===e?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function un(e,t,n,r){var i=e.updateQueue;_u=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;if(null!==c){c=c.updateQueue;var f=c.lastBaseUpdate;f!==a&&(null===f?c.firstBaseUpdate=l:f.next=l,c.lastBaseUpdate=u)}}if(null!==o){for(f=i.baseState,a=0,c=l=u=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==c&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,p=o;switch(s=t,d=n,p.tag){case 1:if("function"===typeof(h=p.payload)){f=h.call(d,f,s);break e}f=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(h=p.payload,null===(s="function"===typeof h?h.call(d,f,s):h)||void 0===s)break e;f=Vi({},f,s);break e;case 2:_u=!0}}null!==o.callback&&(e.flags|=32,s=i.effects,null===s?i.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,fl|=a,e.lanes=a,e.memoizedState=f}}function ln(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(r(191,o));o.call(i)}}}function cn(e,t,n,r){t=e.memoizedState,n=n(r,t),n=null===n||void 0===n?t:Vi({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function fn(e,t,n,r,i,o,a){return e=e.stateNode,"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!it(n,r)||!it(i,o))}function dn(e,t,n){var r=!1,i=Ys,o=t.contextType;return"object"===typeof o&&null!==o?o=tn(o):(i=Mt(t)?Ws:Vs.current,r=t.contextTypes,o=(r=null!==r&&void 0!==r)?Ut(e,i):Ys),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function hn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wu.enqueueReplaceState(t,t.state,null)}function pn(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Eu,nn(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=tn(o):(o=Mt(t)?Ws:Vs.current,i.context=Ut(e,o)),un(e,n,i,r),i.state=e.memoizedState,o=t.getDerivedStateFromProps,"function"===typeof o&&(cn(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wu.enqueueReplaceState(i,i.state,null),un(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}function yn(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Eu&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function gn(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function vn(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return e=Oi(e,t),e.index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index,r<n?(t.flags=2,n):r):(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?(t=Ii(n,e.mode,r),t.return=e,t):(t=o(t,n),t.return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?(r=o(t,n.props),r.ref=yn(e,t,n),r.return=e,r):(r=Ni(n.type,n.key,n.props,null,e.mode,r),r.ref=yn(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=Di(n,e.mode,r),t.return=e,t):(t=o(t,n.children||[]),t.return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?(t=Ri(n,e.mode,r,i),t.return=e,t):(t=o(t,n),t.return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return t=Ii(""+t,e.mode,n),t.return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ro:return n=Ni(t.type,t.key,t.props,null,e.mode,n),n.ref=yn(e,null,t),n.return=e,n;case io:return t=Di(t,e.mode,n),t.return=e,t}if(Au(t)||d(t))return t=Ri(t,e.mode,n,null),t.return=e,t;gn(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ro:return n.key===i?n.type===oo?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case io:return n.key===i?c(e,t,n,r):null}if(Au(n)||d(n))return null!==i?null:f(e,t,n,r,null);gn(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return e=e.get(n)||null,u(t,e,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ro:return e=e.get(null===r.key?n:r.key)||null,r.type===oo?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case io:return e=e.get(null===r.key?n:r.key)||null,c(t,e,r,i)}if(Au(r)||d(r))return e=e.get(n)||null,f(t,e,r,i,null);gn(t,r)}return null}function v(r,o,s,u){for(var l=null,c=null,f=o,d=o=0,g=null;null!==f&&d<s.length;d++){f.index>d?(g=f,f=null):g=f.sibling;var v=p(r,f,s[d],u);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),o=a(v,o,d),null===c?l=v:c.sibling=v,c=v,f=g}if(d===s.length)return n(r,f),l;if(null===f){for(;d<s.length;d++)null!==(f=h(r,s[d],u))&&(o=a(f,o,d),null===c?l=f:c.sibling=f,c=f);return l}for(f=i(r,f);d<s.length;d++)null!==(g=y(f,r,d,s[d],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?d:g.key),o=a(g,o,d),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach(function(e){return t(r,e)}),l}function m(o,s,u,l){var c=d(u);if("function"!==typeof c)throw Error(r(150));if(null==(u=c.call(u)))throw Error(r(151));for(var f=c=null,g=s,v=s=0,m=null,b=u.next();null!==g&&!b.done;v++,b=u.next()){g.index>v?(m=g,g=null):m=g.sibling;var _=p(o,g,b.value,l);if(null===_){null===g&&(g=m);break}e&&g&&null===_.alternate&&t(o,g),s=a(_,s,v),null===f?c=_:f.sibling=_,f=_,g=m}if(b.done)return n(o,g),c;if(null===g){for(;!b.done;v++,b=u.next())null!==(b=h(o,b.value,l))&&(s=a(b,s,v),null===f?c=b:f.sibling=b,f=b);return c}for(g=i(o,g);!b.done;v++,b=u.next())null!==(b=y(g,o,v,b.value,l))&&(e&&null!==b.alternate&&g.delete(null===b.key?v:b.key),s=a(b,s,v),null===f?c=b:f.sibling=b,f=b);return e&&g.forEach(function(e){return t(o,e)}),c}return function(e,i,a,u){var l="object"===typeof a&&null!==a&&a.type===oo&&null===a.key;l&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case ro:e:{for(c=a.key,l=i;null!==l;){if(l.key===c){switch(l.tag){case 7:if(a.type===oo){n(e,l.sibling),i=o(l,a.props.children),i.return=e,e=i;break e}break;default:if(l.elementType===a.type){n(e,l.sibling),i=o(l,a.props),i.ref=yn(e,l,a),i.return=e,e=i;break e}}n(e,l);break}t(e,l),l=l.sibling}a.type===oo?(i=Ri(a.props.children,e.mode,u,a.key),i.return=e,e=i):(u=Ni(a.type,a.key,a.props,null,e.mode,u),u.ref=yn(e,i,a),u.return=e,e=u)}return s(e);case io:e:{for(l=a.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(e,i.sibling),i=o(i,a.children||[]),i.return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}i=Di(a,e.mode,u),i.return=e,e=i}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==i&&6===i.tag?(n(e,i.sibling),i=o(i,a),i.return=e,e=i):(n(e,i),i=Ii(a,e.mode,u),i.return=e,e=i),s(e);if(Au(a))return v(e,i,a,u);if(d(a))return m(e,i,a,u);if(c&&gn(e,a),"undefined"===typeof a&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(r(152,g(e.type)||"Component"))}return n(e,i)}}function mn(e){if(e===Ou)throw Error(r(174));return e}function bn(e,t){switch(xt(ku,t),xt(Ru,e),xt(Nu,Ou),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:U(null,"");break;default:e=8===e?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=U(t,e)}Lt(Nu),xt(Nu,t)}function _n(){Lt(Nu),Lt(Ru),Lt(ku)}function En(e){mn(ku.current);var t=mn(Nu.current),n=U(t,e.type);t!==n&&(xt(Ru,e),xt(Nu,n))}function wn(e){Ru.current===e&&(Lt(Nu),Lt(Ru))}function An(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Sn(e,t){var n=Ai(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Tn(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function On(e){if(Pu){var t=Bu;if(t){var n=t;if(!Tn(e,t)){if(!(t=Ot(n.nextSibling))||!Tn(e,t))return e.flags=-1025&e.flags|2,Pu=!1,void(Du=e);Sn(Du,n)}Du=e,Bu=Ot(t.firstChild)}else e.flags=-1025&e.flags|2,Pu=!1,Du=e}}function Nn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Du=e}function Rn(e){if(e!==Du)return!1;if(!Pu)return Nn(e),Pu=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!St(t,e.memoizedProps))for(t=Bu;t;)Sn(e,t),t=Ot(t.nextSibling);if(Nn(e),13===e.tag){if(e=e.memoizedState,!(e=null!==e?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Bu=Ot(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Bu=null}}else Bu=Du?Ot(e.stateNode.nextSibling):null;return!0}function kn(){Bu=Du=null,Pu=!1}function In(){for(var e=0;e<Cu.length;e++)Cu[e]._workInProgressVersionPrimary=null;Cu.length=0}function Dn(){throw Error(r(321))}function Bn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gs(e[n],t[n]))return!1;return!0}function Pn(e,t,n,i,o,a){if(Uu=a,Mu=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lu.current=null===e||null===e.memoizedState?Yu:Vu,e=n(i,o),zu){a=0;do{if(zu=!1,!(25>a))throw Error(r(301));a+=1,ju=Fu=null,t.updateQueue=null,Lu.current=Ku,e=n(i,o)}while(zu)}if(Lu.current=Gu,t=null!==Fu&&null!==Fu.next,Uu=0,ju=Fu=Mu=null,$u=!1,t)throw Error(r(300));return e}function Cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ju?Mu.memoizedState=ju=e:ju=ju.next=e,ju}function Ln(){if(null===Fu){var e=Mu.alternate;e=null!==e?e.memoizedState:null}else e=Fu.next;var t=null===ju?Mu.memoizedState:ju.next;if(null!==t)ju=t,Fu=e;else{if(null===e)throw Error(r(310));Fu=e,e={memoizedState:Fu.memoizedState,baseState:Fu.baseState,baseQueue:Fu.baseQueue,queue:Fu.queue,next:null},null===ju?Mu.memoizedState=ju=e:ju=ju.next=e}return ju}function xn(e,t){return"function"===typeof t?t(e):t}function Un(e){var t=Ln(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=Fu,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var u=s=a=null,l=o;do{var c=l.lane;if((Uu&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),i=l.eagerReducer===e?l.eagerState:e(i,l.action);else{var f={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=f,a=i):u=u.next=f,Mu.lanes|=c,fl|=c}l=l.next}while(null!==l&&l!==o);null===u?a=i:u.next=s,gs(i,t.memoizedState)||(Hu=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=u,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Mn(e){var t=Ln(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);gs(a,t.memoizedState)||(Hu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Fn(e,t,n){var i=t._getVersion;i=i(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===i:(e=e.mutableReadLanes,(e=(Uu&e)===e)&&(t._workInProgressVersionPrimary=i,Cu.push(t))),e)return n(t._source);throw Cu.push(t),Error(r(350))}function jn(e,t,n,i){var o=rl;if(null===o)throw Error(r(349));var a=t._getVersion,s=a(t._source),u=Lu.current,l=u.useState(function(){return Fn(o,t,n)}),c=l[1],f=l[0];l=ju;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,y=d.source;d=d.subscribe;var g=Mu;return e.memoizedState={refs:h,source:t,subscribe:i},u.useEffect(function(){h.getSnapshot=n,h.setSnapshot=c;var e=a(t._source);if(!gs(s,e)){e=n(t._source),gs(f,e)||(c(e),e=Vr(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var r=o.entanglements,i=e;0<i;){var u=31-va(i),l=1<<u;r[u]|=e,i&=~l}}},[n,t,i]),u.useEffect(function(){return i(t._source,function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=Vr(g);o.mutableReadLanes|=r&o.pendingLanes}catch(e){n(function(){throw e})}})},[t,i]),gs(p,n)&&gs(y,t)&&gs(d,i)||(e={pending:null,dispatch:null,lastRenderedReducer:xn,lastRenderedState:f},e.dispatch=c=rr.bind(null,Mu,e),l.queue=e,l.baseQueue=null,f=Fn(o,t,n),l.memoizedState=l.baseState=f),f}function $n(e,t,n){return jn(Ln(),e,t,n)}function zn(e){var t=Cn();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},e=e.dispatch=rr.bind(null,Mu,e),[t.memoizedState,e]}function Gn(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Mu.updateQueue,null===t?(t={lastEffect:null},Mu.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,null===n?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Yn(e){var t=Cn();return e={current:e},t.memoizedState=e}function Vn(){return Ln().memoizedState}function Kn(e,t,n,r){var i=Cn();Mu.flags|=e,i.memoizedState=Gn(1|t,n,void 0,void 0===r?null:r)}function Wn(e,t,n,r){var i=Ln();r=void 0===r?null:r;var o=void 0;if(null!==Fu){var a=Fu.memoizedState;if(o=a.destroy,null!==r&&Bn(r,a.deps))return void Gn(t,n,o,r)}Mu.flags|=e,i.memoizedState=Gn(1|t,n,o,r)}function Hn(e,t){return Kn(516,4,e,t)}function qn(e,t){return Wn(516,4,e,t)}function Xn(e,t){return Wn(4,2,e,t)}function Jn(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qn(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wn(4,2,Jn.bind(null,t,e),n)}function Zn(){}function er(e,t){var n=Ln();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tr(e,t){var n=Ln();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Bn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nr(e,t){var n=Yt();Kt(98>n?98:n,function(){e(!0)}),Kt(97<n?97:n,function(){var n=xu.transition;xu.transition=1;try{e(!1),t()}finally{xu.transition=n}})}function rr(e,t,n){var r=Yr(),i=Vr(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Mu||null!==a&&a===Mu)zu=$u=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,gs(u,s))return}catch(e){}Kr(e,i,r)}}function ir(e,t,n,r){t.child=null===e?Tu(t,null,n,r):Su(t,e.child,n,r)}function or(e,t,n,r,i){n=n.render;var o=t.ref;return en(t,i),r=Pn(e,t,n,r,o,i),null===e||Hu?(t.flags|=1,ir(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Er(e,t,i))}function ar(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Si(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?(e=Ni(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,sr(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:it)(i,r)&&e.ref===t.ref)?Er(e,t,o):(t.flags|=1,e=Oi(a,r),e.ref=t.ref,e.return=t,t.child=e)}function sr(e,t,n,r,i,o){if(null!==e&&it(e.memoizedProps,r)&&e.ref===t.ref){if(Hu=!1,0===(o&i))return t.lanes=e.lanes,Er(e,t,o);0!==(16384&e.flags)&&(Hu=!0)}return cr(e,t,n,r,o)}function ur(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},ti(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},ti(t,e),null;t.memoizedState={baseLanes:0},ti(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ti(t,r);return ir(e,t,i,n),t.child}function lr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function cr(e,t,n,r,i){var o=Mt(n)?Ws:Vs.current;return o=Ut(t,o),en(t,i),n=Pn(e,t,n,r,o,i),null===e||Hu?(t.flags|=1,ir(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Er(e,t,i))}function fr(e,t,n,r,i){if(Mt(n)){var o=!0;zt(t)}else o=!1;if(en(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),dn(t,n,r),pn(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=tn(l):(l=Mt(n)?Ws:Vs.current,l=Ut(t,l));var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&hn(t,a,r,l),_u=!1;var d=t.memoizedState;a.state=d,un(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Ks.current||_u?("function"===typeof c&&(cn(t,n,c,r),u=t.memoizedState),(s=_u||fn(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,rn(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:Xt(t.type,s),a.props=l,f=t.pendingProps,d=a.context,u=n.contextType,"object"===typeof u&&null!==u?u=tn(u):(u=Mt(n)?Ws:Vs.current,u=Ut(t,u));var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&hn(t,a,r,u),_u=!1,d=t.memoizedState,a.state=d,un(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||Ks.current||_u?("function"===typeof h&&(cn(t,n,h,r),p=t.memoizedState),(l=_u||fn(t,n,l,r,d,p,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return dr(e,t,n,r,o,i)}function dr(e,t,n,r,i,o){lr(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Gt(t,n,!1),Er(e,t,o);r=t.stateNode,Wu.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Su(t,e.child,null,o),t.child=Su(t,null,s,o)):ir(e,t,s,o),t.memoizedState=r.state,i&&Gt(t,n,!0),t.child}function hr(e){var t=e.stateNode;t.pendingContext?jt(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jt(e,t.context,!1),bn(e,t.containerInfo)}function pr(e,t,n){var r,i=t.pendingProps,o=Iu.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),xt(Iu,1&o),null===e?(void 0!==i.fallback&&On(t),e=i.children,o=i.fallback,a?(e=yr(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qu,e):"number"===typeof i.unstable_expectedLoadTime?(e=yr(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=qu,t.lanes=33554432,e):(n=ki({mode:"visible",children:e},t.mode,n,null),n.return=t,t.child=n)):(e.memoizedState,a?(i=vr(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=qu,i):(n=gr(e,t,i.children,n),t.memoizedState=null,n))}function yr(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=ki(t,i,0,null),n=Ri(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function gr(e,t,n,r){var i=e.child;return e=i.sibling,n=Oi(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function vr(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=s,a=n.lastEffect,null!==a?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Oi(a,s),null!==e?r=Oi(e,r):(r=Ri(r,o,i,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function mr(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Zt(e.return,t)}function br(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function _r(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ir(e,t,r.children,n),0!==(2&(r=Iu.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&mr(e,n);else if(19===e.tag)mr(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xt(Iu,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)e=n.alternate,null!==e&&null===An(e)&&(i=n),n=n.sibling;n=i,null===n?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),br(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===An(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}br(t,!0,n,null,o,t.lastEffect);break;case"together":br(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Er(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fl|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(e=t.child,n=Oi(e,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,n=n.sibling=Oi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}return null}function wr(e,t){if(!Pu)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ar(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Mt(t.type)&&Ft(),null;case 3:return _n(),Lt(Ks),Lt(Vs),In(),i=t.stateNode,i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Rn(t)?t.flags|=4:i.hydrate||(t.flags|=256)),Os(t),null;case 5:wn(t);var o=mn(ku.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(r(166));return null}if(e=mn(Nu.current),Rn(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Ms]=t,i[Fs]=a,n){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(e=0;e<ks.length;e++)ht(ks[e],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":S(i,a),ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ht("invalid",i);break;case"textarea":P(i,a),ht("invalid",i)}$(n,a),e=null;for(var s in a)a.hasOwnProperty(s)&&(o=a[s],"children"===s?"string"===typeof o?i.textContent!==o&&(e=["children",o]):"number"===typeof o&&i.textContent!==""+o&&(e=["children",""+o]):Hi.hasOwnProperty(s)&&null!=o&&"onScroll"===s&&ht("scroll",i));switch(n){case"input":_(i),N(i,a,!0);break;case"textarea":_(i),L(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=wt)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(s=9===o.nodeType?o:o.ownerDocument,e===Oo.html&&(e=x(n)),e===Oo.html?"script"===n?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=s.createElement(n,{is:i.is}):(e=s.createElement(n),"select"===n&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,n),e[Ms]=t,e[Fs]=i,Ts(e,t,!1,!1),t.stateNode=e,s=z(n,i),n){case"dialog":ht("cancel",e),ht("close",e),o=i;break;case"iframe":case"object":case"embed":ht("load",e),o=i;break;case"video":case"audio":for(o=0;o<ks.length;o++)ht(ks[o],e);o=i;break;case"source":ht("error",e),o=i;break;case"img":case"image":case"link":ht("error",e),ht("load",e),o=i;break;case"details":ht("toggle",e),o=i;break;case"input":S(e,i),o=A(e,i),ht("invalid",e);break;case"option":o=I(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=Vi({},i,{value:void 0}),ht("invalid",e);break;case"textarea":P(e,i),o=B(e,i),ht("invalid",e);break;default:o=i}$(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var l=u[a];"style"===a?j(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&No(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&M(e,l):"number"===typeof l&&M(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Hi.hasOwnProperty(a)?null!=l&&"onScroll"===a&&ht("scroll",e):null!=l&&f(e,a,l,s))}switch(n){case"input":_(e),N(e,i,!1);break;case"textarea":_(e),L(e);break;case"option":null!=i.value&&e.setAttribute("value",""+v(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,null!=a?D(e,!!i.multiple,a,!1):null!=i.defaultValue&&D(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=wt)}At(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));n=mn(ku.current),mn(Nu.current),Rn(t)?(i=t.stateNode,n=t.memoizedProps,i[Ms]=t,i.nodeValue!==n&&(t.flags|=4)):(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i),i[Ms]=t,t.stateNode=i)}return null;case 13:return Lt(Iu),(i=t.memoizedState,0!==(64&t.flags))?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Rn(t):n=null!==e.memoizedState,i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Iu.current)?0===ul&&(ul=3):(0!==ul&&3!==ul||(ul=4),null===rl||0===(134217727&fl)&&0===(134217727&dl)||Xr(rl,ol))),(i||n)&&(t.flags|=4),null);case 4:return _n(),Os(t),null===e&&pt(t.stateNode.containerInfo),null;case 10:return Qt(t),null;case 17:return Mt(t.type)&&Ft(),null;case 19:if(Lt(Iu),null===(i=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(s=i.rendering))if(a)wr(i,!1);else{if(0!==ul||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=An(e))){for(t.flags|=64,wr(i,!1),a=s.updateQueue,null!==a&&(t.updateQueue=a,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)a=n,e=i,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,s=a.alternate,null===s?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xt(Iu,1&Iu.current|2),t.child}e=e.sibling}null!==i.tail&&pu()>gl&&(t.flags|=64,a=!0,wr(i,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=An(s))){if(t.flags|=64,a=!0,n=e.updateQueue,null!==n&&(t.updateQueue=n,t.flags|=4),wr(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Pu)return t=t.lastEffect=i.lastEffect,null!==t&&(t.nextEffect=null),null}else 2*pu()-i.renderingStartTime>gl&&1073741824!==n&&(t.flags|=64,a=!0,wr(i,!1),t.lanes=33554432);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,null!==n?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=pu(),n.sibling=null,t=Iu.current,xt(Iu,a?1&t|2:1&t),n):null;case 23:case 24:return ni(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(r(156,t.tag))}function Sr(e){switch(e.tag){case 1:Mt(e.type)&&Ft();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(_n(),Lt(Ks),Lt(Vs),In(),0!==(64&(t=e.flags)))throw Error(r(285));return e.flags=-4097&t|64,e;case 5:return wn(e),null;case 13:return Lt(Iu),t=e.flags,4096&t?(e.flags=-4097&t|64,e):null;case 19:return Lt(Iu),null;case 4:return _n(),null;case 10:return Qt(e),null;case 23:case 24:return ni(),null;default:return null}}function Tr(e,t){try{var n="",r=t;do{n+=y(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function Or(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}function Nr(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ml||(ml=!0,bl=r),Or(e,t)},n}function Rr(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return Or(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===_l?_l=new Set([this]):_l.add(this),Or(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function kr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(t){bi(e,t)}else t.current=null}function Ir(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?n:Xt(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Tt(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(r(163))}function Dr(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(t=n.updateQueue,null!==(t=null!==t?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(t=n.updateQueue,null!==(t=null!==t?t.lastEffect:null)){e=t=t.next;do{var o=e;i=o.next,o=o.tag,0!==(4&o)&&0!==(1&o)&&(gi(n,e),yi(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Xt(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ln(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ln(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&At(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&ve(n));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(r(163))}function Br(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r=r.style,"function"===typeof r.setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=F("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Pr(e,t){if(qs&&"function"===typeof qs.onCommitFiberUnmount)try{qs.onCommitFiberUnmount(Hs,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))gi(t,n);else{r=t;try{i()}catch(e){bi(r,e)}}n=n.next}while(n!==e)}break;case 1:if(kr(t),e=t.stateNode,"function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){bi(t,e)}break;case 5:kr(t);break;case 4:Fr(e,t)}}function Cr(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Lr(e){return 5===e.tag||3===e.tag||4===e.tag}function xr(e){e:{for(var t=e.return;null!==t;){if(Lr(t))break e;t=t.return}throw Error(r(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.flags&&(M(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Lr(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?Ur(e,n,t):Mr(e,n,t)}function Ur(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=wt));else if(4!==r&&null!==(e=e.child))for(Ur(e,t,n),e=e.sibling;null!==e;)Ur(e,t,n),e=e.sibling}function Mr(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Mr(e,t,n),e=e.sibling;null!==e;)Mr(e,t,n),e=e.sibling}function Fr(e,t){for(var n,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(r(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,u=o,l=u;;)if(Pr(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break e;for(;null===l.sibling;){if(null===l.return||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=n,u=o.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Pr(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return,4===o.tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function jr(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var o=null!==e?e.memoizedProps:i;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Fs]=i,"input"===e&&"radio"===i.type&&null!=i.name&&T(n,i),z(e,o),t=z(e,i),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?j(n,u):"dangerouslySetInnerHTML"===s?No(n,u):"children"===s?M(n,u):f(n,s,u,t)}switch(e){case"input":O(n,i);break;case"textarea":C(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,a=i.value,null!=a?D(n,!!i.multiple,a,!1):e!==!!i.multiple&&(null!=i.defaultValue?D(n,!!i.multiple,i.defaultValue,!0):D(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(r(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return n=t.stateNode,void(n.hydrate&&(n.hydrate=!1,ve(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(yl=pu(),Br(t.child,!0)),void $r(t);case 19:return void $r(t);case 17:return;case 23:case 24:return void Br(t,null!==t.memoizedState)}throw Error(r(163))}function $r(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach(function(t){var r=Ei.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function zr(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}function Gr(){gl=pu()+500}function Yr(){return 0!==(48&nl)?pu():-1!==kl?kl:kl=pu()}function Vr(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Yt()?1:2;if(0===Il&&(Il=cl),0!==yu.transition){0!==Dl&&(Dl=null!==pl?pl.pendingLanes:0),e=Il;var t=4186112&~Dl;return t&=-t,0===t&&(e=4186112&~e,0===(t=e&-e)&&(t=8192)),t}return e=Yt(),0!==(4&nl)&&98===e?e=Oe(12,Il):(e=we(e),e=Oe(e,Il)),e}function Kr(e,t,n){if(50<Nl)throw Nl=0,Rl=null,Error(r(185));if(null===(e=Wr(e,t)))return null;ke(e,t,n),e===rl&&(dl|=t,4===ul&&Xr(e,ol));var i=Yt();1===t?0!==(8&nl)&&0===(48&nl)?Jr(e):(Hr(e,n),0===nl&&(Gr(),Ht())):(0===(4&nl)||98!==i&&99!==i||(null===Ol?Ol=new Set([e]):Ol.add(e)),Hr(e,n)),pl=e}function Wr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,n=e.alternate,null!==n&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Hr(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-va(a),u=1<<s,l=o[s];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,Ee(u);var c=ga;o[s]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);a&=~u}if(r=Se(e,e===rl?ol:0),t=ga,0===r)null!==n&&(n!==uu&&Qs(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==uu&&Qs(n)}15===t?(n=Jr.bind(null,e),null===cu?(cu=[n],fu=Js(ru,qt)):cu.push(n),n=uu):14===t?n=Wt(99,Jr.bind(null,e)):(n=Ae(t),n=Wt(n,qr.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function qr(e){if(kl=-1,Dl=Il=0,0!==(48&nl))throw Error(r(327));var t=e.callbackNode;if(pi()&&e.callbackNode!==t)return null;var n=Se(e,e===rl?ol:0);if(0===n)return null;var i=n,o=nl;nl|=16;var a=oi();for(rl===e&&ol===i||(Gr(),ri(e,i));;)try{ui();break}catch(t){ii(e,t)}if(Jt(),el.current=a,nl=o,null!==il?i=0:(rl=null,ol=0,i=ul),0!==(cl&dl))ri(e,0);else if(0!==i){if(2===i&&(nl|=64,e.hydrate&&(e.hydrate=!1,Tt(e.containerInfo)),0!==(n=Te(e))&&(i=ai(e,n))),1===i)throw t=ll,ri(e,0),Xr(e,n),Hr(e,pu()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(r(345));case 2:fi(e);break;case 3:if(Xr(e,n),(62914560&n)===n&&10<(i=yl+500-pu())){if(0!==Se(e,0))break;if(((o=e.suspendedLanes)&n)!==n){Yr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Cs(fi.bind(null,e),i);break}fi(e);break;case 4:if(Xr(e,n),(4186112&n)===n)break;for(i=e.eventTimes,o=-1;0<n;){var s=31-va(n);a=1<<s,s=i[s],s>o&&(o=s),n&=~a}if(n=o,n=pu()-n,10<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Zu(n/1960))-n)){e.timeoutHandle=Cs(fi.bind(null,e),n);break}fi(e);break;case 5:fi(e);break;default:throw Error(r(329))}}return Hr(e,pu()),e.callbackNode===t?qr.bind(null,e):null}function Xr(e,t){for(t&=~hl,t&=~dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-va(t),r=1<<n;e[n]=-1,t&=~r}}function Jr(e){if(0!==(48&nl))throw Error(r(327));if(pi(),e===rl&&0!==(e.expiredLanes&ol)){var t=ol,n=ai(e,t);0!==(cl&dl)&&(t=Se(e,t),n=ai(e,t))}else t=Se(e,0),n=ai(e,t);if(0!==e.tag&&2===n&&(nl|=64,e.hydrate&&(e.hydrate=!1,Tt(e.containerInfo)),0!==(t=Te(e))&&(n=ai(e,t))),1===n)throw n=ll,ri(e,0),Xr(e,t),Hr(e,pu()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,fi(e),Hr(e,pu()),null}function Qr(){if(null!==Ol){var e=Ol;Ol=null,e.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Hr(e,pu())})}Ht()}function Zr(e,t){var n=nl;nl|=1;try{return e(t)}finally{0===(nl=n)&&(Gr(),Ht())}}function ei(e,t){var n=nl;nl&=-2,nl|=8;try{return e(t)}finally{0===(nl=n)&&(Gr(),Ht())}}function ti(e,t){xt(sl,al),al|=t,cl|=t}function ni(){al=sl.current,Lt(sl)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ls(n)),null!==il)for(n=il.return;null!==n;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,null!==r&&void 0!==r&&Ft();break;case 3:_n(),Lt(Ks),Lt(Vs),In();break;case 5:wn(r);break;case 4:_n();break;case 13:case 19:Lt(Iu);break;case 10:Qt(r);break;case 23:case 24:ni()}n=n.return}rl=e,il=Oi(e.current,null),ol=al=cl=t,ul=0,ll=null,hl=dl=fl=0}function ii(e,t){for(;;){var n=il;try{if(Jt(),Lu.current=Gu,$u){for(var r=Mu.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}$u=!1}if(Uu=0,ju=Fu=Mu=null,zu=!1,tl.current=null,null===n||null===n.return){ul=1,ll=t,il=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=ol,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Iu.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var y=d.memoizedProps;h=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(h){var v=d.updateQueue;if(null===v){var m=new Set;m.add(l),d.updateQueue=m}else v.add(l);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=on(-1,1);b.tag=2,an(s,b)}s.lanes|=1;break e}u=void 0,s=t;var _=o.pingCache;if(null===_?(_=o.pingCache=new Ju,u=new Set,_.set(l,u)):void 0===(u=_.get(l))&&(u=new Set,_.set(l,u)),!u.has(s)){u.add(s);var E=_i.bind(null,o,l,s);l.then(E,E)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((g(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ul&&(ul=2),u=Tr(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t;sn(d,Nr(d,o,t));break e;case 1:o=u;var w=d.type,A=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==A&&"function"===typeof A.componentDidCatch&&(null===_l||!_l.has(A)))){d.flags|=4096,t&=-t,d.lanes|=t;sn(d,Rr(d,o,t));break e}}d=d.return}while(null!==d)}ci(n)}catch(e){t=e,il===n&&null!==n&&(il=n=n.return);continue}break}}function oi(){var e=el.current;return el.current=Gu,null===e?Gu:e}function ai(e,t){var n=nl;nl|=16;var i=oi();for(rl===e&&ol===t||ri(e,t);;)try{si();break}catch(t){ii(e,t)}if(Jt(),nl=n,el.current=i,null!==il)throw Error(r(261));return rl=null,ol=0,ul}function si(){for(;null!==il;)li(il)}function ui(){for(;null!==il&&!Zs();)li(il)}function li(e){var t=Xu(e.alternate,e,al);e.memoizedProps=e.pendingProps,null===t?ci(e):il=t,tl.current=null}function ci(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=Ar(n,t,al)))return void(il=n);if(n=t,24!==n.tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&al)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=Sr(t)))return n.flags&=2047,void(il=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(il=t);il=t=e}while(null!==t);0===ul&&(ul=5)}function fi(e){var t=Yt();return Kt(99,di.bind(null,e,t)),null}function di(e,t){do{pi()}while(null!==wl);if(0!==(48&nl))throw Error(r(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null;var i=n.lanes|n.childLanes,o=i,a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var l=31-va(a),c=1<<l;o[l]=0,s[l]=-1,u[l]=-1,a&=~c}if(null!==Ol&&0===(24&i)&&Ol.has(e)&&Ol.delete(e),e===rl&&(il=rl=null,ol=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(o=nl,nl|=32,tl.current=null,Bs=wa,s=ut(),lt(s)){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,a=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(e){u=null;break e}var f=0,d=-1,h=-1,p=0,y=0,g=s,v=null;t:for(;;){for(var m;g!==u||0!==a&&3!==g.nodeType||(d=f+a),g!==l||0!==c&&3!==g.nodeType||(h=f+c),3===g.nodeType&&(f+=g.nodeValue.length),null!==(m=g.firstChild);)v=g,g=m;for(;;){if(g===s)break t;if(v===u&&++p===a&&(d=f),v===l&&++y===c&&(h=f),null!==(m=g.nextSibling))break;g=v,v=g.parentNode}g=m}u=-1===d||-1===h?null:{start:d,end:h}}else u=null;u=u||{start:0,end:0}}else u=null;Ps={focusedElem:s,selectionRange:u},wa=!1,Bl=null,Pl=!1,vl=i;do{try{hi()}catch(e){if(null===vl)throw Error(r(330));bi(vl,e),vl=vl.nextEffect}}while(null!==vl);Bl=null,vl=i;do{try{for(s=e;null!==vl;){var b=vl.flags;if(16&b&&M(vl.stateNode,""),128&b){var _=vl.alternate;if(null!==_){var E=_.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:xr(vl),vl.flags&=-3;break;case 6:xr(vl),vl.flags&=-3,jr(vl.alternate,vl);break;case 1024:vl.flags&=-1025;break;case 1028:vl.flags&=-1025,jr(vl.alternate,vl);break;case 4:jr(vl.alternate,vl);break;case 8:u=vl,Fr(s,u);var w=u.alternate;Cr(u),null!==w&&Cr(w)}vl=vl.nextEffect}}catch(e){if(null===vl)throw Error(r(330));bi(vl,e),vl=vl.nextEffect}}while(null!==vl);if(E=Ps,_=ut(),b=E.focusedElem,s=E.selectionRange,_!==b&&b&&b.ownerDocument&&st(b.ownerDocument.documentElement,b)){null!==s&&lt(b)&&(_=s.start,E=s.end,void 0===E&&(E=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(E,b.value.length)):(E=(_=b.ownerDocument||document)&&_.defaultView||window,E.getSelection&&(E=E.getSelection(),u=b.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!E.extend&&w>s&&(u=s,s=w,w=u),u=at(b,w),a=at(b,s),u&&a&&(1!==E.rangeCount||E.anchorNode!==u.node||E.anchorOffset!==u.offset||E.focusNode!==a.node||E.focusOffset!==a.offset)&&(_=_.createRange(),_.setStart(u.node,u.offset),E.removeAllRanges(),w>s?(E.addRange(_),E.extend(a.node,a.offset)):(_.setEnd(a.node,a.offset),E.addRange(_)))))),_=[];for(E=b;E=E.parentNode;)1===E.nodeType&&_.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)E=_[b],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}wa=!!Bs,Ps=Bs=null,e.current=n,vl=i;do{try{for(b=e;null!==vl;){var A=vl.flags;if(36&A&&Dr(b,vl.alternate,vl),128&A){_=void 0;var S=vl.ref;if(null!==S){var T=vl.stateNode;switch(vl.tag){case 5:_=T;break;default:_=T}"function"===typeof S?S(_):S.current=_}}vl=vl.nextEffect}}catch(e){if(null===vl)throw Error(r(330));bi(vl,e),vl=vl.nextEffect}}while(null!==vl);vl=null,lu(),nl=o}else e.current=n;if(El)El=!1,wl=e,Al=t;else for(vl=i;null!==vl;)t=vl.nextEffect,vl.nextEffect=null,8&vl.flags&&(A=vl,A.sibling=null,A.stateNode=null),vl=t;if(i=e.pendingLanes,0===i&&(_l=null),1===i?e===Rl?Nl++:(Nl=0,Rl=e):Nl=0,n=n.stateNode,qs&&"function"===typeof qs.onCommitFiberRoot)try{qs.onCommitFiberRoot(Hs,n,void 0,64===(64&n.current.flags))}catch(e){}if(Hr(e,pu()),ml)throw ml=!1,e=bl,bl=null,e;return 0!==(8&nl)?null:(Ht(),null)}function hi(){for(;null!==vl;){var e=vl.alternate;Pl||null===Bl||(0!==(8&vl.flags)?se(vl,Bl)&&(Pl=!0):13===vl.tag&&zr(e,vl)&&se(vl,Bl)&&(Pl=!0));var t=vl.flags;0!==(256&t)&&Ir(e,vl),0===(512&t)||El||(El=!0,Wt(97,function(){return pi(),null})),vl=vl.nextEffect}}function pi(){if(90!==Al){var e=97<Al?97:Al;return Al=90,Kt(e,vi)}return!1}function yi(e,t){Sl.push(t,e),El||(El=!0,Wt(97,function(){return pi(),null}))}function gi(e,t){Tl.push(t,e),El||(El=!0,Wt(97,function(){return pi(),null}))}function vi(){if(null===wl)return!1;var e=wl;if(wl=null,0!==(48&nl))throw Error(r(331));var t=nl;nl|=32;var n=Tl;Tl=[];for(var i=0;i<n.length;i+=2){var o=n[i],a=n[i+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(e){if(null===a)throw Error(r(330));bi(a,e)}}for(n=Sl,Sl=[],i=0;i<n.length;i+=2){o=n[i],a=n[i+1];try{var u=o.create;o.destroy=u()}catch(e){if(null===a)throw Error(r(330));bi(a,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return nl=t,Ht(),!0}function mi(e,t,n){t=Tr(n,t),t=Nr(e,t,1),an(e,t),t=Yr(),null!==(e=Wr(e,1))&&(ke(e,1,t),Hr(e,t))}function bi(e,t){if(3===e.tag)mi(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){mi(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===_l||!_l.has(r))){e=Tr(t,e);var i=Rr(n,e,1);if(an(n,i),i=Yr(),null!==(n=Wr(n,1)))ke(n,1,i),Hr(n,i);else if("function"===typeof r.componentDidCatch&&(null===_l||!_l.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function _i(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Yr(),e.pingedLanes|=e.suspendedLanes&n,rl===e&&(ol&n)===n&&(4===ul||3===ul&&(62914560&ol)===ol&&500>pu()-yl?ri(e,0):hl|=n),Hr(e,t)}function Ei(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,0===t&&(t=e.mode,0===(2&t)?t=1:0===(4&t)?t=99===Yt()?1:2:(0===Il&&(Il=cl),0===(t=Ne(62914560&~Il))&&(t=4194304))),n=Yr(),null!==(e=Wr(e,t))&&(ke(e,t,n),Hr(e,n))}function wi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ai(e,t,n,r){return new wi(e,t,n,r)}function Si(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ti(e){if("function"===typeof e)return Si(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===co)return 11;if(e===po)return 14}return 2}function Oi(e,t){var n=e.alternate;return null===n?(n=Ai(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ni(e,t,n,i,o,a){var s=2;if(i=e,"function"===typeof e)Si(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case oo:return Ri(n.children,o,a,t);case mo:s=8,o|=16;break;case ao:s=8,o|=1;break;case so:return e=Ai(12,n,t,8|o),e.elementType=so,e.type=so,e.lanes=a,e;case fo:return e=Ai(13,n,t,o),e.type=fo,e.elementType=fo,e.lanes=a,e;case ho:return e=Ai(19,n,t,o),e.elementType=ho,e.lanes=a,e;case bo:return ki(n,o,a,t);case _o:return e=Ai(24,n,t,o),e.elementType=_o,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case uo:s=10;break e;case lo:s=9;break e;case co:s=11;break e;case po:s=14;break e;case yo:s=16,i=null;break e;case go:s=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return t=Ai(s,n,t,o),t.elementType=e,t.type=i,t.lanes=a,t}function Ri(e,t,n,r){return e=Ai(7,e,r,t),e.lanes=n,e}function ki(e,t,n,r){return e=Ai(23,e,r,t),e.elementType=bo,e.lanes=n,e}function Ii(e,t,n){return e=Ai(6,e,null,t),e.lanes=n,e}function Di(e,t,n){return t=Ai(4,null!==e.children?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bi(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Re(0),this.expirationTimes=Re(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.mutableSourceEagerHydrationData=null}function Pi(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:io,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ci(e,t,n,i){var o=t.current,a=Yr(),s=Vr(o);e:if(n){n=n._reactInternals;t:{if(ne(n)!==n||1!==n.tag)throw Error(r(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Mt(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(r(171))}if(1===n.tag){var l=n.type;if(Mt(l)){n=$t(n,l,u);break e}}n=u}else n=Ys;return null===t.context?t.context=n:t.pendingContext=n,t=on(a,s),t.payload={element:e},i=void 0===i?null:i,null!==i&&(t.callback=i),an(o,t),Kr(o,s,a),s}function Li(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function xi(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ui(e,t){xi(e,t),(e=e.alternate)&&xi(e,t)}function Mi(){return null}function Fi(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Bi(e,t,null!=n&&!0===n.hydrate),t=Ai(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,nn(t),e[js]=n.current,pt(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){t=r[e];var i=t._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ji(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $i(e,t){if(t||(t=e?9===e.nodeType?e.documentElement:e.firstChild:null,t=!(!t||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Fi(e,0,t?{hydrate:!0}:void 0)}function zi(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Li(a);s.call(e)}}Ci(t,a,e,i)}else{if(o=n._reactRootContainer=$i(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Li(a);u.call(e)}}ei(function(){Ci(t,a,e,i)})}return Li(a)}function Gi(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ji(t))throw Error(r(200));return Pi(e,t,null,n)}var Yi=n(1),Vi=n(20),Ki=n(76);if(!Yi)throw Error(r(227));var Wi=new Set,Hi={},qi=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Xi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ji=Object.prototype.hasOwnProperty,Qi={},Zi={},eo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){eo[e]=new l(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];eo[t]=new l(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){eo[e]=new l(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){eo[e]=new l(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){eo[e]=new l(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){eo[e]=new l(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){eo[e]=new l(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){eo[e]=new l(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){eo[e]=new l(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,c);eo[t]=new l(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,c);eo[t]=new l(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,c);eo[t]=new l(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){eo[e]=new l(e,1,!1,e.toLowerCase(),null,!1,!1)}),eo.xlinkHref=new l("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){eo[e]=new l(e,1,!1,e.toLowerCase(),null,!0,!0)});var no=Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ro=60103,io=60106,oo=60107,ao=60108,so=60114,uo=60109,lo=60110,co=60112,fo=60113,ho=60120,po=60115,yo=60116,go=60121,vo=60128,mo=60129,bo=60130,_o=60131;if("function"===typeof Symbol&&Symbol.for){var Eo=Symbol.for;ro=Eo("react.element"),io=Eo("react.portal"),oo=Eo("react.fragment"),ao=Eo("react.strict_mode"),so=Eo("react.profiler"),uo=Eo("react.provider"),lo=Eo("react.context"),co=Eo("react.forward_ref"),fo=Eo("react.suspense"),ho=Eo("react.suspense_list"),po=Eo("react.memo"),yo=Eo("react.lazy"),go=Eo("react.block"),Eo("react.scope"),vo=Eo("react.opaque.id"),mo=Eo("react.debug_trace_mode"),bo=Eo("react.offscreen"),_o=Eo("react.legacy_hidden")}var wo,Ao,So="function"===typeof Symbol&&Symbol.iterator,To=!1,Oo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},No=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==Oo.svg||"innerHTML"in e)e.innerHTML=t;else{for(Ao=Ao||document.createElement("div"),Ao.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ao.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}),Ro={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ko=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){ko.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});var Io=Vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Do=null,Bo=null,Po=null,Co=W,Lo=!1,xo=!1,Uo=!1;if(qi)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch(e){Uo=!1}var Fo,jo,$o,zo,Go=!1,Yo=null,Vo=!1,Ko=null,Wo={onError:function(e){Go=!0,Yo=e}},Ho=!1,qo=[],Xo=null,Jo=null,Qo=null,Zo=new Map,ea=new Map,ta=[],na="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),ra={animationend:me("Animation","AnimationEnd"),animationiteration:me("Animation","AnimationIteration"),animationstart:me("Animation","AnimationStart"),transitionend:me("Transition","TransitionEnd")},ia={},oa={};qi&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);var aa=be("animationend"),sa=be("animationiteration"),ua=be("animationstart"),la=be("transitionend"),ca=new Map,fa=new Map,da=["abort","abort",aa,"animationEnd",sa,"animationIteration",ua,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",la,"transitionEnd","waiting","waiting"];(0,Ki.unstable_now)();var ha,pa,ya,ga=8,va=Math.clz32?Math.clz32:Ie,ma=Math.log,ba=Math.LN2,_a=Ki.unstable_UserBlockingPriority,Ea=Ki.unstable_runWithPriority,wa=!0,Aa=null,Sa=null,Ta=null,Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Fe(Oa),Ra=Vi({},Oa,{view:0,detail:0}),ka=Fe(Ra),Ia=Vi({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&"mousemove"===e.type?(ha=e.screenX-ya.screenX,pa=e.screenY-ya.screenY):pa=ha=0,ya=e),ha)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),Da=Fe(Ia),Ba=Vi({},Ia,{dataTransfer:0}),Pa=Fe(Ba),Ca=Vi({},Ra,{relatedTarget:0}),La=Fe(Ca),xa=Vi({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Fe(xa),Ma=Vi({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fa=Fe(Ma),ja=Vi({},Oa,{data:0}),$a=Fe(ja),za={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ga={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ya={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},Va=Vi({},Ra,{key:function(e){if(e.key){var t=za[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?(e=xe(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Ga[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(e){return"keypress"===e.type?xe(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?xe(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ka=Fe(Va),Wa=Vi({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=Fe(Wa),qa=Vi({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Xa=Fe(qa),Ja=Vi({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qa=Fe(Ja),Za=Vi({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),es=Fe(Za),ts=[9,13,27,32],ns=qi&&"CompositionEvent"in window,rs=null;qi&&"documentMode"in document&&(rs=document.documentMode);var is=qi&&"TextEvent"in window&&!rs,os=qi&&(!ns||rs&&8<rs&&11>=rs),as=String.fromCharCode(32),ss=!1,us=!1,ls={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},cs=null,fs=null,ds=!1;if(qi){var hs;if(qi){var ps="oninput"in document;if(!ps){var ys=document.createElement("div");ys.setAttribute("oninput","return;"),ps="function"===typeof ys.oninput}hs=ps}else hs=!1;ds=hs&&(!document.documentMode||9<document.documentMode)}var gs="function"===typeof Object.is?Object.is:rt,vs=Object.prototype.hasOwnProperty,ms=qi&&"documentMode"in document&&11>=document.documentMode,bs=null,_s=null,Es=null,ws=!1;_e("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),_e("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),_e(da,2);for(var As="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ss=0;Ss<As.length;Ss++)fa.set(As[Ss],0);o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts,Os,Ns,Rs,ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Is=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks)),Ds="_reactListening"+Math.random().toString(36).slice(2),Bs=null,Ps=null,Cs="function"===typeof setTimeout?setTimeout:void 0,Ls="function"===typeof clearTimeout?clearTimeout:void 0,xs=0,Us=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Us,Fs="__reactProps$"+Us,js="__reactContainer$"+Us,$s="__reactEvents$"+Us,zs=[],Gs=-1,Ys={},Vs=Ct(Ys),Ks=Ct(!1),Ws=Ys,Hs=null,qs=null,Xs=Ki.unstable_runWithPriority,Js=Ki.unstable_scheduleCallback,Qs=Ki.unstable_cancelCallback,Zs=Ki.unstable_shouldYield,eu=Ki.unstable_requestPaint,tu=Ki.unstable_now,nu=Ki.unstable_getCurrentPriorityLevel,ru=Ki.unstable_ImmediatePriority,iu=Ki.unstable_UserBlockingPriority,ou=Ki.unstable_NormalPriority,au=Ki.unstable_LowPriority,su=Ki.unstable_IdlePriority,uu={},lu=void 0!==eu?eu:function(){},cu=null,fu=null,du=!1,hu=tu(),pu=1e4>hu?tu:function(){return tu()-hu},yu=no.ReactCurrentBatchConfig,gu=Ct(null),vu=null,mu=null,bu=null,_u=!1,Eu=(new Yi.Component).refs,wu={isMounted:function(e){return!!(e=e._reactInternals)&&ne(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yr(),i=Vr(e),o=on(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),an(e,o),Kr(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yr(),i=Vr(e),o=on(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),an(e,o),Kr(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yr(),r=Vr(e),i=on(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),an(e,i),Kr(e,r,n)}},Au=Array.isArray,Su=vn(!0),Tu=vn(!1),Ou={},Nu=Ct(Ou),Ru=Ct(Ou),ku=Ct(Ou),Iu=Ct(0),Du=null,Bu=null,Pu=!1,Cu=[],Lu=no.ReactCurrentDispatcher,xu=no.ReactCurrentBatchConfig,Uu=0,Mu=null,Fu=null,ju=null,$u=!1,zu=!1,Gu={readContext:tn,useCallback:Dn,useContext:Dn,useEffect:Dn,useImperativeHandle:Dn,useLayoutEffect:Dn,useMemo:Dn,useReducer:Dn,useRef:Dn,useState:Dn,useDebugValue:Dn,useDeferredValue:Dn,useTransition:Dn,useMutableSource:Dn,useOpaqueIdentifier:Dn,unstable_isNewReconciler:!1},Yu={readContext:tn,useCallback:function(e,t){return Cn().memoizedState=[e,void 0===t?null:t],e},useContext:tn,useEffect:Hn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Kn(4,2,Jn.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kn(4,2,e,t)},useMemo:function(e,t){var n=Cn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cn();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=rr.bind(null,Mu,e),[r.memoizedState,e]},useRef:Yn,useState:zn,useDebugValue:Zn,useDeferredValue:function(e){var t=zn(e),n=t[0],r=t[1];return Hn(function(){var t=xu.transition;xu.transition=1;try{r(e)}finally{xu.transition=t}},[e]),n},useTransition:function(){var e=zn(!1),t=e[0];return e=nr.bind(null,e[1]),Yn(e),[e,t]},useMutableSource:function(e,t,n){var r=Cn();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},jn(r,e,t,n)},useOpaqueIdentifier:function(){if(Pu){var e=!1,t=Rt(function(){throw e||(e=!0,n("r:"+(xs++).toString(36))),Error(r(355))}),n=zn(t)[1];return 0===(2&Mu.mode)&&(Mu.flags|=516,Gn(5,function(){n("r:"+(xs++).toString(36))},void 0,null)),t}return t="r:"+(xs++).toString(36),zn(t),t},unstable_isNewReconciler:!1},Vu={readContext:tn,useCallback:er,useContext:tn,useEffect:qn,useImperativeHandle:Qn,useLayoutEffect:Xn,useMemo:tr,useReducer:Un,useRef:Vn,useState:function(){return Un(xn)},useDebugValue:Zn,useDeferredValue:function(e){var t=Un(xn),n=t[0],r=t[1];return qn(function(){var t=xu.transition;xu.transition=1;try{r(e)}finally{xu.transition=t}},[e]),n},useTransition:function(){var e=Un(xn)[0];return[Vn().current,e]},useMutableSource:$n,useOpaqueIdentifier:function(){return Un(xn)[0]},unstable_isNewReconciler:!1},Ku={readContext:tn,useCallback:er,useContext:tn,useEffect:qn,useImperativeHandle:Qn,useLayoutEffect:Xn,useMemo:tr,useReducer:Mn,useRef:Vn,useState:function(){return Mn(xn)},useDebugValue:Zn,useDeferredValue:function(e){var t=Mn(xn),n=t[0],r=t[1];return qn(function(){var t=xu.transition;xu.transition=1;try{r(e)}finally{xu.transition=t}},[e]),n},useTransition:function(){var e=Mn(xn)[0];return[Vn().current,e]},useMutableSource:$n,useOpaqueIdentifier:function(){return Mn(xn)[0]},unstable_isNewReconciler:!1},Wu=no.ReactCurrentOwner,Hu=!1,qu={dehydrated:null,retryLane:0};Ts=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,mn(Nu.current);var o=null;switch(n){case"input":i=A(e,i),r=A(e,r),o=[];break;case"option":i=I(e,i),r=I(e,r),o=[];break;case"select":i=Vi({},i,{value:void 0}),r=Vi({},r,{value:void 0}),o=[];break;case"textarea":i=B(e,i),r=B(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=wt)}$(n,r);var a;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(Hi.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&u!==s&&(null!=u||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(o=o||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(Hi.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&ht("scroll",e),o||s===u||(o=[])):"object"===typeof u&&null!==u&&u.$$typeof===vo?u.toString():(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu,Ju="function"===typeof WeakMap?WeakMap:Map,Qu="function"===typeof WeakSet?WeakSet:Set,Zu=Math.ceil,el=no.ReactCurrentDispatcher,tl=no.ReactCurrentOwner,nl=0,rl=null,il=null,ol=0,al=0,sl=Ct(0),ul=0,ll=null,cl=0,fl=0,dl=0,hl=0,pl=null,yl=0,gl=1/0,vl=null,ml=!1,bl=null,_l=null,El=!1,wl=null,Al=90,Sl=[],Tl=[],Ol=null,Nl=0,Rl=null,kl=-1,Il=0,Dl=0,Bl=null,Pl=!1;Xu=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||Ks.current)Hu=!0;else{if(0===(n&i)){switch(Hu=!1,t.tag){case 3:hr(t),kn();break;case 5:En(t);break;case 1:Mt(t.type)&&zt(t);break;case 4:bn(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var o=t.type._context;xt(gu,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?pr(e,t,n):(xt(Iu,1&Iu.current),t=Er(e,t,n),null!==t?t.sibling:null);xt(Iu,1&Iu.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return _r(e,t,n);t.flags|=64}if(o=t.memoizedState,null!==o&&(o.rendering=null,o.tail=null,o.lastEffect=null),xt(Iu,Iu.current),i)break;return null;case 23:case 24:return t.lanes=0,ur(e,t,n)}return Er(e,t,n)}Hu=0!==(16384&e.flags)}else Hu=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Ut(t,Vs.current),en(t,n),o=Pn(null,t,i,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mt(i)){var a=!0;zt(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,nn(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&cn(t,i,s,e),o.updater=wu,t.stateNode=o,o._reactInternals=t,pn(t,i,e,n),t=dr(null,t,i,!0,a,n)}else t.tag=0,ir(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=o._init,o=a(o._payload),t.type=o,a=t.tag=Ti(o),e=Xt(o,e),a){case 0:t=cr(null,t,o,e,n);break e;case 1:t=fr(null,t,o,e,n);break e;case 11:t=or(null,t,o,e,n);break e;case 14:t=ar(null,t,o,Xt(o.type,e),i,n);break e}throw Error(r(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),cr(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),fr(e,t,i,o,n);case 3:if(hr(t),i=t.updateQueue,null===e||null===i)throw Error(r(282));if(i=t.pendingProps,o=t.memoizedState,o=null!==o?o.element:null,rn(e,t),un(t,i,null,n),(i=t.memoizedState.element)===o)kn(),t=Er(e,t,n);else{if(o=t.stateNode,(a=o.hydrate)&&(Bu=Ot(t.stateNode.containerInfo.firstChild),Du=t,a=Pu=!0),a){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)a=e[o],a._workInProgressVersionPrimary=e[o+1],Cu.push(a);for(n=Tu(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ir(e,t,i,n),kn();t=t.child}return t;case 5:return En(t),null===e&&On(t),i=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,St(i,o)?s=null:null!==a&&St(i,a)&&(t.flags|=16),lr(e,t),ir(e,t,s,n),t.child;case 6:return null===e&&On(t),null;case 13:return pr(e,t,n);case 4:return bn(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Su(t,null,i,n):ir(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),or(e,t,i,o,n);case 7:return ir(e,t,t.pendingProps,n),t.child;case 8:case 12:return ir(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value;var u=t.type._context;if(xt(gu,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=gs(u,a)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Ks.current){t=Er(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&a)){1===u.tag&&(c=on(-1,n&-n),c.tag=2,an(u,c)),u.lanes|=n,c=u.alternate,null!==c&&(c.lanes|=n),Zt(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ir(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,a=t.pendingProps,i=a.children,en(t,n),o=tn(o,a.unstable_observedBits),i=i(o),t.flags|=1,ir(e,t,i,n),t.child;case 14:return o=t.type,a=Xt(o,t.pendingProps),a=Xt(o.type,a),ar(e,t,o,a,i,n);case 15:return sr(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Xt(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Mt(i)?(e=!0,zt(t)):e=!1,en(t,n),dn(t,i,o),pn(t,i,o,n),dr(null,t,i,!0,e,n);case 19:return _r(e,t,n);case 23:case 24:return ur(e,t,n)}throw Error(r(156,t.tag))},Fi.prototype.render=function(e){Ci(e,this._internalRoot,null,null)},Fi.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ci(null,e,null,function(){t[js]=null})},Fo=function(e){if(13===e.tag){Kr(e,4,Yr()),Ui(e,4)}},jo=function(e){if(13===e.tag){Kr(e,67108864,Yr()),Ui(e,67108864)}},$o=function(e){if(13===e.tag){var t=Yr(),n=Vr(e);Kr(e,n,t),Ui(e,n)}},zo=function(e,t){return t()},Do=function(e,t,n){switch(t){case"input":if(O(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=Bt(i);if(!o)throw Error(r(90));E(i),O(i,o)}}}break;case"textarea":C(e,n);break;case"select":null!=(t=n.value)&&D(e,!!n.multiple,t,!1)}},W=Zr,H=function(e,t,n,r,i){var o=nl;nl|=4;try{return Kt(98,e.bind(null,t,n,r,i))}finally{0===(nl=o)&&(Gr(),Ht())}},q=function(){0===(49&nl)&&(Qr(),pi())},Co=function(e,t){var n=nl;nl|=2;try{return e(t)}finally{0===(nl=n)&&(Gr(),Ht())}};var Cl={Events:[It,Dt,Bt,V,K,pi,{current:!1}]},Ll={findFiberByHostInstance:kt,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},xl={bundleType:Ll.bundleType,version:Ll.version,rendererPackageName:Ll.rendererPackageName,rendererConfig:Ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:no.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ae(e),null===e?null:e.stateNode},findFiberByHostInstance:Ll.findFiberByHostInstance||Mi,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{Hs=Ul.inject(xl),qs=Ul}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cl,t.createPortal=Gi,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return e=ae(t),e=null===e?null:e.stateNode},t.flushSync=function(e,t){var n=nl;if(0!==(48&n))return e(t);nl|=1;try{if(e)return Kt(99,e.bind(null,t))}finally{nl=n,Ht()}},t.hydrate=function(e,t,n){if(!ji(t))throw Error(r(200));return zi(null,e,t,!0,n)},t.render=function(e,t,n){if(!ji(t))throw Error(r(200));return zi(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ji(e))throw Error(r(40));return!!e._reactRootContainer&&(ei(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[js]=null})}),!0)},t.unstable_batchedUpdates=Zr,t.unstable_createPortal=function(e,t){return Gi(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ji(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return zi(e,t,n,!1,i)},t.version="17.0.1"},function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){"use strict";function r(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function i(e){return e=e[0],void 0===e?null:e}function o(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],u=o+1,l=e[u];if(void 0!==s&&0>a(s,n))void 0!==l&&0>a(l,s)?(e[r]=l,e[u]=n,r=u):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>a(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}return null}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}function s(e){for(var t=i(D);null!==t;){if(null===t.callback)o(D);else{if(!(t.startTime<=e))break;o(D),t.sortIndex=t.expirationTime,r(I,t)}t=i(D)}}function u(e){if(U=!1,s(e),!x)if(null!==i(I))x=!0,c(l);else{var t=i(D);null!==t&&f(u,t.startTime-e)}}function l(e,n){x=!1,U&&(U=!1,d()),L=!0;var r=C;try{for(s(n),P=i(I);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,C=P.priorityLevel;var l=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?P.callback=l:P===i(I)&&o(I),s(n)}else o(I);P=i(I)}if(null!==P)var c=!0;else{var h=i(D);null!==h&&f(u,h.startTime-n),c=!1}return c}finally{P=null,C=r,L=!1}}var c,f,d,h;if("object"===typeof performance&&"function"===typeof performance.now){var p=performance;t.unstable_now=function(){return p.now()}}else{var y=Date,g=y.now();t.unstable_now=function(){return y.now()-g}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var v=null,m=null,b=function(){if(null!==v)try{var e=t.unstable_now();v(!0,e),v=null}catch(e){throw setTimeout(b,0),e}};c=function(e){null!==v?setTimeout(c,0,e):(v=e,setTimeout(b,0))},f=function(e,t){m=setTimeout(e,t)},d=function(){clearTimeout(m)},t.unstable_shouldYield=function(){return!1},h=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,E=window.clearTimeout;if("undefined"!==typeof console){var w=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof w&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var A=!1,S=null,T=-1,O=5,N=0;t.unstable_shouldYield=function(){return t.unstable_now()>=N},h=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5};var R=new MessageChannel,k=R.port2;R.port1.onmessage=function(){if(null!==S){var e=t.unstable_now();N=e+O;try{S(!0,e)?k.postMessage(null):(A=!1,S=null)}catch(e){throw k.postMessage(null),e}}else A=!1},c=function(e){S=e,A||(A=!0,k.postMessage(null))},f=function(e,n){T=_(function(){e(t.unstable_now())},n)},d=function(){E(T),T=-1}}var I=[],D=[],B=1,P=null,C=3,L=!1,x=!1,U=!1,M=h;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||L||(x=!0,c(l))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return i(I)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,n,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?(o=o.delay,o="number"===typeof o&&0<o?a+o:a):o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=o+s,e={id:B++,callback:n,priorityLevel:e,startTime:o,expirationTime:s,sortIndex:-1},o>a?(e.sortIndex=o,r(D,e),null===i(I)&&e===i(D)&&(U?d():U=!0,f(u,o-a))):(e.sortIndex=s,r(I,e),x||L||(x=!0,c(l))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(1),s=n.n(a),u=n(79),l=n(150),c=(n.n(l),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),f=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){return s.a.createElement(u.a,null)}}]),t}(a.Component);t.a=f},function(e,t,n){"use strict";function r(){var e=Object(i.useState)(""),t=c(e,2),n=t[0],r=t[1],f=Object(i.useState)(),d=c(f,2),h=d[0],p=d[1];return Object(i.useEffect)(function(){var e=l.c.initializeDefaultAppClient("application-0-ikqxo"),t=e.getServiceClient(l.b.factory,"mongodb-atlas");p({client:e,mongodb:t})},[]),o.a.createElement("div",{className:"ui container"},o.a.createElement("div",{className:"ui segment"},o.a.createElement(u.a,{streamURL:n})),h?o.a.createElement("div",{className:"ui segment"},o.a.createElement(a.a,{mongoConnection:h}),o.a.createElement(s.a,{mongoConnection:h,changeStream:r})):"")}var i=n(1),o=n.n(i),a=n(80),s=n(147),u=n(148),l=n(21),c=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=r},function(e,t,n){"use strict";function r(e){var t=e.mongoConnection,n=t.client,r=t.mongodb,u=Object(i.useState)(""),l=s(u,2),c=l[0],f=l[1],d=Object(i.useState)(""),h=s(d,2),p=h[0],y=h[1],g=function(e){e.preventDefault(),n.auth.loginWithCredential(new a.a).then(function(){r.db("streamers").collection("streamerslist").insertOne({name:c,url:p}),f(""),y("")}).catch(console.error)};return o.a.createElement(i.Fragment,null,o.a.createElement("div",{class:"ui fluid input"},o.a.createElement("input",{type:"text",name:"first-name",placeholder:"Name",onChange:function(e){f(e.target.value)},value:c})),o.a.createElement("div",{class:"ui fluid input"},o.a.createElement("input",{type:"text",name:"last-name",placeholder:"URL",onChange:function(e){y(e.target.value)},value:p})),o.a.createElement("button",{className:"ui fluid button",type:"submit",onClick:g},"Submit"))}var i=n(1),o=n.n(i),a=n(21),s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=r},function(e,t,n){"use strict";var r=n(0),i=(n(115),n(116),n(117),n(119),n(35),n(121));n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return i.a})},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return 3*e.length/4-r(e)}function o(e){var t,n,i,o,a,s=e.length;o=r(e),a=new f(3*s/4-o),n=o>0?s-4:s;var u=0;for(t=0;t<n;t+=4)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],a[u++]=i>>16&255,a[u++]=i>>8&255,a[u++]=255&i;return 2===o?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,a[u++]=255&i):1===o&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,a[u++]=i>>8&255,a[u++]=255&i),a}function a(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i="",o=[],a=0,u=n-r;a<u;a+=16383)o.push(s(e,a,a+16383>u?u:a+16383));return 1===r?(t=e[n-1],i+=l[t>>2],i+=l[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=l[t>>10],i+=l[t>>4&63],i+=l[t<<2&63],i+="="),o.push(i),o.join("")}t.byteLength=i,t.toByteArray=o,t.fromByteArray=u;for(var l=[],c=[],f="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,p=d.length;h<p;++h)l[h]=d[h],c[d.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=n(2),i=n(14),o=n(9),a=n(7),s=n(23),u=n(10),l=n(38),c=n(25),f=n(17),d=n(3),h=n(5),p=n(6),y=n(15),g=n(8),v=n(39),m=n(40),b=n(27),_=n(41),E=n(86),w=n(22),A=n(13),S=n(42),T=n(88),O=n(89),N=n(90),R=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},k=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},I=function(){function e(e,t,n,r){void 0===r&&(r=!0),this.requestClient=e,this.authRoutes=t,this.storage=n;var i;try{i=Object(N.b)(n)}catch(e){throw new c.a(f.a.CouldNotLoadPersistedAuthInfo)}this.allUsersAuthInfo=i;var o;try{o=Object(N.a)(n)}catch(e){throw new c.a(f.a.CouldNotLoadPersistedAuthInfo)}this.activeUserAuthInfo=void 0===o?A.a.empty():o,this.activeUserAuthInfo.hasUser&&(this.currentUser=this.prepUser(this.activeUserAuthInfo)),r&&(this.accessTokenRefresher=new E.a(this),this.accessTokenRefresher.run())}return Object.defineProperty(e.prototype,"authInfo",{get:function(){return this.activeUserAuthInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoggedIn",{get:function(){return void 0!==this.currentUser&&this.currentUser.isLoggedIn},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this.currentUser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDeviceId",{get:function(){return void 0!==this.activeUserAuthInfo.deviceId&&""!==this.activeUserAuthInfo.deviceId&&"000000000000000000000000"!==this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){if(this.hasDeviceId)return this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),e.prototype.listUsers=function(){var e=this,t=[];return this.allUsersAuthInfo.forEach(function(n){t.push(e.prepUser(n))}),t},e.prototype.doAuthenticatedRequest=function(e,t){var n=this;try{return this.requestClient.doRequest(this.prepareAuthRequest(e,t||this.activeUserAuthInfo)).catch(function(t){return n.handleAuthFailure(t,e)})}catch(e){return Promise.reject(e)}},e.prototype.doAuthenticatedRequestWithDecoder=function(e,t){return this.doAuthenticatedRequest(e).then(function(e){var n=r.a.parse(e.body,{strict:!1});return t?t.decode(n):n}).catch(function(e){throw Object(i.b)(e)})},e.prototype.openAuthenticatedEventStream=function(e,t){var n=this;if(void 0===t&&(t=!0),!this.isLoggedIn)throw new c.a(f.a.MustAuthenticateFirst);var r=e.useRefreshToken?this.activeUserAuthInfo.refreshToken:this.activeUserAuthInfo.accessToken;return this.requestClient.doStreamRequest(e.builder.withPath(e.path+"&stitch_at="+r).build(),t,function(){return n.openAuthenticatedEventStream(e,!1)}).catch(function(r){return n.handleAuthFailureForEventStream(r,e,t)})},e.prototype.openAuthenticatedStreamWithDecoder=function(e,t){return this.openAuthenticatedEventStream(e).then(function(e){return new v.a(e,t)})},e.prototype.refreshAccessToken=function(){var e=this,t=(new u.a.Builder).withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(a.a.POST);return this.doAuthenticatedRequest(t.build()).then(function(t){try{var n=T.a.fromJSON(JSON.parse(t.body));if(e.activeUserAuthInfo=e.activeUserAuthInfo.merge(n),n.accessToken&&e.user instanceof m.a){var r=S.a.fromEncoded(n.accessToken).userData;e.user.customData=void 0===r?{}:r}}catch(e){throw new h.a(e,p.a.DECODING_ERROR)}try{Object(N.c)(e.activeUserAuthInfo,e.storage),e.allUsersAuthInfo.set(e.activeUserAuthInfo.userId,e.activeUserAuthInfo),Object(N.d)(e.allUsersAuthInfo,e.storage)}catch(e){throw new c.a(f.a.CouldNotPersistAuthInfo)}})},e.prototype.switchToUserWithId=function(e){var t=this.allUsersAuthInfo.get(e);if(void 0===t)throw new c.a(f.a.UserNotFound);if(!t.isLoggedIn)throw new c.a(f.a.UserNotLoggedIn);this.activeUserAuthInfo.hasUser&&this.allUsersAuthInfo.set(this.activeUserAuthInfo.userId,this.activeUserAuthInfo.withNewAuthActivityTime());var n=t.withNewAuthActivityTime();this.allUsersAuthInfo.set(e,n),Object(N.c)(n,this.storage),this.activeUserAuthInfo=n;var r=this.currentUser;return this.currentUser=this.prepUser(n),this.onAuthEvent(),this.dispatchAuthEvent({currentActiveUser:this.currentUser,kind:w.a.ActiveUserChanged,previousActiveUser:r}),this.currentUser},e.prototype.loginWithCredentialInternal=function(e){var t,n,r=this;if(e instanceof _.a)return this.processLogin(e,e.authInfo,e.asLink).then(function(e){return r.dispatchAuthEvent({kind:w.a.UserLoggedIn,loggedInUser:e}),e});if(e.providerCapabilities.reusesExistingSession)try{for(var i=R(this.allUsersAuthInfo),o=i.next();!o.done;o=i.next()){var a=k(o.value,2),s=a[0],u=a[1];if(u.loggedInProviderType===e.providerType){if(u.isLoggedIn)try{return Promise.resolve(this.switchToUserWithId(s))}catch(e){return Promise.reject(e)}void 0!==u.userId&&this.removeUserWithIdInternal(u.userId)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this.doLogin(e,!1)},e.prototype.linkUserWithCredentialInternal=function(e,t){return void 0!==this.currentUser&&e.id!==this.currentUser.id?Promise.reject(new c.a(f.a.UserNoLongerValid)):this.doLogin(t,!0)},e.prototype.logoutInternal=function(){return this.isLoggedIn&&this.currentUser?this.logoutUserWithIdInternal(this.currentUser.id):Promise.resolve()},e.prototype.logoutUserWithIdInternal=function(e){var t=this,n=this.allUsersAuthInfo.get(e);if(void 0===n)return Promise.reject(new c.a(f.a.UserNotFound));if(!n.isLoggedIn)return Promise.resolve();var r=function(){t.clearUserAuthTokens(n.userId),n.loggedInProviderType===b.a.TYPE&&t.removeUserWithIdInternal(n.userId)};return this.doLogout(n).then(function(){r()}).catch(function(){r()})},e.prototype.removeUserInternal=function(){return this.isLoggedIn&&void 0!==this.currentUser?this.removeUserWithIdInternal(this.currentUser.id):Promise.resolve()},e.prototype.removeUserWithIdInternal=function(e){var t=this,n=this.allUsersAuthInfo.get(e);if(void 0===n)return Promise.reject(new c.a(f.a.UserNotFound));var r=function(){t.clearUserAuthTokens(n.userId),t.allUsersAuthInfo.delete(e),Object(N.d)(t.allUsersAuthInfo,t.storage);var r=t.prepUser(n.loggedOut());t.onAuthEvent(),t.dispatchAuthEvent({kind:w.a.UserRemoved,removedUser:r})};return n.isLoggedIn?this.doLogout(n).then(function(){r()}).catch(function(e){r()}):(r(),Promise.resolve())},e.prototype.close=function(){this.accessTokenRefresher&&this.accessTokenRefresher.stop()},e.prototype.prepareAuthRequest=function(e,t){if(!t.isLoggedIn)throw new c.a(f.a.MustAuthenticateFirst);var n=e.builder,r=n.headers||{};return e.useRefreshToken?r[o.a.AUTHORIZATION]=o.a.getAuthorizationBearer(t.refreshToken):r[o.a.AUTHORIZATION]=o.a.getAuthorizationBearer(t.accessToken),n.withHeaders(r),n.build()},e.prototype.handleAuthFailureForEventStream=function(e,t,n){var r=this;if(void 0===n&&(n=!0),!(e instanceof y.a)||e.errorCode!==g.a.InvalidSession)throw e;if(t.useRefreshToken||!t.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),e;return this.tryRefreshAccessToken(t.startedAt).then(function(){return r.openAuthenticatedEventStream(t.builder.withShouldRefreshOnFailure(!1).build(),n)})},e.prototype.handleAuthFailure=function(e,t){var n=this;if(!(e instanceof y.a)||e.errorCode!==g.a.InvalidSession)throw e;if(t.useRefreshToken||!t.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),e;return this.tryRefreshAccessToken(t.startedAt).then(function(){return n.doAuthenticatedRequest(t.builder.withShouldRefreshOnFailure(!1).build())})},e.prototype.tryRefreshAccessToken=function(e){if(!this.isLoggedIn)throw new c.a(f.a.LoggedOutDuringRequest);try{if(S.a.fromEncoded(this.activeUserAuthInfo.accessToken).issuedAt>=e)return Promise.resolve()}catch(e){}return this.refreshAccessToken()},e.prototype.prepUser=function(e){return this.userFactory.makeUser(e.userId,e.loggedInProviderType,e.loggedInProviderName,e.isLoggedIn,e.lastAuthActivity,e.userProfile)},e.prototype.attachAuthOptions=function(e){var t={};t.device=this.deviceInfo,e.options=t},e.prototype.doLogin=function(e,t){var n=this,r=this.currentUser;return this.doLoginRequest(e,t).then(function(r){return n.processLoginResponse(e,r,t)}).then(function(e){return n.onAuthEvent(),t?n.dispatchAuthEvent({kind:w.a.UserLinked,linkedUser:e}):(n.dispatchAuthEvent({kind:w.a.UserLoggedIn,loggedInUser:e}),n.dispatchAuthEvent({currentActiveUser:e,kind:w.a.ActiveUserChanged,previousActiveUser:r})),e})},e.prototype.doLoginRequest=function(e,t){var n=new l.a.Builder;n.withMethod(a.a.POST),t?n.withPath(this.authRoutes.getAuthProviderLinkRoute(e.providerName)):n.withPath(this.authRoutes.getAuthProviderLoginRoute(e.providerName));var r=e.material;if(this.attachAuthOptions(r),n.withDocument(r),!t)return this.requestClient.doRequest(n.build());var i=new s.a(n.build(),n.document);return this.doAuthenticatedRequest(i)},e.prototype.processLogin=function(e,t,n){var r=this,i=this.activeUserAuthInfo,o=this.currentUser;return t=this.activeUserAuthInfo.merge(new A.a(t.userId,t.deviceId,t.accessToken,t.refreshToken,e.providerType,e.providerName,void 0,void 0)),this.activeUserAuthInfo=t,this.currentUser=this.userFactory.makeUser(this.activeUserAuthInfo.userId,e.providerType,e.providerName,this.activeUserAuthInfo.isLoggedIn,new Date,void 0,S.a.fromEncoded(t.accessToken).userData),this.doGetUserProfile().then(function(n){i.hasUser&&r.allUsersAuthInfo.set(i.userId,i.withNewAuthActivityTime()),t=t.merge(new A.a(t.userId,t.deviceId,t.accessToken,t.refreshToken,e.providerType,e.providerName,new Date,n));var a=!r.allUsersAuthInfo.has(t.userId);try{Object(N.c)(t,r.storage),r.allUsersAuthInfo.set(t.userId,t),Object(N.d)(r.allUsersAuthInfo,r.storage)}catch(e){throw r.activeUserAuthInfo=i,r.currentUser=o,t.userId!==i.userId&&t.userId&&r.allUsersAuthInfo.delete(t.userId),new c.a(f.a.CouldNotPersistAuthInfo)}return r.activeUserAuthInfo=t,r.currentUser=r.userFactory.makeUser(r.activeUserAuthInfo.userId,e.providerType,e.providerName,r.activeUserAuthInfo.isLoggedIn,r.activeUserAuthInfo.lastAuthActivity,n,S.a.fromEncoded(t.accessToken).userData),a&&(r.onAuthEvent(),r.dispatchAuthEvent({addedUser:r.currentUser,kind:w.a.UserAdded})),r.currentUser}).catch(function(e){if(e instanceof c.a)throw e;if(n||i.hasUser){var t=r.activeUserAuthInfo;r.activeUserAuthInfo=i,r.currentUser=o,n&&(r.activeUserAuthInfo=r.activeUserAuthInfo.withAuthProvider(t.loggedInProviderType,t.loggedInProviderName))}else r.clearActiveUserAuth();throw e})},e.prototype.processLoginResponse=function(e,t,n){try{if(!t)throw new y.a("the login response could not be processed for credential: "+e+";response was undefined");if(!t.body)throw new y.a("response with status code "+t.statusCode+" has empty body");return this.processLogin(e,T.a.fromJSON(JSON.parse(t.body)),n)}catch(e){throw new h.a(e,p.a.DECODING_ERROR)}},e.prototype.doGetUserProfile=function(){var e=new u.a.Builder;return e.withMethod(a.a.GET).withPath(this.authRoutes.profileRoute),this.doAuthenticatedRequest(e.build()).then(function(e){return O.a.fromJSON(JSON.parse(e.body))}).catch(function(e){throw e instanceof d.a?e:new h.a(e,p.a.DECODING_ERROR)})},e.prototype.doLogout=function(e){var t=new u.a.Builder;return t.withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(a.a.DELETE),this.doAuthenticatedRequest(t.build(),e).then(function(){})},e.prototype.clearActiveUserAuth=function(){this.isLoggedIn&&this.clearUserAuthTokens(this.activeUserAuthInfo.userId)},e.prototype.clearUserAuthTokens=function(e){var t=this.allUsersAuthInfo.get(e);if(void 0===t){if(this.activeUserAuthInfo.userId!==e)throw new c.a(f.a.UserNotFound)}else if(!t.isLoggedIn)return;try{var n=void 0;if(t){var r=t.loggedOut();this.allUsersAuthInfo.set(e,r),Object(N.d)(this.allUsersAuthInfo,this.storage),n=this.userFactory.makeUser(r.userId,r.loggedInProviderType,r.loggedInProviderName,r.isLoggedIn,r.lastAuthActivity,r.userProfile)}var i=!1;this.activeUserAuthInfo.hasUser&&this.activeUserAuthInfo.userId===e&&(i=!0,this.activeUserAuthInfo=this.activeUserAuthInfo.withClearedUser(),this.currentUser=void 0,Object(N.c)(this.activeUserAuthInfo,this.storage)),n&&(this.onAuthEvent(),this.dispatchAuthEvent({kind:w.a.UserLoggedOut,loggedOutUser:n}),i&&this.dispatchAuthEvent({currentActiveUser:void 0,kind:w.a.ActiveUserChanged,previousActiveUser:n}))}catch(e){throw new c.a(f.a.CouldNotPersistAuthInfo)}},e}();t.a=I},function(e,t,n){"use strict";var r=n(42),i=function(){function e(e){this.auth=e}return e.prototype.shouldRefresh=function(){var e=this.auth;if(void 0===e)return!1;if(!e.isLoggedIn)return!1;var t=e.authInfo;if(void 0===t)return!1;if(!t.isLoggedIn)return!1;var n;try{n=r.a.fromEncoded(t.accessToken)}catch(e){return console.log(e),!1}return!(Date.now()/1e3<n.expires-300)},e.prototype.run=function(){var e=this;this.shouldRefresh()?this.auth.refreshAccessToken().then(function(){e.nextTimeout=setTimeout(function(){return e.run()},6e4)}).catch(function(){e.nextTimeout=setTimeout(function(){return e.run()},6e4)}):this.nextTimeout=setTimeout(function(){return e.run()},6e4)},e.prototype.stop=function(){clearTimeout(this.nextTimeout)},e}();t.a=i},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function o(e,t,n){return 3*(t+n)/4-n}function a(e){var t,n,i=r(e),a=i[0],s=i[1],u=new d(o(e,a,s)),l=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)t=f[e.charCodeAt(n)]<<18|f[e.charCodeAt(n+1)]<<12|f[e.charCodeAt(n+2)]<<6|f[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=f[e.charCodeAt(n)]<<2|f[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=f[e.charCodeAt(n)]<<10|f[e.charCodeAt(n+1)]<<4|f[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function u(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(u(e,o,o+16383>a?a:o+16383));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=i,t.toByteArray=a,t.fromByteArray=l;for(var c=[],f=[],d="undefined"!==typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,y=h.length;p<y;++p)c[p]=h[p],f[h.charCodeAt(p)]=p;f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(e,t,n){"use strict";var r,i=n(13),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.USER_ID="user_id",e.DEVICE_ID="device_id",e.ACCESS_TOKEN="access_token",e.REFRESH_TOKEN="refresh_token"}(r||(r={}));var a=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return o(t,e),t.fromJSON=function(e){return new t(e[r.USER_ID],e[r.DEVICE_ID],e[r.ACCESS_TOKEN],e[r.REFRESH_TOKEN])},t.prototype.toJSON=function(){var e;return e={},e[r.USER_ID]=this.userId,e[r.DEVICE_ID]=this.deviceId,e[r.ACCESS_TOKEN]=this.accessToken,e[r.REFRESH_TOKEN]=this.refreshToken,e},t}(i.a);t.a=a},function(e,t,n){"use strict";var r,i=n(29),o=n(19),a=n(43),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.DATA="data",e.USER_TYPE="type",e.IDENTITIES="identities"}(r||(r={}));var u=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}return s(t,e),t.fromJSON=function(e){return i.a.keyPresent(r.USER_TYPE,e),i.a.keyPresent(r.DATA,e),i.a.keyPresent(r.IDENTITIES,e),new t(e[r.USER_TYPE],e[r.DATA],e[r.IDENTITIES].map(a.a.fromJSON))},t.prototype.toJSON=function(){var e;return e={},e[r.DATA]=this.data,e[r.USER_TYPE]=this.userType,e[r.IDENTITIES]=this.identities,e},t}(o.a);t.a=u},function(e,t,n){"use strict";function r(e){var t=e.get(p.ACTIVE_USER_STORAGE_NAME);if(t)return p.decode(JSON.parse(t))}function i(e){var t=e.get(p.ALL_USERS_STORAGE_NAME);if(!t)return new Map;var n=JSON.parse(t);if(!Array.isArray(n))throw new u.a(l.a.CouldNotLoadPersistedAuthInfo);var r=new Map;return n.forEach(function(e){var t=p.decode(e);r.set(t.userId,t)}),r}function o(e,t){if(e.isEmpty)return void t.remove(p.ACTIVE_USER_STORAGE_NAME);var n=new p(e.userId,e.deviceId,e.accessToken,e.refreshToken,e.loggedInProviderType,e.loggedInProviderName,e.lastAuthActivity,e.userProfile?new f.a(e.userProfile.userType,e.userProfile.data,e.userProfile.identities.map(function(e){return new d.a(e.id,e.providerType)})):void 0);t.set(p.ACTIVE_USER_STORAGE_NAME,JSON.stringify(n.encode()))}function a(e,t){var n=[];e.forEach(function(e,t){var r=new p(t,e.deviceId,e.accessToken,e.refreshToken,e.loggedInProviderType,e.loggedInProviderName,e.lastAuthActivity,e.userProfile?new f.a(e.userProfile.userType,e.userProfile.data,e.userProfile.identities.map(function(e){return new d.a(e.id,e.providerType)})):void 0);n.push(r.encode())}),t.set(p.ALL_USERS_STORAGE_NAME,JSON.stringify(n))}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var s,u=n(25),l=n(17),c=n(13),f=n(91),d=n(44),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.USER_ID="user_id",e.DEVICE_ID="device_id",e.ACCESS_TOKEN="access_token",e.REFRESH_TOKEN="refresh_token",e.LAST_AUTH_ACTIVITY="last_auth_activity",e.LOGGED_IN_PROVIDER_TYPE="logged_in_provider_type",e.LOGGED_IN_PROVIDER_NAME="logged_in_provider_name",e.USER_PROFILE="user_profile"}(s||(s={}));var p=function(e){function t(t,n,r,i,o,a,s,u){var l=e.call(this,t,n,r,i,o,a,s,u)||this;return l.userProfile=u,l}return h(t,e),t.decode=function(e){var n=e[s.USER_ID],r=e[s.DEVICE_ID],i=e[s.ACCESS_TOKEN],o=e[s.REFRESH_TOKEN],a=e[s.LOGGED_IN_PROVIDER_TYPE],u=e[s.LOGGED_IN_PROVIDER_NAME],l=e[s.USER_PROFILE],c=e[s.LAST_AUTH_ACTIVITY];return new t(n,r,i,o,a,u,new Date(c),f.a.decode(l))},t.prototype.encode=function(){var e={};return e[s.USER_ID]=this.userId,e[s.ACCESS_TOKEN]=this.accessToken,e[s.REFRESH_TOKEN]=this.refreshToken,e[s.DEVICE_ID]=this.deviceId,e[s.LOGGED_IN_PROVIDER_NAME]=this.loggedInProviderName,e[s.LOGGED_IN_PROVIDER_TYPE]=this.loggedInProviderType,e[s.LAST_AUTH_ACTIVITY]=this.lastAuthActivity?this.lastAuthActivity.getTime():void 0,e[s.USER_PROFILE]=this.userProfile?this.userProfile.encode():void 0,e},t.ACTIVE_USER_STORAGE_NAME="auth_info",t.ALL_USERS_STORAGE_NAME="all_auth_infos",t}(c.a)},function(e,t,n){"use strict";var r,i=n(19),o=n(44),a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.DATA="data",e.USER_TYPE="type",e.IDENTITIES="identities"}(r||(r={}));var s=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.userType=t,i.data=n,i.identities=r,i}return a(t,e),t.decode=function(e){return e?new t(e[r.USER_TYPE],e[r.DATA],e[r.IDENTITIES].map(function(e){return o.a.decode(e)})):void 0},t.prototype.encode=function(){var e;return e={},e[r.DATA]=this.data,e[r.USER_TYPE]=this.userType,e[r.IDENTITIES]=this.identities.map(function(e){return e.encode()}),e},t}(i.a);t.a=s},function(e,t,n){"use strict";var r;!function(e){e.DEVICE_ID="deviceId",e.APP_ID="appId",e.APP_VERSION="appVersion",e.PLATFORM="platform",e.PLATFORM_VERSION="platformVersion",e.SDK_VERSION="sdkVersion"}(r||(r={})),t.a=r},function(e,t,n){"use strict";var r=n(4),i=n(27),o=function(){function e(e){void 0===e&&(e=i.a.DEFAULT_NAME),this.providerType=i.a.TYPE,this.material={},this.providerCapabilities=new r.a(!0),this.providerName=e}return e}();t.a=o},function(e,t,n){"use strict";var r,i=n(4),o=n(45);!function(e){e.TOKEN="token"}(r||(r={}));!function(){function e(e,t){var n;void 0===t&&(t=o.a.DEFAULT_NAME),this.providerType=o.a.TYPE,this.providerCapabilities=new i.a(!1),this.providerName=t,this.token=e,this.material=(n={},n[r.TOKEN]=this.token,n)}}()},function(e,t,n){"use strict";var r,i=n(4),o=n(46);!function(e){e.ACCESS_TOKEN="accessToken"}(r||(r={}));!function(){function e(e,t){var n;void 0===t&&(t=o.a.DEFAULT_NAME),this.providerType=o.a.TYPE,this.providerName=t,this.accessToken=e,this.material=(n={},n[r.ACCESS_TOKEN]=this.accessToken,n)}Object.defineProperty(e.prototype,"providerCapabilities",{get:function(){return new i.a(!1)},enumerable:!0,configurable:!0})}()},function(e,t,n){"use strict";var r=n(4),i=n(47);!function(){function e(e,t){void 0===t&&(t=i.a.DEFAULT_NAME),this.providerType=i.a.TYPE,this.providerName=t,this.material=e}Object.defineProperty(e.prototype,"providerCapabilities",{get:function(){return new r.a(!1)},enumerable:!0,configurable:!0})}()},function(e,t,n){"use strict";var r,i=n(4),o=n(48);!function(e){e.AUTH_CODE="authCode"}(r||(r={}));!function(){function e(e,t){var n;void 0===t&&(t=o.a.DEFAULT_NAME),this.providerType=o.a.TYPE,this.providerCapabilities=new i.a(!1),this.providerName=t,this.authCode=e,this.material=(n={},n[r.AUTH_CODE]=this.authCode,n)}}()},function(e,t,n){"use strict";var r,i=n(4),o=n(49);!function(e){e.KEY="key"}(r||(r={}));!function(){function e(e,t){var n;void 0===t&&(t=o.a.DEFAULT_NAME),this.providerType=o.a.TYPE,this.providerCapabilities=new i.a(!1),this.providerName=t,this.key=e,this.material=(n={},n[r.KEY]=this.key,n)}}()},function(e,t,n){"use strict";var r,i=n(14),o=n(7),a=n(23),s=n(10),u=n(5),l=n(6),c=n(50),f=n(51),d=n(31),h=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.NAME="name"}(r||(r={}));var p=function(e){function t(t,n){var r=n.baseAuthRoute+"/api_keys",i=d.a.DEFAULT_NAME;return e.call(this,i,t,r)||this}return h(t,e),t.prototype.createApiKey=function(e){var t,n=new a.a.Builder;return n.withMethod(o.a.POST).withPath(this.baseRoute).withDocument((t={},t[r.NAME]=e,t)).withRefreshToken(),this.requestClient.doAuthenticatedRequest(n.build()).then(function(e){return f.a.readFromApi(e.body)}).catch(function(e){throw Object(i.b)(e)})},t.prototype.fetchApiKey=function(e){var t=new s.a.Builder;return t.withMethod(o.a.GET).withPath(this.getApiKeyRoute(e.toHexString())),t.withRefreshToken(),this.requestClient.doAuthenticatedRequest(t.build()).then(function(e){return f.a.readFromApi(e.body)}).catch(function(e){throw Object(i.b)(e)})},t.prototype.fetchApiKeys=function(){var e=new s.a.Builder;return e.withMethod(o.a.GET).withPath(this.baseRoute),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then(function(e){var t=JSON.parse(e.body);if(Array.isArray(t))return t.map(function(e){return f.a.readFromApi(e)});throw new u.a(new Error("unexpected non-array response from server"),l.a.DECODING_ERROR)}).catch(function(e){throw Object(i.b)(e)})},t.prototype.deleteApiKey=function(e){var t=new s.a.Builder;return t.withMethod(o.a.DELETE).withPath(this.getApiKeyRoute(e.toHexString())),t.withRefreshToken(),this.requestClient.doAuthenticatedRequest(t.build()).then(function(){})},t.prototype.enableApiKey=function(e){var t=new s.a.Builder;return t.withMethod(o.a.PUT).withPath(this.getApiKeyEnableRoute(e.toHexString())),t.withRefreshToken(),this.requestClient.doAuthenticatedRequest(t.build()).then(function(){})},t.prototype.disableApiKey=function(e){var t=new s.a.Builder;return t.withMethod(o.a.PUT).withPath(this.getApiKeyDisableRoute(e.toHexString())),t.withRefreshToken(),this.requestClient.doAuthenticatedRequest(t.build()).then(function(){})},t.prototype.getApiKeyRoute=function(e){return this.baseRoute+"/"+e},t.prototype.getApiKeyEnableRoute=function(e){return this.getApiKeyRoute(e)+"/enable"},t.prototype.getApiKeyDisableRoute=function(e){return this.getApiKeyRoute(e)+"/disable"},t}(c.a);t.a=p},function(e,t,n){"use strict";var r,i=n(4),o=n(31);!function(e){e.KEY="key"}(r||(r={}));!function(){function e(e,t){var n;void 0===t&&(t=o.a.DEFAULT_NAME),this.providerType=o.a.TYPE,this.providerCapabilities=new i.a(!1),this.providerName=t,this.key=e,this.material=(n={},n[r.KEY]=this.key,n)}}()},function(e,t,n){"use strict";var r,i=n(7),o=n(38),a=n(50),s=n(32),u=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e.EMAIL="email",e.PASSWORD="password"}(r||(r={}));var l;!function(e){e.EMAIL="email",e.PASSWORD="password",e.TOKEN="token",e.TOKEN_ID="tokenId",e.ARGS="arguments"}(l||(l={}));var c=function(e){function t(t,n,r){void 0===t&&(t=s.a.DEFAULT_NAME);var i=r.getAuthProviderRoute(t);return e.call(this,t,n,i)||this}return u(t,e),t.prototype.registerWithEmailInternal=function(e,t){var n,a=new o.a.Builder;return a.withMethod(i.a.POST).withPath(this.getRegisterWithEmailRoute()),a.withDocument((n={},n[r.EMAIL]=e,n[r.PASSWORD]=t,n)),this.requestClient.doRequest(a.build()).then(function(){})},t.prototype.confirmUserInternal=function(e,t){var n,r=new o.a.Builder;return r.withMethod(i.a.POST).withPath(this.getConfirmUserRoute()),r.withDocument((n={},n[l.TOKEN]=e,n[l.TOKEN_ID]=t,n)),this.requestClient.doRequest(r.build()).then(function(){})},t.prototype.resendConfirmationEmailInternal=function(e){var t,n=new o.a.Builder;return n.withMethod(i.a.POST).withPath(this.getResendConfirmationEmailRoute()),n.withDocument((t={},t[l.EMAIL]=e,t)),this.requestClient.doRequest(n.build()).then(function(){})},t.prototype.resetPasswordInternal=function(e,t,n){var r,a=new o.a.Builder;return a.withMethod(i.a.POST).withPath(this.getResetPasswordRoute()),a.withDocument((r={},r[l.TOKEN]=e,r[l.TOKEN_ID]=t,r[l.PASSWORD]=n,r)),this.requestClient.doRequest(a.build()).then(function(){})},t.prototype.sendResetPasswordEmailInternal=function(e){var t,n=new o.a.Builder;return n.withMethod(i.a.POST).withPath(this.getSendResetPasswordEmailRoute()),n.withDocument((t={},t[l.EMAIL]=e,t)),this.requestClient.doRequest(n.build()).then(function(){})},t.prototype.callResetPasswordFunctionInternal=function(e,t,n){var r,a=new o.a.Builder;return a.withMethod(i.a.POST).withPath(this.getCallResetPasswordFunctionRoute()),a.withDocument((r={},r[l.EMAIL]=e,r[l.PASSWORD]=t,r[l.ARGS]=n,r)),this.requestClient.doRequest(a.build()).then(function(){})},t.prototype.getRegisterWithEmailRoute=function(){return this.getExtensionRoute("register")},t.prototype.getConfirmUserRoute=function(){return this.getExtensionRoute("confirm")},t.prototype.getResendConfirmationEmailRoute=function(){return this.getExtensionRoute("confirm/send")},t.prototype.getResetPasswordRoute=function(){return this.getExtensionRoute("reset")},t.prototype.getSendResetPasswordEmailRoute=function(){return this.getExtensionRoute("reset/send")},t.prototype.getCallResetPasswordFunctionRoute=function(){return this.getExtensionRoute("reset/call")},t.prototype.getExtensionRoute=function(e){return this.baseRoute+"/"+e},t}(a.a);t.a=c},function(e,t,n){"use strict";var r,i=n(4),o=n(32);!function(e){e.USERNAME="username",e.PASSWORD="password"}(r||(r={}));!function(){function e(e,t,n){var a;void 0===n&&(n=o.a.DEFAULT_NAME),this.username=e,this.password=t,this.providerName=n,this.providerType=o.a.TYPE,this.providerCapabilities=new i.a(!1),this.material=(a={},a[r.USERNAME]=this.username,a[r.PASSWORD]=this.password,a)}}()},function(e,t,n){"use strict";var r;!function(e){e.Normal="normal",e.Server="server",e.Unknown="unknown"}(r||(r={}))},function(e,t,n){"use strict";!function(){function e(e){this.suiteName=e,this.storage={}}e.prototype.get=function(e){return this.storage[this.suiteName+"."+e]},e.prototype.set=function(e,t){this.storage[this.suiteName+"."+e]=t},e.prototype.remove=function(e){delete this.storage[this.suiteName+"."+e]}}()},function(e,t,n){"use strict";var r=n(52),i=function(){function e(e,t){this.functionService=new r.a(e,t.serviceRoutes)}return e.prototype.callFunction=function(e,t,n){return this.functionService.callFunction(e,t,n)},e}();t.a=i},function(e,t,n){"use strict";var r=n(3),i=n(5),o=n(18),a=n(26),s=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},u=function(){function e(e){this.reconnecter=e,this.closed=!1,this.events=[],this.listeners=[],this.lastErr=void 0}return e.prototype.isOpen=function(){return!this.closed},e.prototype.addListener=function(e){var t=this;return this.closed?void setTimeout(function(){return e.onEvent(new o.a(a.a.ERROR_EVENT_NAME,"stream closed"))},0):void 0!==this.lastErr?void setTimeout(function(){return e.onEvent(new o.a(a.a.ERROR_EVENT_NAME,t.lastErr))},0):(this.listeners.push(e),void this.poll())},e.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)},e.prototype.nextEvent=function(){var e=this;return this.closed?Promise.reject(new o.a(a.a.ERROR_EVENT_NAME,"stream closed")):void 0!==this.lastErr?Promise.reject(new o.a(a.a.ERROR_EVENT_NAME,this.lastErr)):new Promise(function(t,n){e.listenOnce({onEvent:function(e){t(e)}})})},e.prototype.close=function(){this.closed||(this.closed=!0,this.afterClose())},e.prototype.reconnect=function(t){var n=this;if(!this.reconnecter)return void(this.closed||(this.closed=!0,this.events.push(new o.a(a.a.ERROR_EVENT_NAME,"stream closed: "+t)),this.poll()));this.reconnecter().then(function(e){n.onReconnect(e)}).catch(function(s){if(!(s instanceof r.a)||!(s instanceof i.a))return n.closed=!0,n.events.push(new o.a(a.a.ERROR_EVENT_NAME,"stream closed: "+t)),void n.poll();setTimeout(function(){return n.reconnect(s)},e.RETRY_TIMEOUT_MILLIS)})},e.prototype.poll=function(){for(var e,t;0!==this.events.length;){var n=this.events.pop();try{for(var r=s(this.listeners),i=r.next();!i.done;i=r.next()){var o=i.value;o.onEvent&&o.onEvent(n)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}},e.prototype.listenOnce=function(e){var t=this;if(this.closed)return void setTimeout(function(){return e.onEvent(new o.a(a.a.ERROR_EVENT_NAME,"stream closed"))},0);if(void 0!==this.lastErr)return void setTimeout(function(){return e.onEvent(new o.a(a.a.ERROR_EVENT_NAME,t.lastErr))},0);var n={onEvent:function(r){t.removeListener(n),e.onEvent(r)}};this.addListener(n)},e.RETRY_TIMEOUT_MILLIS=5e3,e}();t.a=u},function(e,t,n){"use strict";var r=function(){function e(e,t,n){var r=this;this.statusCode=t,this.body=n,this.headers={},Object.keys(e).map(function(t,n){r.headers[t.toLocaleLowerCase()]=e[t]})}return e}();t.a=r},function(e,t,n){"use strict";var r=n(2),i=n(109),o=n(55),a=n(7),s=n(56),u=n(24),l=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})},f=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},d=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.clientAppId=t,i.routes=new s.a(t),i}return l(t,e),t.prototype.doRequest=function(t){var n=this;return this.initAppMetadata().then(function(r){return e.prototype.doRequestToURL.call(n,t,r.hostname)})},t.prototype.doStreamRequest=function(t,n,r){var i=this;return void 0===n&&(n=!0),this.initAppMetadata().then(function(o){return e.prototype.doStreamRequestToURL.call(i,t,o.hostname,n,r)})},t.prototype.getBaseURL=function(){return c(this,void 0,void 0,function(){return f(this,function(e){return[2,this.initAppMetadata().then(function(e){return e.hostname})]})})},t.prototype.initAppMetadata=function(){var t=this;if(this.appMetadata)return Promise.resolve(this.appMetadata);var n=(new u.a.Builder).withMethod(a.a.GET).withPath(this.routes.appMetadataRoute).build();return e.prototype.doRequestToURL.call(this,n,this.baseUrl).then(function(e){return t.appMetadata=i.a.fromJSON(r.a.parse(e.body)),t.appMetadata})},t}(o.a);t.a=d},function(e,t,n){"use strict";var r;!function(e){e.DEPLOYMENT_MODEL="deployment_model",e.LOCATION="location",e.HOSTNAME="hostname"}(r||(r={}));var i=function(){function e(e,t,n){this.deploymentModel=e,this.location=t,this.hostname=n}return e.fromJSON=function(t){return new e(t[r.DEPLOYMENT_MODEL],t[r.LOCATION],t[r.HOSTNAME])},e.prototype.toJSON=function(){var e;return e={},e[r.DEPLOYMENT_MODEL]=this.deploymentModel,e[r.LOCATION]=this.location,e[r.HOSTNAME]=this.hostname,e},e}();t.a=i},function(e,t,n){"use strict";var r=n(55),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){function t(t,n){return e.call(this,t,n)||this}i(t,e),t.prototype.doRequest=function(t){return e.prototype.doRequestToURL.call(this,t,this.baseUrl)},t.prototype.doStreamRequest=function(t,n,r){return void 0===n&&(n=!0),e.prototype.doStreamRequestToURL.call(this,t,this.baseUrl,n,r)},t.prototype.getBaseURL=function(){return Promise.resolve(this.baseUrl)}}(r.a)},function(e,t,n){"use strict";var r=n(33),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t){var n=e.call(this)||this;return n.type=r.b.AUTH_EVENT,n.event=t,n}return i(t,e),t}(r.a);t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(113),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n,r){var i=e.call(this,t.baseUrl,t.storage,t.dataDirectory,t.transport)||this;return i.localAppVersion=r,i.localAppName=n,i}return i(t,e),t.prototype.builder=function(){return new t.Builder(this)},t}(r.a);!function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return e&&(n.localAppVersion=e.localAppVersion,n.localAppName=e.localAppName),n}return i(n,t),n.prototype.withLocalAppName=function(e){return this.localAppName=e,this},n.prototype.withLocalAppVersion=function(e){return this.localAppVersion=e,this},n.prototype.build=function(){var n=t.prototype.build.call(this);return new e(n,this.localAppName,this.localAppVersion)},n}(r.a.Builder);e.Builder=t}(o||(o={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){function e(e,t,n,r){this.baseUrl=e,this.storage=t,this.dataDirectory=n,this.transport=r}return e.prototype.builder=function(){return new e.Builder(this)},e}();!function(e){var t=function(){function t(e){e&&(this.baseUrl=e.baseUrl,this.storage=e.storage,this.dataDirectory=e.dataDirectory,this.transport=e.transport)}return t.prototype.withBaseUrl=function(e){return this.baseUrl=e,this},t.prototype.withStorage=function(e){return this.storage=e,this},t.prototype.withDataDirectory=function(e){return this.dataDirectory=e,this},t.prototype.withTransport=function(e){return this.transport=e,this},t.prototype.build=function(){return new e(this.baseUrl,this.storage,this.dataDirectory,this.transport)},t}();e.Builder=t}(r||(r={}))},function(e,t,n){"use strict";var r=function(){function e(e,t,n,r){this.clientAppId=e,this.dataDirectory=t,this.localAppName=n,this.localAppVersion=r}return e}();t.a=r},function(e,t,n){"use strict";var r=n(0);!function(){function e(e,t,n){void 0===t&&(t=r.p.DEFAULT_NAME),void 0===n&&(n=r.p.TYPE),this.redirectUrl=e,this.providerName=t,this.providerType=n}}()},function(e,t,n){"use strict";var r=n(0);!function(){function e(e,t,n){void 0===t&&(t=r.q.DEFAULT_NAME),void 0===n&&(n=r.q.TYPE),this.redirectUrl=e,this.providerName=t,this.providerType=n}}()},function(e,t,n){"use strict";var r,i=n(118);!function(e){e.factory=new(function(){function e(){}return e.prototype.getClient=function(e,t,n){return new i.a(e,n)},e}())}(r||(r={}))},function(e,t,n){"use strict";var r=n(0),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n){return e.call(this,t,n)||this}return i(t,e),t.prototype.createApiKey=function(t){return e.prototype.createApiKey.call(this,t)},t.prototype.fetchApiKey=function(t){return e.prototype.fetchApiKey.call(this,t)},t.prototype.fetchApiKeys=function(){return e.prototype.fetchApiKeys.call(this)},t.prototype.deleteApiKey=function(t){return e.prototype.deleteApiKey.call(this,t)},t.prototype.enableApiKey=function(t){return e.prototype.enableApiKey.call(this,t)},t.prototype.disableApiKey=function(t){return e.prototype.disableApiKey.call(this,t)},t}(r.l);t.a=o},function(e,t,n){"use strict";var r,i=n(120);!function(e){e.factory=new(function(){function e(){}return e.prototype.getClient=function(e,t,n){return new i.a(t,n)},e}())}(r||(r={}))},function(e,t,n){"use strict";var r=n(0),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n){return e.call(this,r.D.DEFAULT_NAME,t,n)||this}return i(t,e),t.prototype.registerWithEmail=function(t,n){return e.prototype.registerWithEmailInternal.call(this,t,n)},t.prototype.confirmUser=function(t,n){return e.prototype.confirmUserInternal.call(this,t,n)},t.prototype.resendConfirmationEmail=function(t){return e.prototype.resendConfirmationEmailInternal.call(this,t)},t.prototype.resetPassword=function(t,n,r){return e.prototype.resetPasswordInternal.call(this,t,n,r)},t.prototype.sendResetPasswordEmail=function(t){return e.prototype.sendResetPasswordEmailInternal.call(this,t)},t.prototype.callResetPasswordFunction=function(t,n,r){return e.prototype.callResetPasswordFunctionInternal.call(this,t,n,r)},t}(r.m);t.a=o},function(e,t,n){"use strict";var r=n(0),i=n(122),o=n(123),a=n(35),s=n(125),u={},l=function(){function e(){}return Object.defineProperty(e,"defaultAppClient",{get:function(){if(void 0===e.defaultClientAppId)throw new Error("default app client has not yet been initialized/set");return u[e.defaultClientAppId]},enumerable:!0,configurable:!0}),e.getAppClient=function(e){if(void 0===u[e])throw new Error("client for app '"+e+"' has not yet been initialized");return u[e]},e.hasAppClient=function(e){return void 0!==u[e]},e.initializeDefaultAppClient=function(t,n){if(void 0===n&&(n=(new r.u.Builder).build()),void 0===t||""===t)throw new Error("clientAppId must be set to a non-empty string");if(void 0!==e.defaultClientAppId)throw new Error("default app can only be set once; currently set to '"+e.defaultClientAppId+"'");var i=e.initializeAppClient(t,n);return e.defaultClientAppId=t,i},e.initializeAppClient=function(t,n){if(void 0===n&&(n=(new r.u.Builder).build()),void 0===t||""===t)throw new Error("clientAppId must be set to a non-empty string");if(void 0!==u[t])throw new Error("client for app '"+t+"' has already been initialized");var l=n.builder?n.builder():new r.u.Builder(n);void 0===l.storage&&l.withStorage(new i.a(t)),void 0===l.transport&&(window.EventSource?l.withTransport(new o.a):l.withTransport(new a.a)),void 0!==l.baseUrl&&""!==l.baseUrl||l.withBaseUrl("https://stitch.mongodb.com"),void 0!==l.localAppName&&""!==l.localAppName||l.withLocalAppName(e.localAppName),void 0!==l.localAppVersion&&""!==l.localAppVersion||l.withLocalAppVersion(e.localAppVersion);var c=new s.a(t,l.build());return u[t]=c,c},e.clearApps=function(){u={}},e}();t.a=l},function(e,t,n){"use strict";var r=function(){function e(e){this.suiteName=e}return e.prototype.get=function(e){return localStorage.getItem(this.getKey(e))},e.prototype.set=function(e,t){localStorage.setItem(this.getKey(e),t)},e.prototype.remove=function(e){localStorage.removeItem(this.getKey(e))},e.prototype.getKey=function(e){return"__stitch.client."+this.suiteName+"."+e},e}();t.a=r},function(e,t,n){"use strict";var r=n(0),i=n(58),o=n(35),a=n(124),s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.stream=function(e,t,n){void 0===t&&(t=!0);var o=u({},e.headers);return o[r.r.ACCEPT]=r.g.TEXT_EVENT_STREAM,o[r.r.CONTENT_TYPE]=r.g.TEXT_EVENT_STREAM,Object(i.a)(e.url+"&stitch_validate=true",{body:e.body,headers:o,method:e.method,mode:"cors"}).then(function(t){var i={};return t.headers.forEach(function(e,t){i[t]=e}),t.status<200||t.status>=300?t.text().then(function(e){return Object(r.F)(new r.s(i,t.status,e))}):new Promise(function(t,r){return new a.a(new EventSource(e.url),function(e){return t(e)},function(e){return r(e)},n?function(){return n().then(function(e){return e})}:void 0)})})},t}(o.a);t.a=l},function(e,t,n){"use strict";var r=n(0),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n,r,i){var o=e.call(this,i)||this;return o.evtSrc=t,o.onOpenError=r,o.openedOnce=!1,o.evtSrc.onopen=function(e){n(o),o.openedOnce=!0},o.reset(),o}return i(t,e),t.prototype.open=function(){if(this.closed)throw new r.z(r.A.StreamClosed)},t.prototype.afterClose=function(){this.evtSrc.close()},t.prototype.onReconnect=function(e){this.evtSrc=e.evtSrc,this.reset(),this.events=e.events.concat(this.events)},t.prototype.reset=function(){var e=this;this.evtSrc.onmessage=function(t){e.events.push(new r.o(r.o.MESSAGE_EVENT,t.data)),e.poll()},this.evtSrc.onerror=function(t){return t instanceof MessageEvent?(e.lastErr=t.data,e.events.push(new r.o(r.C.ERROR_EVENT_NAME,e.lastErr)),e.close(),void e.poll()):e.openedOnce?(e.evtSrc.close(),void e.reconnect()):(e.close(),void e.onOpenError(new Error("event source failed to open and will not reconnect; check network log for more details")))}},t}(r.f);t.a=o},function(e,t,n){"use strict";function r(e){return void 0!==e.getClient}var i=n(0),o=n(126),a=n(127),s=n(136),u=function(){function e(e,t){this.info=new i.v(e,t.dataDirectory,t.localAppName,t.localAppVersion),this.routes=new s.a(this.info.clientAppId);var n=new i.w(e,t.baseUrl,t.transport);this.auth=new a.a(n,this.routes.authRoutes,t.storage,this.info),this.coreClient=new i.h(this.auth,this.routes),this.serviceClients=[],this.auth.addSynchronousAuthListener(this)}return e.prototype.getServiceClient=function(e,t){if(r(e)){var n=new i.j(this.auth,this.routes.serviceRoutes,"");return this.bindServiceClient(n),e.getClient(n,this.info)}var n=new i.j(this.auth,this.routes.serviceRoutes,t);return this.bindServiceClient(n),e.getNamedClient(n,this.info)},e.prototype.getGeneralServiceClient=function(e){var t=new i.j(this.auth,this.routes.serviceRoutes,e);return this.bindServiceClient(t),new o.a(t)},e.prototype.callFunction=function(e,t){return this.coreClient.callFunction(e,t)},e.prototype.onActiveUserChanged=function(e,t,n){this.onRebindEvent(new i.e({currentActiveUser:t,kind:i.c.ActiveUserChanged,previousActiveUser:n}))},e.prototype.bindServiceClient=function(e){this.serviceClients.push(e)},e.prototype.onRebindEvent=function(e){this.serviceClients.forEach(function(t){t.onRebindEvent(e)})},e}();t.a=u},function(e,t,n){"use strict";var r=function(){function e(e){this.proxy=e}return e.prototype.callFunction=function(e,t,n){return this.proxy.callFunction(e,t,n)},e.prototype.streamFunction=function(e,t,n){return this.proxy.streamFunction(e,t,n)},e}();t.a=r},function(e,t,n){"use strict";function r(){for(var e="",t=0;t<64;++t)e+=g.charAt(Math.floor(Math.random()*g.length));return e}function i(e){var t=e.split("$");if(4!==t.length)throw new d.a("invalid user auth data provided while marshalling user authentication data: "+e);var n=y(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return new u.d(o,a,r,i)}function o(e,t,n){var r=e.split("&"),o=new m;return r.forEach(function(e){var r=e.split("=");switch(decodeURIComponent(r[0])){case c.a.StitchError:o.lastError=decodeURIComponent(r[1]);break;case c.a.UserAuth:try{o.authInfo=i(decodeURIComponent(r[1]))}catch(e){o.lastError=e}break;case c.a.StitchLink:"ok"===r[1]&&(o.asLink=!0);break;case c.a.State:var a=decodeURIComponent(r[1]);t===a&&(o.stateValid=!0);break;case c.a.ClientAppId:var s=decodeURIComponent(r[1]);n===s&&(o.clientAppIdValid=!0)}}),o}function a(e){return void 0!==e.getClient}var s=n(128),u=(n.n(s),n(0)),l=n(130),c=n(131),f=n(132),d=n(133),h=n(134),p=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",v=function(e){function t(t,n,r,i,o){void 0===o&&(o=window);var a=e.call(this,t,n,r)||this;return a.browserAuthRoutes=n,a.authStorage=r,a.appInfo=i,a.jsdomWindow=o,a.listeners=new Set,a.synchronousListeners=new Set,a}return p(t,e),Object.defineProperty(t.prototype,"userFactory",{get:function(){return new h.a(this)},enumerable:!0,configurable:!0}),t.prototype.getProviderClient=function(e,t){return a(e)?e.getClient(this,this.requestClient,this.authRoutes):e.getNamedClient(t,this.requestClient,this.authRoutes)},t.prototype.loginWithCredential=function(t){return e.prototype.loginWithCredentialInternal.call(this,t)},t.prototype.loginWithRedirect=function(e){var t=this,n=this.prepareRedirect(e),r=n.redirectUrl,i=n.state;this.requestClient.getBaseURL().then(function(n){t.jsdomWindow.location.replace(n+t.browserAuthRoutes.getAuthProviderRedirectRoute(e,r,i,t.deviceInfo))})},t.prototype.linkWithRedirectInternal=function(e,n){var r=this;if(void 0!==this.user&&e.id!==this.user.id)return Promise.reject(new u.z(u.A.UserNoLongerValid));var i=this.prepareRedirect(n),o=i.redirectUrl,a=i.state;return this.requestClient.getBaseURL().then(function(e){var i=e+r.browserAuthRoutes.getAuthProviderLinkRedirectRoute(n,o,a,r.deviceInfo);return(t.injectedFetch?t.injectedFetch:fetch)(new Request(i,{credentials:"include",headers:{Authorization:"Bearer "+r.authInfo.accessToken},mode:"cors"}))}).then(function(e){r.jsdomWindow.location.replace(e.headers.get("X-Stitch-Location"))})},t.prototype.hasRedirectResult=function(){var e=!1;try{return e=this.parseRedirect().isValid}catch(e){return!1}finally{e||this.cleanupRedirect()}},t.prototype.handleRedirectResult=function(){try{var e=this.authStorage.get(f.a.ProviderName),t=this.authStorage.get(f.a.ProviderType),n=this.parseRedirect();return this.loginWithCredentialInternal(new u.y(this.processRedirectResult(n),t,e,n.asLink)).then(function(e){return e})}catch(e){return Promise.reject(e)}},t.prototype.linkWithCredential=function(t,n){return e.prototype.linkUserWithCredentialInternal.call(this,t,n)},t.prototype.logout=function(){return arguments.length>0?Promise.reject(new u.z(u.A.UnexpectedArguments)):e.prototype.logoutInternal.call(this)},t.prototype.logoutUserWithId=function(t){return e.prototype.logoutUserWithIdInternal.call(this,t)},t.prototype.removeUser=function(){return arguments.length>0?Promise.reject(new u.z(u.A.UnexpectedArguments)):e.prototype.removeUserInternal.call(this)},t.prototype.removeUserWithId=function(t){return e.prototype.removeUserWithIdInternal.call(this,t)},Object.defineProperty(t.prototype,"deviceInfo",{get:function(){var e={};this.hasDeviceId&&(e[u.n.DEVICE_ID]=this.deviceId),void 0!==this.appInfo.localAppName&&(e[u.n.APP_ID]=this.appInfo.localAppName),void 0!==this.appInfo.localAppVersion&&(e[u.n.APP_VERSION]=this.appInfo.localAppVersion);var t=Object(s.detect)();return t?(e[u.n.PLATFORM]=t.name,e[u.n.PLATFORM_VERSION]=t.version):(e[u.n.PLATFORM]="web",e[u.n.PLATFORM_VERSION]="0.0.0"),e[u.n.SDK_VERSION]=l.a,e},enumerable:!0,configurable:!0}),t.prototype.addAuthListener=function(e){this.listeners.add(e),this.onAuthEvent(e),this.dispatchAuthEvent({kind:u.c.ListenerRegistered})},t.prototype.addSynchronousAuthListener=function(e){this.listeners.add(e),this.onAuthEvent(e),this.dispatchAuthEvent({kind:u.c.ListenerRegistered})},t.prototype.removeAuthListener=function(e){this.listeners.delete(e)},t.prototype.onAuthEvent=function(e){var t=this;if(e){new Promise(function(n){e.onAuthEvent&&e.onAuthEvent(t),n(void 0)})}else this.listeners.forEach(function(e){t.onAuthEvent(e)})},t.prototype.dispatchAuthEvent=function(e){var t=this;switch(e.kind){case u.c.ActiveUserChanged:this.dispatchBlockToListeners(function(n){n.onActiveUserChanged&&n.onActiveUserChanged(t,e.currentActiveUser,e.previousActiveUser)});break;case u.c.ListenerRegistered:this.dispatchBlockToListeners(function(e){e.onListenerRegistered&&e.onListenerRegistered(t)});break;case u.c.UserAdded:this.dispatchBlockToListeners(function(n){n.onUserAdded&&n.onUserAdded(t,e.addedUser)});break;case u.c.UserLinked:this.dispatchBlockToListeners(function(n){n.onUserLinked&&n.onUserLinked(t,e.linkedUser)});break;case u.c.UserLoggedIn:this.dispatchBlockToListeners(function(n){n.onUserLoggedIn&&n.onUserLoggedIn(t,e.loggedInUser)});break;case u.c.UserLoggedOut:this.dispatchBlockToListeners(function(n){n.onUserLoggedOut&&n.onUserLoggedOut(t,e.loggedOutUser)});break;case u.c.UserRemoved:this.dispatchBlockToListeners(function(n){n.onUserRemoved&&n.onUserRemoved(t,e.removedUser)});break;default:return this.assertNever(e)}},t.prototype.refreshCustomData=function(){return this.refreshAccessToken()},t.prototype.assertNever=function(e){throw new Error("unexpected object: "+e)},t.prototype.dispatchBlockToListeners=function(e){this.synchronousListeners.forEach(e),this.listeners.forEach(function(t){new Promise(function(n){e(t),n(void 0)})})},t.prototype.cleanupRedirect=function(){this.jsdomWindow.history.replaceState(null,"",this.pageRootUrl()),this.authStorage.remove(f.a.State),this.authStorage.remove(f.a.ProviderName),this.authStorage.remove(f.a.ProviderType)},t.prototype.parseRedirect=function(){if("undefined"===typeof this.jsdomWindow)throw new d.a("running in a non-browser environment");if(!this.jsdomWindow.location||!this.jsdomWindow.location.hash)throw new d.a("window location hash was undefined");var e=this.authStorage.get(f.a.State);return o(this.jsdomWindow.location.hash.substring(1),e,this.appInfo.clientAppId)},t.prototype.processRedirectResult=function(e){try{if(!e.isValid)throw new d.a("invalid redirect result");if(e.lastError)throw new d.a("error handling redirect: "+e.lastError);if(!e.authInfo)throw new d.a("no user auth value was found: it could not be decoded from fragment")}catch(e){throw e}finally{this.cleanupRedirect()}return e.authInfo},t.prototype.prepareRedirect=function(e){this.authStorage.set(f.a.ProviderName,e.providerName),this.authStorage.set(f.a.ProviderType,e.providerType);var t=e.redirectUrl;void 0===t&&(t=this.pageRootUrl());var n=r();return this.authStorage.set(f.a.State,n),{redirectUrl:t,state:n}},t.prototype.pageRootUrl=function(){return[this.jsdomWindow.location.protocol,"//",this.jsdomWindow.location.host,this.jsdomWindow.location.pathname].join("")},t}(u.i);t.a=v;var m=function(){function e(){this.stateValid=!1,this.clientAppIdValid=!1,this.asLink=!1}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this.stateValid&&this.clientAppIdValid},enumerable:!0,configurable:!0}),e}()},function(e,t,n){(function(t){function n(){return"undefined"!==typeof navigator?o(navigator.userAgent):i()}function r(e){var t=s(),n=t.filter(function(t){return t.rule&&t.rule.test(e)})[0];return n?n.name:null}function i(){return"undefined"!==typeof t&&t.version&&{name:"node",version:t.version.slice(1),os:t.platform}}function o(e){var t=a();if(!e)return null;var n=t.map(function(t){var n=t.rule.exec(e),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:t.name,version:r.join(".")}}).filter(Boolean)[0]||null;return n&&(n.os=r(e)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(e)&&(n=n||{},n.bot=!0),n}function a(){return u([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]])}function s(){return u([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]])}function u(e){return e.map(function(e){return{name:e[0],rule:e[1]}})}e.exports={detect:n,detectOS:r,getNodeVersion:i,parseUserAgent:o}}).call(t,n(129))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"===typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],y=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="4.8.0"},function(e,t,n){"use strict";var r;!function(e){e.StitchError="_stitch_error",e.State="_stitch_state",e.UserAuth="_stitch_ua",e.LinkUser="_stitch_link_user",e.StitchLink="_stitch_link",e.ClientAppId="_stitch_client_app_id"}(r||(r={})),t.a=r},function(e,t,n){"use strict";var r;!function(e){e.ProviderName="_stitch_redirect_provider_name",e.ProviderType="_stitch_redirect_provider_type",e.State="_stitch_redirect_state"}(r||(r={})),t.a=r},function(e,t,n){"use strict";var r=n(0),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(r.B);t.a=o},function(e,t,n){"use strict";var r=n(135),i=function(){function e(e){this.auth=e}return e.prototype.makeUser=function(e,t,n,i,o,a,s){return new r.a(e,t,n,i,o,a,this.auth,s)},e}();t.a=i},function(e,t,n){"use strict";var r=n(0),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n,r,i,o,a,s,u){var l=e.call(this,t,n,r,i,o,a,u)||this;return l.auth=s,l}return i(t,e),t.prototype.linkWithCredential=function(e){return this.auth.linkWithCredential(this,e)},t.prototype.linkUserWithRedirect=function(e){return this.auth.linkWithRedirectInternal(this,e)},t}(r.k);t.a=o},function(e,t,n){"use strict";var r=n(0),i=n(137),o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.authRoutes=new i.a(t),n}return o(t,e),t}(r.x);t.a=a},function(e,t,n){"use strict";var r=n(0),i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.getAuthProviderRedirectRoute=function(e,t,n,r){return this.getAuthProviderLoginRoute(e.providerName)+"?redirect="+encodeURI(t)+"&state="+n+"&device="+this.uriEncodeObject(r)},t.prototype.getAuthProviderLinkRedirectRoute=function(e,t,n,r){return this.getAuthProviderLoginRoute(e.providerName)+"?redirect="+encodeURI(t)+"&state="+n+"&device="+this.uriEncodeObject(r)+"&link=true&providerRedirectHeader=true"},t.prototype.uriEncodeObject=function(e){return encodeURIComponent(Object(r.E)(JSON.stringify(e)))},t}(r.t);t.a=o},function(e,t,n){"use strict";var r=(n(59),n(142));n(65);n.d(t,"a",function(){return r.a})},function(e,t,n){"use strict";var r=n(60),i=function(){function e(e){this.service=e}return e.prototype.db=function(e){return new r.a(e,this.service)},e}();t.a=i},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,Buffer){function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!==typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}function noop(){}function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}function hrtime(e){var t=.001*performanceNow.call(performance),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]}function uptime(){return(new Date-startTime)/1e3}function _typeof$1(e){return(_typeof$1="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<i;a=r[++n])isNull(a)||!isObject(a)?o+=" "+a:o+=" "+inspect(a);return o}function deprecate(e,t){function n(){return r||(console.error(t),r=!0),e.apply(this,arguments)}if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return n}function debuglog(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}}else debugs[e]=function(){};return debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"\x1b["+inspect.colors[n][0]+"m"+e+"\x1b["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function formatValue(e,t,n){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return isString(r)||(r=formatValue(e,r,n)),r}var i=formatPrimitive(e,t);if(i)return i;var o=Object.keys(t),a=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),isError(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(t);if(0===o.length){if(isFunction(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var u="",l=!1,c=["{","}"];if(isArray(t)&&(l=!0,c=["[","]"]),isFunction(t)){u=" [Function"+(t.name?": "+t.name:"")+"]"}if(isRegExp(t)&&(u=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(u=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(u=" "+formatError(t)),0===o.length&&(!l||0==t.length))return c[0]+u+c[1];if(n<0)return isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var f;return f=l?formatArray(e,t,n,a,o):o.map(function(r){return formatProperty(e,t,n,a,r,l)}),e.seen.pop(),reduceToSingleString(f,u,c)}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?o.push(formatProperty(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,t,n,r,i,!0))}),o}function formatProperty(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=isNull(n)?formatValue(e,u.value,null):formatValue(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),isUndefined(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"===typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"===typeof e}function isString(e){return"string"===typeof e}function isSymbol(e){return"symbol"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"===typeof e}function isPrimitive(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===_typeof$1(e)||"undefined"===typeof e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),e}function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,t){var n=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(n,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$3(e,t,n){return t&&_defineProperties$3(e.prototype,t),n&&_defineProperties$3(e,n),e}function alphabetize(e){return e.split("").sort().join("")}function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$4(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),e}function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$5(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),e}function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$6(e,t,n){return t&&_defineProperties$6(e.prototype,t),n&&_defineProperties$6(e,n),e}function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=n.shiftLeft(32),n=n.add(new long_1(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new long_1(e.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new long_1(t.getLowBits(),0),a=n.multiply(i),s=n.multiply(o),u=r.multiply(i),l=r.multiply(o);return a=a.add(s.shiftRightUnsigned(32)),s=new long_1(s.getLowBits(),0).add(u).add(l.shiftRightUnsigned(32)),a=a.add(s.shiftRightUnsigned(32)),l=s.shiftLeft(32).add(new long_1(l.getLowBits(),0)),{high:a,low:l}}function lessThan(e,t){var n=e.high>>>0,r=t.high>>>0;if(n<r)return!0;if(n===r){if(e.low>>>0<t.low>>>0)return!0}return!1}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$7(e,t,n){return t&&_defineProperties$7(e.prototype,t),n&&_defineProperties$7(e,n),e}function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$8(e,t,n){return t&&_defineProperties$8(e.prototype,t),n&&_defineProperties$8(e,n),e}function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$9(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),e}function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$a(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),e}function isUint8Array(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function convertArraytoUtf8BinaryString(e,t,n){for(var r="",i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}function _typeof$2(e){return(_typeof$2="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function deserializeValue(e,t,n,r){if("number"===typeof n){if(r.relaxed)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||"object"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var i=Object.keys(n).filter(function(e){return e.startsWith("$")&&null!=n[e]}),o=0;o<i.length;o++){var a=keysToCodecs[i[o]];if(a)return a.fromExtendedJSON(n,r)}if(null!=n.$date){var s=n.$date,u=new Date;return"string"===typeof s?u.setTime(Date.parse(s)):long_1.isLong(s)?u.setTime(s.toNumber()):"number"===typeof s&&r.relaxed&&u.setTime(s),u}if(null!=n.$code){var l=Object.assign({},n);return n.$scope&&(l.$scope=deserializeValue(e,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var c=n.$ref?n:n.$dbPointer;if(c instanceof db_ref)return c;var f=Object.keys(c).filter(function(e){return e.startsWith("$")}),d=!0;if(f.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(d=!1)}),d)return db_ref.fromExtendedJSON(c)}return n}function parse(e,t){var n=this;return t=Object.assign({},{relaxed:!0},t),"boolean"===typeof t.relaxed&&(t.strict=!t.relaxed),"boolean"===typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,r){return deserializeValue(n,e,r,t)})}function stringify(e,t,n,r){null!=n&&"object"===_typeof$2(n)&&(r=n,n=0),null==t||"object"!==_typeof$2(t)||Array.isArray(t)||(r=t,t=null,n=0),r=Object.assign({},{relaxed:!0},r);var i=Array.isArray(e)?serializeArray(e,r):serializeDocument(e,r);return JSON.stringify(i,t,n)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime(),r=n>-1&&n<2534023188e5;return t.relaxed&&r?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"===typeof e&&!t.relaxed){if(Math.floor(e)===e){var i=e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX,o=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(i)return{$numberInt:e.toString()};if(o)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var a=e.flags;void 0===a&&(a=e.toString().match(/[gimuy]*$/)[0]);return new regexp(e.source,a).toExtendedJSON()}return null!=e&&"object"===_typeof$2(e)?serializeDocument(e,t):e}function serializeDocument(e,t){if(null==e||"object"!==_typeof$2(e))throw new Error("not an object instance");var n=e._bsontype;if("undefined"===typeof n){var r={};for(var i in e)r[i]=serializeValue(e[i],t);return r}if("string"===typeof n){var o=e;if("function"!==typeof o.toExtendedJSON){var a=BSON_TYPE_MAPPINGS[n];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+n);o=a(o)}return"Code"===n&&o.scope?o=new code(o.code,serializeValue(o.scope,t)):"DBRef"===n&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,t),o.db,o.fields)),o.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(n))}function validateUtf8(e,t,n){for(var r=0,i=t;i<n;i+=1){var o=e[i];if(r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}function deserialize$1(e,t,n){t=null==t?{}:t;var r=t&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is ".concat(i));if(t.allowObjectSmallerThanBufferSize&&e.length<i)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(i));if(!t.allowObjectSmallerThanBufferSize&&e.length!==i)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(i));if(i+r>e.length)throw new Error("(bson size ".concat(i," + options.index ").concat(r," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(0!==e[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,r,t,n)}function deserializeObject(e,t,n,r){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,a=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!a)var s=null;var u=null==n.fieldsAsRaw?null:n.fieldsAsRaw,l=null!=n.raw&&n.raw,c="boolean"===typeof n.bsonRegExp&&n.bsonRegExp,f=null!=n.promoteBuffers&&n.promoteBuffers,d=null==n.promoteLongs||n.promoteLongs,h=null==n.promoteValues||n.promoteValues,p=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(y<5||y>e.length)throw new Error("corrupt bson message");for(var g=r?[]:{},v=0;;){var m=e[t++];if(0===m)break;for(var b=t;0!==e[b]&&b<e.length;)b++;if(b>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var _=r?v++:e.toString("utf8",t,b);if(t=b+1,m===constants.BSON_DATA_STRING){var E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(E<=0||E>e.length-t||0!==e[t+E-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+E-1))throw new Error("Invalid UTF-8 string in BSON document");var w=e.toString("utf8",t,t+E-1);g[_]=w,t+=E}else if(m===constants.BSON_DATA_OID){var A=Buffer$4.alloc(12);e.copy(A,0,t,t+12),g[_]=new objectid(A),t+=12}else if(m===constants.BSON_DATA_INT&&!1===h)g[_]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(m===constants.BSON_DATA_INT)g[_]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(m===constants.BSON_DATA_NUMBER&&!1===h)g[_]=new double_1(e.readDoubleLE(t)),t+=8;else if(m===constants.BSON_DATA_NUMBER)g[_]=e.readDoubleLE(t),t+=8;else if(m===constants.BSON_DATA_DATE){var S=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[_]=new Date(new long_1(S,T).toNumber())}else if(m===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");g[_]=1===e[t++]}else if(m===constants.BSON_DATA_OBJECT){var O=t,N=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(N<=0||N>e.length-t)throw new Error("bad embedded document length in bson");g[_]=l?e.slice(t,t+N):deserializeObject(e,O,n,!1),t+=N}else if(m===constants.BSON_DATA_ARRAY){var R=t,k=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,I=n,D=t+k;if(u&&u[_]){I={};for(var B in n)I[B]=n[B];I.raw=!0}if(g[_]=deserializeObject(e,R,I,!0),t+=k,0!==e[t-1])throw new Error("invalid array terminator byte");if(t!==D)throw new Error("corrupted array bson")}else if(m===constants.BSON_DATA_UNDEFINED)g[_]=void 0;else if(m===constants.BSON_DATA_NULL)g[_]=null;else if(m===constants.BSON_DATA_LONG){var P=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,L=new long_1(P,C);g[_]=d&&!0===h&&L.lessThanOrEqual(JS_INT_MAX_LONG)&&L.greaterThanOrEqual(JS_INT_MIN_LONG)?L.toNumber():L}else if(m===constants.BSON_DATA_DECIMAL128){var x=Buffer$4.alloc(16);e.copy(x,0,t,t+16),t+=16;var U=new decimal128(x);g[_]=U.toObject?U.toObject():U}else if(m===constants.BSON_DATA_BINARY){var M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,F=M,j=e[t++];if(M<0)throw new Error("Negative binary type element size found");if(M>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(null!=e.slice){if(j===binary.SUBTYPE_BYTE_ARRAY){if((M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(M>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(M<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}g[_]=f&&h?e.slice(t,t+M):new binary(e.slice(t,t+M),j)}else{var $="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(M)):new Array(M);if(j===binary.SUBTYPE_BYTE_ARRAY){if((M=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(M>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(M<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(b=0;b<M;b++)$[b]=e[t+b];g[_]=f&&h?$:new binary($,j)}t+=M}else if(m===constants.BSON_DATA_REGEXP&&!1===c){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var z=e.toString("utf8",t,b);for(t=b+1,b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var G=e.toString("utf8",t,b);t=b+1;var Y=new Array(G.length);for(b=0;b<G.length;b++)switch(G[b]){case"m":Y[b]="m";break;case"s":Y[b]="g";break;case"i":Y[b]="i"}g[_]=new RegExp(z,Y.join(""))}else if(m===constants.BSON_DATA_REGEXP&&!0===c){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var V=e.toString("utf8",t,b);for(t=b+1,b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var K=e.toString("utf8",t,b);t=b+1,g[_]=new regexp(V,K)}else if(m===constants.BSON_DATA_SYMBOL){var W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(W<=0||W>e.length-t||0!==e[t+W-1])throw new Error("bad string length in bson");g[_]=e.toString("utf8",t,t+W-1),t+=W}else if(m===constants.BSON_DATA_TIMESTAMP){var H=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[_]=new timestamp(H,q)}else if(m===constants.BSON_DATA_MIN_KEY)g[_]=new min_key;else if(m===constants.BSON_DATA_MAX_KEY)g[_]=new max_key;else if(m===constants.BSON_DATA_CODE){var X=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(X<=0||X>e.length-t||0!==e[t+X-1])throw new Error("bad string length in bson");var J=e.toString("utf8",t,t+X-1);if(i)if(o){var Q=a?s(J):J;g[_]=isolateEvalWithHash(functionCache,Q,J,g)}else g[_]=isolateEval(J);else g[_]=new code(J);t+=X}else if(m===constants.BSON_DATA_CODE_W_SCOPE){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Z<13)throw new Error("code_w_scope total size shorter minimum expected length");var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<=0||ee>e.length-t||0!==e[t+ee-1])throw new Error("bad string length in bson");var te=e.toString("utf8",t,t+ee-1);t+=ee;var ne=t,re=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ie=deserializeObject(e,ne,n,!1);if(t+=re,Z<8+re+ee)throw new Error("code_w_scope total size is to short, truncating scope");if(Z>8+re+ee)throw new Error("code_w_scope total size is to long, clips outer document");if(i){if(o){var oe=a?s(te):te;g[_]=isolateEvalWithHash(functionCache,oe,te,g)}else g[_]=isolateEval(te);g[_].scope=ie}else g[_]=new code(te,ie)}else{if(m!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+m.toString(16)+' for fieldname "'+_+'", are you using the latest BSON parser?');var ae=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ae<=0||ae>e.length-t||0!==e[t+ae-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+ae-1))throw new Error("Invalid UTF-8 string in BSON document");var se=e.toString("utf8",t,t+ae-1);t+=ae;var ue=Buffer$4.alloc(12);e.copy(ue,0,t,t+12);var le=new objectid(ue);t+=12,g[_]=new db_ref(se,le)}}if(y!==t-p){if(r)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var ce=Object.keys(g).filter(function(e){return e.startsWith("$")}),fe=!0;if(ce.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(fe=!1)}),!fe)return g;if(null!=g.$id&&null!=g.$ref){var de=Object.assign({},g);return delete de.$ref,delete de.$id,delete de.$db,new db_ref(g.$ref,g.$id,g.$db||null,de)}return g}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}function readIEEE754(e,t,n,r,i){var o,a,s="big"===n,u=8*i-r-1,l=(1<<u)-1,c=l>>1,f=-7,d=s?0:i-1,h=s?1:-1,p=e[t+d];for(d+=h,o=p&(1<<-f)-1,p>>=-f,f+=u;f>0;o=256*o+e[t+d],d+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+d],d+=h,f-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)}function writeIEEE754(e,t,n,r,i,o){var a,s,u,l="big"===r,c=8*o-i-1,f=(1<<c)-1,d=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=l?o-1:0,y=l?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+d>=1?h/u:h*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=f?(s=0,a=f):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0)),isNaN(t)&&(s=0);i>=8;)e[n+p]=255&s,p+=y,s/=256,i-=8;for(a=a<<i|s,isNaN(t)&&(a+=8),c+=i;c>0;)e[n+p]=255&a,p+=y,a/=256,c-=8;e[n+p-y]|=128*g}function _typeof$3(e){return(_typeof$3="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function serializeString(e,t,n,r,i){e[r++]=constants.BSON_DATA_STRING,r=r+(i?e.write(t,r,"ascii"):e.write(t,r,"utf8"))+1,e[r-1]=0;var o=e.write(n,r+4,"utf8");return e[r+3]=o+1>>24&255,e[r+2]=o+1>>16&255,e[r+1]=o+1>>8&255,e[r]=o+1&255,r=r+4+o,e[r++]=0,r}function serializeNumber(e,t,n,r,i){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX){e[r++]=constants.BSON_DATA_INT;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=o,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX){e[r++]=constants.BSON_DATA_NUMBER;var a=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=a,e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8}else{e[r++]=constants.BSON_DATA_LONG;var s=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=s,e[r++]=0;var u=long_1.fromNumber(n),l=u.getLowBits(),c=u.getHighBits();e[r++]=255&l,e[r++]=l>>8&255,e[r++]=l>>16&255,e[r++]=l>>24&255,e[r++]=255&c,e[r++]=c>>8&255,e[r++]=c>>16&255,e[r++]=c>>24&255}else{e[r++]=constants.BSON_DATA_NUMBER;r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8}return r}function serializeNull(e,t,n,r,i){return e[r++]=constants.BSON_DATA_NULL,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r}function serializeBoolean(e,t,n,r,i){return e[r++]=constants.BSON_DATA_BOOLEAN,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function serializeDate(e,t,n,r,i){e[r++]=constants.BSON_DATA_DATE,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=long_1.fromNumber(n.getTime()),a=o.getLowBits(),s=o.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function serializeRegExp(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_REGEXP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function serializeBSONRegExp(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_REGEXP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,"utf8"),e[r++]=0,r}function serializeMinMax(e,t,n,r,i){return null===n?e[r++]=constants.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=constants.BSON_DATA_MIN_KEY:e[r++]=constants.BSON_DATA_MAX_KEY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r}function serializeObjectId(e,t,n,r,i){if(e[r++]=constants.BSON_DATA_OID,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,"string"===typeof n.id)e.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function serializeBuffer(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,o),r+=o}function serializeObject(e,t,n,r,i,o,a,s,u,l){for(var c=0;c<l.length;c++)if(l[c]===n)throw new Error("cyclic dependency detected");l.push(n),e[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var f=serializeInto(e,n,i,r,o+1,a,s,l);return l.pop(),f}function serializeDecimal128(e,t,n,r,i){return e[r++]=constants.BSON_DATA_DECIMAL128,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function serializeLong(e,t,n,r,i){e[r++]="Long"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.getLowBits(),a=n.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function serializeInt32(e,t,n,r,i){return e[r++]=constants.BSON_DATA_INT,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function serializeDouble(e,t,n,r,i){return e[r++]=constants.BSON_DATA_NUMBER,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n.value,r,"little",52,8),r+=8}function serializeFunction(e,t,n,r,i,o,a){e[r++]=constants.BSON_DATA_CODE,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s=normalizedFunctionString$1(n),u=e.write(s,r+4,"utf8")+1;return e[r]=255&u,e[r+1]=u>>8&255,e[r+2]=u>>16&255,e[r+3]=u>>24&255,r=r+4+u-1,e[r++]=0,r}function serializeCode(e,t,n,r,i,o,a,s,u){if(n.scope&&"object"===_typeof$3(n.scope)){e[r++]=constants.BSON_DATA_CODE_W_SCOPE;r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var l=r,c="string"===typeof n.code?n.code:n.code.toString();r+=4;var f=e.write(c,r+4,"utf8")+1;e[r]=255&f,e[r+1]=f>>8&255,e[r+2]=f>>16&255,e[r+3]=f>>24&255,e[r+4+f-1]=0,r=r+f+4;var d=serializeInto(e,n.scope,i,r,o+1,a,s);r=d-1;var h=d-l;e[l++]=255&h,e[l++]=h>>8&255,e[l++]=h>>16&255,e[l++]=h>>24&255,e[r++]=0}else{e[r++]=constants.BSON_DATA_CODE;r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var p=n.code.toString(),y=e.write(p,r+4,"utf8")+1;e[r]=255&y,e[r+1]=y>>8&255,e[r+2]=y>>16&255,e[r+3]=y>>24&255,r=r+4+y-1,e[r++]=0}return r}function serializeBinary(e,t,n,r,i){e[r++]=constants.BSON_DATA_BINARY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.value(!0),a=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),o.copy(e,r,0,n.position),r+=n.position}function serializeSymbol(e,t,n,r,i){e[r++]=constants.BSON_DATA_SYMBOL,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=e.write(n.value,r+4,"utf8")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r}function serializeDBRef(e,t,n,r,i,o,a){e[r++]=constants.BSON_DATA_OBJECT,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s,u=r,l={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(l.$db=n.db),l=Object.assign(l,n.fields),s=serializeInto(e,l,!1,r,i+1,o);var c=s-u;return e[u++]=255&c,e[u++]=c>>8&255,e[u++]=c>>16&255,e[u++]=c>>24&255,s}function serializeInto(e,t,n,r,i,o,a,s){r=r||0,s=s||[],s.push(t);var u=r+4;if(Array.isArray(t))for(var l=0;l<t.length;l++){var c=""+l,f=t[l];if(f&&f.toBSON){if("function"!==typeof f.toBSON)throw new TypeError("toBSON is not a function");f=f.toBSON()}var d=_typeof$3(f);if("string"===d)u=serializeString(e,c,f,u,!0);else if("number"===d)u=serializeNumber(e,c,f,u,!0);else if("boolean"===d)u=serializeBoolean(e,c,f,u,!0);else if(f instanceof Date||isDate$1(f))u=serializeDate(e,c,f,u,!0);else if(void 0===f)u=serializeNull(e,c,f,u,!0);else if(null===f)u=serializeNull(e,c,f,u,!0);else if("ObjectId"===f._bsontype||"ObjectID"===f._bsontype)u=serializeObjectId(e,c,f,u,!0);else if(Buffer$5.isBuffer(f))u=serializeBuffer(e,c,f,u,!0);else if(f instanceof RegExp||isRegExp$1(f))u=serializeRegExp(e,c,f,u,!0);else if("object"===d&&null==f._bsontype)u=serializeObject(e,c,f,u,n,i,o,a,!0,s);else if("object"===d&&"Decimal128"===f._bsontype)u=serializeDecimal128(e,c,f,u,!0);else if("Long"===f._bsontype||"Timestamp"===f._bsontype)u=serializeLong(e,c,f,u,!0);else if("Double"===f._bsontype)u=serializeDouble(e,c,f,u,!0);else if("function"===typeof f&&o)u=serializeFunction(e,c,f,u,n,i,o,!0);else if("Code"===f._bsontype)u=serializeCode(e,c,f,u,n,i,o,a,!0);else if("Binary"===f._bsontype)u=serializeBinary(e,c,f,u,!0);else if("Symbol"===f._bsontype)u=serializeSymbol(e,c,f,u,!0);else if("DBRef"===f._bsontype)u=serializeDBRef(e,c,f,u,i,o,!0);else if("BSONRegExp"===f._bsontype)u=serializeBSONRegExp(e,c,f,u,!0);else if("Int32"===f._bsontype)u=serializeInt32(e,c,f,u,!0);else if("MinKey"===f._bsontype||"MaxKey"===f._bsontype)u=serializeMinMax(e,c,f,u,!0);else if("undefined"!==typeof f._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+f._bsontype)}else if(t instanceof map)for(var h=t.entries(),p=!1;!p;){var y=h.next();if(!(p=y.done)){var g=y.value[0],v=y.value[1],m=_typeof$3(v);if("string"===typeof g&&!ignoreKeys.has(g)){if(null!=g.match(regexp$1))throw Error("key "+g+" must not contain null bytes");if(n){if("$"===g[0])throw Error("key "+g+" must not start with '$'");if(~g.indexOf("."))throw Error("key "+g+" must not contain '.'")}}if("string"===m)u=serializeString(e,g,v,u);else if("number"===m)u=serializeNumber(e,g,v,u);else if("boolean"===m)u=serializeBoolean(e,g,v,u);else if(v instanceof Date||isDate$1(v))u=serializeDate(e,g,v,u);else if(null===v||void 0===v&&!1===a)u=serializeNull(e,g,v,u);else if("ObjectId"===v._bsontype||"ObjectID"===v._bsontype)u=serializeObjectId(e,g,v,u);else if(Buffer$5.isBuffer(v))u=serializeBuffer(e,g,v,u);else if(v instanceof RegExp||isRegExp$1(v))u=serializeRegExp(e,g,v,u);else if("object"===m&&null==v._bsontype)u=serializeObject(e,g,v,u,n,i,o,a,!1,s);else if("object"===m&&"Decimal128"===v._bsontype)u=serializeDecimal128(e,g,v,u);else if("Long"===v._bsontype||"Timestamp"===v._bsontype)u=serializeLong(e,g,v,u);else if("Double"===v._bsontype)u=serializeDouble(e,g,v,u);else if("Code"===v._bsontype)u=serializeCode(e,g,v,u,n,i,o,a);else if("function"===typeof v&&o)u=serializeFunction(e,g,v,u,n,i,o);else if("Binary"===v._bsontype)u=serializeBinary(e,g,v,u);else if("Symbol"===v._bsontype)u=serializeSymbol(e,g,v,u);else if("DBRef"===v._bsontype)u=serializeDBRef(e,g,v,u,i,o);else if("BSONRegExp"===v._bsontype)u=serializeBSONRegExp(e,g,v,u);else if("Int32"===v._bsontype)u=serializeInt32(e,g,v,u);else if("MinKey"===v._bsontype||"MaxKey"===v._bsontype)u=serializeMinMax(e,g,v,u);else if("undefined"!==typeof v._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+v._bsontype)}}else{if(t.toBSON){if("function"!==typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==_typeof$3(t))throw new TypeError("toBSON function did not return an object")}for(var b in t){var _=t[b];if(_&&_.toBSON){if("function"!==typeof _.toBSON)throw new TypeError("toBSON is not a function");_=_.toBSON()}var E=_typeof$3(_);if("string"===typeof b&&!ignoreKeys.has(b)){if(null!=b.match(regexp$1))throw Error("key "+b+" must not contain null bytes");if(n){if("$"===b[0])throw Error("key "+b+" must not start with '$'");if(~b.indexOf("."))throw Error("key "+b+" must not contain '.'")}}if("string"===E)u=serializeString(e,b,_,u);else if("number"===E)u=serializeNumber(e,b,_,u);else if("boolean"===E)u=serializeBoolean(e,b,_,u);else if(_ instanceof Date||isDate$1(_))u=serializeDate(e,b,_,u);else if(void 0===_)!1===a&&(u=serializeNull(e,b,_,u));else if(null===_)u=serializeNull(e,b,_,u);else if("ObjectId"===_._bsontype||"ObjectID"===_._bsontype)u=serializeObjectId(e,b,_,u);else if(Buffer$5.isBuffer(_))u=serializeBuffer(e,b,_,u);else if(_ instanceof RegExp||isRegExp$1(_))u=serializeRegExp(e,b,_,u);else if("object"===E&&null==_._bsontype)u=serializeObject(e,b,_,u,n,i,o,a,!1,s);else if("object"===E&&"Decimal128"===_._bsontype)u=serializeDecimal128(e,b,_,u);else if("Long"===_._bsontype||"Timestamp"===_._bsontype)u=serializeLong(e,b,_,u);else if("Double"===_._bsontype)u=serializeDouble(e,b,_,u);else if("Code"===_._bsontype)u=serializeCode(e,b,_,u,n,i,o,a);else if("function"===typeof _&&o)u=serializeFunction(e,b,_,u,n,i,o);else if("Binary"===_._bsontype)u=serializeBinary(e,b,_,u);else if("Symbol"===_._bsontype)u=serializeSymbol(e,b,_,u);else if("DBRef"===_._bsontype)u=serializeDBRef(e,b,_,u,i,o);else if("BSONRegExp"===_._bsontype)u=serializeBSONRegExp(e,b,_,u);else if("Int32"===_._bsontype)u=serializeInt32(e,b,_,u);else if("MinKey"===_._bsontype||"MaxKey"===_._bsontype)u=serializeMinMax(e,b,_,u);else if("undefined"!==typeof _._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+_._bsontype)}}s.pop(),e[u++]=0;var w=u-r;return e[r++]=255&w,e[r++]=w>>8&255,e[r++]=w>>16&255,e[r++]=w>>24&255,u}function _typeof$4(e){return(_typeof$4="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function isDate$2(e){return"object"===_typeof$4(e)&&"[object Date]"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,n){var r=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=calculateElement(i.toString(),e[i],t,!0,n);else{e.toBSON&&(e=e.toBSON());for(var o in e)r+=calculateElement(o,e[o],t,!1,n)}return r}function calculateElement(e,t,n,r,i){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+5:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;case"undefined":return r||!i?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("undefined"!==typeof Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+6+t.length;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,n,i):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var o=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(o.$db=t.db),(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(o,n,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.pattern,"utf8")+1+Buffer$6.byteLength(t.options,"utf8")+1:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(t,n,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,n,i);if(n)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1}return 0}function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){t=t||{};var n="boolean"===typeof t.checkKeys&&t.checkKeys,r="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined,o="number"===typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var a=serializer(buffer$1,e,n,0,0,r,i,[]),s=Buffer$8.alloc(a);return buffer$1.copy(s,0,0,s.length),s}function serializeWithBufferAndIndex(e,t,n){n=n||{};var r="boolean"===typeof n.checkKeys&&n.checkKeys,i="boolean"===typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!==typeof n.ignoreUndefined||n.ignoreUndefined,a="number"===typeof n.index?n.index:0,s=serializer(buffer$1,e,r,0,0,i,o);return buffer$1.copy(t,a,0,s),a+s-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){t=t||{};var n="boolean"===typeof t.serializeFunctions&&t.serializeFunctions,r="boolean"!==typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,r)}function deserializeStream(e,t,n,r,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),e=ensure_buffer(e);for(var a=t,s=0;s<n;s++){var u=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;o.index=a,r[i+s]=deserializer(e,o),a+=u}return a}var __WEBPACK_IMPORTED_MODULE_0_long__=__webpack_require__(37),__WEBPACK_IMPORTED_MODULE_0_long___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_long__),__WEBPACK_IMPORTED_MODULE_1_buffer__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_1_buffer___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_buffer__),commonjsGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},map=createCommonjsModule(function(e){if("undefined"!==typeof commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;__WEBPACK_IMPORTED_MODULE_0_long___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},__WEBPACK_IMPORTED_MODULE_0_long___default.a.fromExtendedJSON=function(e,t){var n=__WEBPACK_IMPORTED_MODULE_0_long___default.a.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n},Object.defineProperty(__WEBPACK_IMPORTED_MODULE_0_long___default.a.prototype,"_bsontype",{value:"Long"});var long_1=__WEBPACK_IMPORTED_MODULE_0_long___default.a,Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double,Timestamp=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n)),_possibleConstructorReturn(r)}return _inherits(t,e),_createClass$1(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(e){return new t(long_1.fromInt(e))}},{key:"fromNumber",value:function(e){return new t(long_1.fromNumber(e))}},{key:"fromBits",value:function(e,n){return new t(e,n)}},{key:"fromString",value:function(e,n){return new t(long_1.fromString(e,n))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}(long_1);Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={},randomBytes=insecureRandomBytes;if("undefined"!==typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes},cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;"function"===typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"===typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={},on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop,performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()},startTime=new Date,process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits,formatRegExp=/%[sdj%]/g,debugs={},debugEnviron;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog},Buffer$1=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1,ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||"number"===typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var n=e.isValid(t);if(!n&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"===typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,"hex"));if(n&&"string"===typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if("string"!==typeof r)throw makeObjectIdError(this.id,n);t+=r}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"===typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"===typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString("binary"):"string"===typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"===typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!==typeof t&&(t=~~(Date.now()/1e3));var n=e.getInc(),r=Buffer$1.alloc(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,new e(n)}},{key:"createFromHexString",value:function(t){if("undefined"===typeof t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(t,"hex"));for(var n=new _Buffer(12),r=0,i=0;i<24;)n[r++]=decodeLookup[t.charCodeAt(i++)]<<4|decodeLookup[t.charCodeAt(i++)];return new e(n)}},{key:"isValid",value:function(t){return null!=t&&("number"===typeof t||("string"===typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||(t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id)))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId,BSONRegExp=function(){function e(t,n){_classCallCheck$3(this,e),this.pattern=t||"",this.options=n?alphabetize(n):"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp,BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol,Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32,Code=function(){function e(t,n){_classCallCheck$6(this,e),this.code=t,this.scope=n}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;Decimal128.fromString=function(e){var t=!1,n=!1,r=!1,i=0,o=0,a=0,s=0,u=0,l=[0],c=0,f=0,d=0,h=0,p=0,y=0,g=[0,0],v=[0,0],m=0,b=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");var _=e.match(PARSE_STRING_REGEXP),E=e.match(PARSE_INF_REGEXP),w=e.match(PARSE_NAN_REGEXP);if(!_&&!E&&!w||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(_){var A=_[2],S=_[4],T=_[5],O=_[6];S&&void 0===O&&invalidErr(e,"missing exponent power"),S&&void 0===A&&invalidErr(e,"missing exponent base"),void 0===S&&(T||O)&&invalidErr(e,"missing e before exponent")}if("+"!==e[b]&&"-"!==e[b]||(t="-"===e[b++]),!isDigit(e[b])&&"."!==e[b]){if("i"===e[b]||"I"===e[b])return new Decimal128(Buffer$2.from(t?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===e[b])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[b])||"."===e[b];)"."!==e[b]?(c<34&&("0"!==e[b]||r)&&(r||(u=o),r=!0,l[f++]=parseInt(e[b],10),c+=1),r&&(a+=1),n&&(s+=1),o+=1,b+=1):(n&&invalidErr(e,"contains multiple periods"),n=!0,b+=1);if(n&&!o)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[b]||"E"===e[b]){var N=e.substr(++b).match(EXPONENT_REGEX);if(!N||!N[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));p=parseInt(N[0],10),b+=N[0].length}if(e[b])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(d=0,c){if(h=c-1,1!==(i=a))for(;"0"===e[u+i-1];)i-=1}else d=0,h=0,l[0]=0,a=1,c=1,i=0;for(p<=s&&s-p>16384?p=EXPONENT_MIN:p-=s;p>EXPONENT_MAX;){if((h+=1)-d>34){if(l.join("").match(/^0+$/)){p=EXPONENT_MAX;break}invalidErr(e,"overflow")}p-=1}for(;p<EXPONENT_MIN||c<a;){if(0===h&&i<c){p=EXPONENT_MIN,i=0;break}if(c<a?a-=1:h-=1,p<EXPONENT_MAX)p+=1;else{if(l.join("").match(/^0+$/)){p=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(h-d+1<i){var R=o;n&&(u+=1,R+=1),t&&(u+=1,R+=1);var k=parseInt(e[u+h+1],10),I=0;if(k>=5&&(I=1,5===k))for(I=l[h]%2===1,y=u+h+2;y<R;y++)if(parseInt(e[y],10)){I=1;break}if(I)for(var D=h;D>=0;D--)if(++l[D]>9&&(l[D]=0,0===D)){if(!(p<EXPONENT_MAX))return new Decimal128(Buffer$2.from(t?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));p+=1,l[D]=1}}if(g=long_1.fromNumber(0),v=long_1.fromNumber(0),0===i)g=long_1.fromNumber(0),v=long_1.fromNumber(0);else if(h-d<17){var B=d;for(v=long_1.fromNumber(l[B++]),g=new long_1(0,0);B<=h;B++)v=v.multiply(long_1.fromNumber(10)),v=v.add(long_1.fromNumber(l[B]))}else{var P=d;for(g=long_1.fromNumber(l[P++]);P<=h-17;P++)g=g.multiply(long_1.fromNumber(10)),g=g.add(long_1.fromNumber(l[P]));for(v=long_1.fromNumber(l[P++]);P<=h;P++)v=v.multiply(long_1.fromNumber(10)),v=v.add(long_1.fromNumber(l[P]))}var C=multiply64x2(g,long_1.fromString("100000000000000000"));C.low=C.low.add(v),lessThan(C.low,v)&&(C.high=C.high.add(long_1.fromNumber(1))),m=p+EXPONENT_BIAS;var L={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};C.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(L.high=L.high.or(long_1.fromNumber(3).shiftLeft(61)),L.high=L.high.or(long_1.fromNumber(m).and(long_1.fromNumber(16383).shiftLeft(47))),L.high=L.high.or(C.high.and(long_1.fromNumber(0x7fffffffffff)))):(L.high=L.high.or(long_1.fromNumber(16383&m).shiftLeft(49)),L.high=L.high.or(C.high.and(long_1.fromNumber(562949953421311)))),L.low=C.low,t&&(L.high=L.high.or(long_1.fromString("9223372036854775808")));var x=Buffer$2.alloc(16);return b=0,x[b++]=255&L.low.low,x[b++]=L.low.low>>8&255,x[b++]=L.low.low>>16&255,x[b++]=L.low.low>>24&255,x[b++]=255&L.low.high,x[b++]=L.low.high>>8&255,x[b++]=L.low.high>>16&255,x[b++]=L.low.high>>24&255,x[b++]=255&L.high.low,x[b++]=L.high.low>>8&255,x[b++]=L.high.low>>16&255,x[b++]=L.high.low>>24&255,x[b++]=255&L.high.high,x[b++]=L.high.high>>8&255,x[b++]=L.high.high>>16&255,x[b++]=L.high.high>>24&255,new Decimal128(x)};var EXPONENT_MASK=16383;Decimal128.prototype.toString=function(){for(var e,t,n,r,i,o,a=0,s=new Array(36),u=0;u<s.length;u++)s[u]=0;var l,c,f,d,h,p=0,y=!1,g={parts:new Array(4)},v=[];p=0;var m=this.bytes;if(r=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,n=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,t=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,e=m[p++]|m[p++]<<8|m[p++]<<16|m[p++]<<24,p=0,{low:new long_1(r,n),high:new long_1(t,e)}.high.lessThan(long_1.ZERO)&&v.push("-"),(i=e>>26&31)>>3===3){if(30===i)return v.join("")+"Infinity";if(31===i)return"NaN";o=e>>15&EXPONENT_MASK,f=8+(e>>14&1)}else f=e>>14&7,o=e>>17&EXPONENT_MASK;if(l=o-EXPONENT_BIAS,g.parts[0]=(16383&e)+((15&f)<<14),g.parts[1]=t,g.parts[2]=n,g.parts[3]=r,0===g.parts[0]&&0===g.parts[1]&&0===g.parts[2]&&0===g.parts[3])y=!0;else for(h=3;h>=0;h--){var b=0,_=divideu128(g);if(g=_.quotient,b=_.rem.low)for(d=8;d>=0;d--)s[9*h+d]=b%10,b=Math.floor(b/10)}if(y)a=1,s[p]=0;else for(a=36;!s[p];)a-=1,p+=1;if((c=a-1+l)>=34||c<=-7||l>0){if(a>34)return v.push(0),l>0?v.push("E+"+l):l<0&&v.push("E"+l),v.join("");v.push(s[p++]),(a-=1)&&v.push(".");for(var E=0;E<a;E++)v.push(s[p++]);v.push("E"),c>0?v.push("+"+c):v.push(c)}else if(l>=0)for(var w=0;w<a;w++)v.push(s[p++]);else{var A=a+l;if(A>0)for(var S=0;S<A;S++)v.push(s[p++]);else v.push("0");for(v.push(".");A++<0;)v.push("0");for(var T=0;T<a-Math.max(A-1,0);T++)v.push(s[p++])}return v.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128,MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey,MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey,DBRef=function(){function e(t,n,r,i){_classCallCheck$9(this,e);var o=t.split(".");2===o.length&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=i||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),e=Object.assign(e,this.fields)}}],[{key:"fromExtendedJSON",value:function(t){var n=Object.assign({},t);return["$ref","$id","$db"].forEach(function(e){return delete n[e]}),new e(t.$ref,t.$id,t.$db,n)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef,Buffer$3=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,Binary=function(){function e(t,n){if(_classCallCheck$a(this,e),null!=t&&"string"!==typeof t&&!Buffer$3.isBuffer(t)&&!(t instanceof Uint8Array)&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==t||t instanceof Number)"undefined"!==typeof Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):"undefined"!==typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"===typeof t)if("undefined"!==typeof Buffer$3)this.buffer=Buffer$3.from(t);else{if("undefined"===typeof Uint8Array&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!==typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!==typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n=null;if(n="string"===typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"===typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if("undefined"!==typeof Buffer$3&&"string"===typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&"string"!==typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e[i];this.position=t>this.position?t:this.position}else if("string"===typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n="undefined"!==typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n}},{key:"value",value:function(e){if((e=null!=e&&e)&&"undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if("undefined"!==typeof Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),t=Number(this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?"0"+t:t}}}}],[{key:"fromExtendedJSON",value:function(t){var n=t.$binary.subType?parseInt(t.$binary.subType,16):0;return new e(Buffer$3.from(t.$binary.base64,"base64"),n)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128},keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp},BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000,BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}},extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128,validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={},deserializer=deserialize$1,float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754},Buffer$5=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(e){return"object"===_typeof$3(e)&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},serializer=serializeInto,Buffer$6=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString,calculate_size=calculateObjectSize,Buffer$7=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=__WEBPACK_IMPORTED_MODULE_1_buffer___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE),bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__.a=bson}).call(__webpack_exports__,__webpack_require__(11),__webpack_require__(12).Buffer)},function(e,t,n){"use strict";function r(e,t,n,r){var i;i=t in e?E.updateDescriptionDecoder.decode(e[t]):void 0;var o;return n in e?(o=e[n],r&&(o=r.decode(o))):o=void 0,{updateDescription:i,fullDocument:o}}var i,o=n(0),a=n(63),s=n(64);!function(e){e.InsertedIds="insertedIds"}(i||(i={}));var u;!function(e){e.InsertedId="insertedId"}(u||(u={}));var l;!function(e){e.MatchedCount="matchedCount",e.ModifiedCount="modifiedCount",e.UpsertedId="upsertedId"}(l||(l={}));var c;!function(e){e.DeletedCount="deletedCount"}(c||(c={}));var f;!function(e){e.UpdatedFields="updatedFields",e.RemovedFields="removedFields"}(f||(f={}));var d;!function(e){e.Id="_id",e.OperationType="operationType",e.FullDocument="fullDocument",e.DocumentKey="documentKey",e.Namespace="ns",e.NamespaceDb="db",e.NamespaceColl="coll",e.UpdateDescription="updateDescription"}(d||(d={}));var h;!function(e){e.OperationType="ot",e.FullDocument="fd",e.DocumentKey="dk",e.UpdateDescription="ud",e.StitchDocumentVersion="sdv",e.StitchDocumentHash="sdh"}(h||(h={}));var p=function(){function e(){}return e.prototype.decode=function(e){return new s.a(e[i.InsertedIds])},e}(),y=function(){function e(){}return e.prototype.decode=function(e){return{insertedId:e[u.InsertedId]}},e}(),g=function(){function e(){}return e.prototype.decode=function(e){return{matchedCount:e[l.MatchedCount],modifiedCount:e[l.ModifiedCount],upsertedId:e[l.UpsertedId]}},e}(),v=function(){function e(){}return e.prototype.decode=function(e){return{deletedCount:e[c.DeletedCount]}},e}(),m=function(){function e(){}return e.prototype.decode=function(e){return o.b.keyPresent(f.UpdatedFields,e),o.b.keyPresent(f.RemovedFields,e),{removedFields:e[f.RemovedFields],updatedFields:e[f.UpdatedFields]}},e}(),b=function(){function e(e){this.decoder=e}return e.prototype.decode=function(e){o.b.keyPresent(d.Id,e),o.b.keyPresent(d.OperationType,e),o.b.keyPresent(d.Namespace,e),o.b.keyPresent(d.DocumentKey,e);var t=e[d.Namespace],n=r(e,d.UpdateDescription,d.FullDocument,this.decoder),i=n.updateDescription,s=n.fullDocument;return{documentKey:e[d.DocumentKey],fullDocument:s,id:e[d.Id],namespace:{collection:t[d.NamespaceColl],database:t[d.NamespaceDb]},operationType:Object(a.a)(e[d.OperationType]),updateDescription:i}},e}(),_=function(){function e(e){this.decoder=e}return e.prototype.decode=function(e){o.b.keyPresent(h.OperationType,e),o.b.keyPresent(h.DocumentKey,e);var t,n=r(e,h.UpdateDescription,h.FullDocument,this.decoder),i=n.updateDescription,s=n.fullDocument;t=h.StitchDocumentVersion in e?e[h.StitchDocumentVersion]:void 0;var u;return u=h.StitchDocumentHash in e?e[h.StitchDocumentHash]:void 0,{documentKey:e[h.DocumentKey],fullDocument:s,operationType:Object(a.a)(e[h.OperationType]),stitchDocumentHash:u,stitchDocumentVersion:t,updateDescription:i}},e}(),E=function(){function e(){}return e.remoteInsertManyResultDecoder=new p,e.remoteInsertOneResultDecoder=new y,e.remoteUpdateResultDecoder=new g,e.remoteDeleteResultDecoder=new v,e.updateDescriptionDecoder=new m,e.ChangeEventDecoder=b,e.CompactChangeEventDecoder=_,e}();t.a=E},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,i=n(59),o=n(143);!function(e){e.factory=new(function(){function e(){}return e.prototype.getNamedClient=function(e,t){return new o.a(new i.a(e))},e}())}(r||(r={}))},function(e,t,n){"use strict";var r=n(144),i=function(){function e(e){this.proxy=e}return e.prototype.db=function(e){return new r.a(this.proxy.db(e))},e}();t.a=i},function(e,t,n){"use strict";var r=n(145),i=function(){function e(e){this.proxy=e,this.name=this.proxy.name}return e.prototype.collection=function(e,t){return new r.a(this.proxy.collection(e,t))},e}();t.a=i},function(e,t,n){"use strict";var r=n(65),i=function(){function e(e){this.proxy=e,this.namespace=this.proxy.namespace}return e.prototype.withCollectionType=function(t){return new e(this.proxy.withCollectionType(t))},e.prototype.count=function(e,t){return this.proxy.count(e,t)},e.prototype.find=function(e,t){return new r.a(this.proxy.find(e,t))},e.prototype.findOne=function(e,t){return this.proxy.findOne(e,t)},e.prototype.findOneAndUpdate=function(e,t,n){return this.proxy.findOneAndUpdate(e,t,n)},e.prototype.findOneAndReplace=function(e,t,n){return this.proxy.findOneAndReplace(e,t,n)},e.prototype.findOneAndDelete=function(e,t){return this.proxy.findOneAndDelete(e,t)},e.prototype.aggregate=function(e){return new r.a(this.proxy.aggregate(e))},e.prototype.insertOne=function(e){return this.proxy.insertOne(e)},e.prototype.insertMany=function(e){return this.proxy.insertMany(e)},e.prototype.deleteOne=function(e){return this.proxy.deleteOne(e)},e.prototype.deleteMany=function(e){return this.proxy.deleteMany(e)},e.prototype.updateOne=function(e,t,n){return this.proxy.updateOne(e,t,n)},e.prototype.updateMany=function(e,t,n){return this.proxy.updateMany(e,t,n)},e.prototype.watch=function(e){return this.proxy.watch(e)},e.prototype.watchCompact=function(e){return this.proxy.watchCompact(e)},e}();t.a=i},function(e,t,n){"use strict";var r=function(){function e(e){this.proxy=e}return e.prototype.next=function(){return Promise.resolve(this.proxy.next().value)},e}();t.a=r},function(e,t,n){"use strict";function r(e){var t=e.changeStream,n=e.mongoConnection,r=n.client,u=n.mongodb,l=Object(i.useState)([]),c=s(l,2),f=c[0],d=c[1];return setTimeout(function(){r&&r.auth.loginWithCredential(new a.a).then(function(){u.db("streamers").collection("streamerslist").find().asArray().then(function(e){d(e)})}).catch(console.error)},2e3),o.a.createElement("table",{className:"ui celled table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"URL"))),o.a.createElement("tbody",null,f.map(function(e){return o.a.createElement("tr",null,o.a.createElement("td",{"data-label":"Name"},e.name),o.a.createElement("td",{"data-label":"URL"},o.a.createElement("a",{onClick:function(n){t(e.url)}},e.url)))})))}var i=n(1),o=n.n(i),a=n(21),s=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=r},function(e,t,n){"use strict";function r(e){var t=e.streamURL;return o.a.createElement("div",{className:"left-container"},o.a.createElement("div",{className:"video-container"},o.a.createElement(s.a,{url:t})))}var i=n(1),o=n.n(i),a=n(149),s=n.n(a);t.a=r},function(e,t,n){!function(t,r){e.exports=r(n(1))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=32)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],f=0;l=Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},17:function(t,n){t.exports=e},24:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},30:function(e,t,n){var r,r;!function(t){e.exports=function(){var e;return function e(t,n,i){function o(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof r&&r;if(!u&&l)return r(s,!0);if(a)return a(s,!0);var c=Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n||e)},f,f.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;i.length>s;s++)o(i[s]);return o}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,u=0;r>u;u++)l[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,n,r){!function(t){var i={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var n=null,r=null,o=/^([^#]*)(.*)$/.exec(t);o&&(r=o[2],t=o[1]);var a=/^([^\?]*)(.*)$/.exec(t);a&&(n=a[2],t=a[1]);var s=/^([^#]*)(.*)$/.exec(e);s&&(e=s[1]);var u=/^([^\?]*)(.*)$/.exec(e);u&&(e=u[1]);var l=/^(([a-z]+:)?\/\/[a-z0-9\.\-_~]+(:[0-9]+)?)?(\/.*)$/i.exec(e);if(!l)throw Error("Error trying to parse base URL.");var c=l[2]||"",f=l[1]||"",d=l[4],h=null;return h=/^\/\//.test(t)?c+"//"+i.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?f+"/"+i.buildAbsolutePath("",t.substring(1)):i.buildAbsolutePath(f+d,t),n&&(h+=n),r&&(h+=r),h},buildAbsolutePath:function(e,t){for(var n,r,i=t,o="",a=e.replace(/[^\/]*$/,i.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),s=0;(r=a.indexOf("/../",s))>-1;s=r+n)n=/^\/(?:\.\.\/)*/.exec(a.slice(r))[0].length,o=(o+a.substring(s,r)).replace(RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return o+a.substr(s)}};"object"==typeof r&&"object"==typeof n?n.exports=i:"function"==typeof e&&e.amd?e([],function(){return i}):"object"==typeof r?r.URLToolkit=i:t.URLToolkit=i}(this)},{}],3:[function(e,t,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;t.exports=function(e,t){function n(e){g[e]=!0;for(var t in i[e][1]){var r=i[e][1][t];g[r]||n(r)}}for(var s,u=Object.keys(o),l=0,c=u.length;c>l;l++){var f=u[l],d=o[f].exports;if(d===e||d&&d.default===e){s=f;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},l=0,c=u.length;c>l;l++){var f=u[l];h[f]=f}i[s]=[Function(["require","module","exports"],"("+e+")(self)"),h]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),y={};y[s]=s,i[p]=[Function(["require"],"var f = require("+a(s)+");(f.default ? f.default : f)(self);"),y];var g={};n(p);var v="("+r+")({"+Object.keys(g).map(function(e){return a(e)+":["+i[e][0]+","+a(i[e][1])+"]"}).join(",")+"},{},["+a(p)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([v],{type:"text/javascript"});if(t&&t.bare)return b;var _=m.createObjectURL(b),E=new Worker(_);return E.objectURL=_,E}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(30),h=r(d),p=e(26),y=e(45),g=e(9),v=r(g),m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FRAG_LOADING,l.default.FRAG_LOADED,l.default.FRAG_BUFFERED,l.default.ERROR));return n.lastLoadedFragLevel=0,n._autoLevelCapping=-1,n._nextAutoLevel=-1,n.hls=e,n.onCheck=n.abandonRulesCheck.bind(n),n}return a(t,e),s(t,[{key:"destroy",value:function(){this.clearTimer(),f.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var n=this.hls,r=e.frag.level,i=n.levels[r].details.live,o=n.config,a=void 0,s=void 0;i?(a=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(a=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this.bwEstimator=new v.default(n,s,a,o.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,n=this.fragCurrent,r=n.loader,i=this.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return y.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var o=r.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var a=performance.now()-o.trequest,s=Math.abs(t.playbackRate);if(a>500*n.duration/s){var u=e.levels,c=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/a),f=o.total?o.total:Math.max(o.loaded,Math.round(n.duration*u[n.level].bitrate/8)),d=t.currentTime,p=(f-o.loaded)/c,g=(h.default.bufferInfo(t,d,e.config.maxBufferHole).end-d)/s;if(2*n.duration/s>g&&p>g){var v=void 0,m=void 0;for(m=n.level-1;m>i&&(v=n.duration*u[m].bitrate/(6.4*c),g<=v);m--);p>v&&(y.logger.warn("loading too slow, abort fragment loading and switch to level "+m+":fragLoadedDelay["+m+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+p.toFixed(1)+":"+g.toFixed(1)),e.nextLoadLevel=m,this.bwEstimator.sample(a,o.loaded),r.abort(),this.clearTimer(),e.trigger(l.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:o}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,e.frag.bitrateTest)){var n=e.stats;n.tparsed=n.tbuffered=n.tload,this.onFragBuffered(e)}}},{key:"onFragBuffered",value:function(e){var t=e.stats,n=e.frag;if(!0!==t.aborted&&1===n.loadCounter&&"main"===n.type&&(!n.bitrateTest||t.tload===t.tbuffered)){var r=t.tparsed-t.trequest;y.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(r,t.loaded),this.bitrateTestDelay=n.bitrateTest?r/1e3:0}}},{key:"onError",value:function(e){switch(e.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,n,r,i,o,a,s,u){for(var l=i;l>=r;l--){var c=u[l],f=c.details,d=f?f.totalduration/f.fragments.length:t,h=!!f&&f.live,p=void 0;p=l>e?s*n:a*n;var g=u[l].bitrate,v=g*d/p;if(y.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(p)+"/"+g+"/"+d+"/"+o+"/"+v),p>g&&(!v||h||o>v))return l}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,n=this.hls,r=n.levels,i=n.config.minAutoBitrate;if(!(-1===e||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var o=this.nextABRAutoLevel;if(-1!==e&&(o=Math.min(e,o)),void 0!==i)for(;i>r[o].bitrate;)o++;return o},set:function(e){this._nextAutoLevel=e}},{key:"minAutoLevel",get:function(){for(var e=this.hls,t=e.levels,n=e.config.minAutoBitrate,r=t?t.length:0,i=0;r>i;i++)if(t[i].bitrate>n)return i;return 0}},{key:"maxAutoLevel",get:function(){var e=this.hls.levels,t=this._autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,n=e.levels,r=e.config,i=this.minAutoLevel,o=e.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,f=(h.default.bufferInfo(o,u,r.maxBufferHole).end-u)/l,d=this.findBestLevel(a,s,c,i,t,f,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(0>d){y.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=r.maxStarvationDelay,g=r.abrBandWidthFactor,v=r.abrBandWidthUpFactor;if(0===f){var m=this.bitrateTestDelay;m&&(p=r.maxLoadingDelay-m,y.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),g=v=1)}return d=this.findBestLevel(a,s,c,i,t,f+p,g,v,n),Math.max(d,0)}return d}}]),t}(f.default);n.default=m},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(41),l=r(u),c=e(30),f=r(c),d=e(22),h=r(d),p=e(28),y=r(p),g=e(27),v=r(g),m=e(31),b=r(m),_=e(46),E=r(_),w=e(26),A=e(45),S={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR"},T=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,y.default.MEDIA_ATTACHED,y.default.MEDIA_DETACHING,y.default.AUDIO_TRACKS_UPDATED,y.default.AUDIO_TRACK_SWITCH,y.default.AUDIO_TRACK_LOADED,y.default.KEY_LOADED,y.default.FRAG_LOADED,y.default.FRAG_PARSING_INIT_SEGMENT,y.default.FRAG_PARSING_DATA,y.default.FRAG_PARSED,y.default.ERROR,y.default.BUFFER_CREATED,y.default.BUFFER_APPENDED,y.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n.ontick=n.tick.bind(n),n}return a(t,e),s(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),v.default.prototype.destroy.call(this),this.state=S.STOPPED}},{key:"startLoad",value:function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(A.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=S.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=S.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=S.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=S.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var e,t,n,r=this.hls,i=r.config;switch(this.state){case S.ERROR:case S.PAUSED:break;case S.STARTING:this.state=S.WAITING_TRACK,this.loadedmetadata=!1;break;case S.IDLE:if(!this.media&&(this.startFragRequested||!i.startFragPrefetch))break;e=this.loadedmetadata?this.media.currentTime:this.nextLoadPosition;var o=this.mediaBuffer?this.mediaBuffer:this.media,a=f.default.bufferInfo(o,e,i.maxBufferHole),s=a.len,u=a.end,c=this.fragPrevious;if(i.maxMaxBufferLength>s&&this.tracks.length>this.trackId){if(void 0===(n=this.tracks[this.trackId].details)){this.state=S.WAITING_TRACK;break}if(!n.live&&c&&c.sn===n.endSN&&(!this.media.seeking||c.duration/2>this.media.duration-u)){this.hls.trigger(y.default.BUFFER_EOS,{type:"audio"}),this.state=S.ENDED;break}var d=n.fragments,h=d.length,p=d[0].start,g=d[h-1].start+d[h-1].duration,v=void 0;if(p>u?v=d[0]:function(){var e=void 0,t=i.maxFragLookUpTolerance;g>u?(u>g-t&&(t=0),e=l.default.search(d,function(e){return e.start+e.duration-t>u?e.start-t>u?-1:0:1})):e=d[h-1],e&&(v=e,p=e.start,c&&v.level===c.level&&v.sn===c.sn&&(n.endSN>v.sn?(v=d[v.sn+1-n.startSN],A.logger.log("SN just loaded, load next one: "+v.sn)):v=null))}(),v)if(null!=v.decryptdata.uri&&null==v.decryptdata.key)A.logger.log("Loading key for "+v.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+this.trackId),this.state=S.KEY_LOADING,r.trigger(y.default.KEY_LOADING,{frag:v});else{if(A.logger.log("Loading "+v.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+this.trackId+", currentTime:"+e+",bufferEnd:"+u.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,v.loadCounter){v.loadCounter++;var m=i.fragLoadingLoopThreshold;if(v.loadCounter>m&&Math.abs(this.fragLoadIdx-v.loadIdx)<m)return void r.trigger(y.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:v})}else v.loadCounter=1;v.loadIdx=this.fragLoadIdx,this.fragCurrent=v,this.startFragRequested=!0,this.nextLoadPosition=v.start+v.duration,r.trigger(y.default.FRAG_LOADING,{frag:v}),this.state=S.FRAG_LOADING}}break;case S.WAITING_TRACK:(t=this.tracks[this.trackId])&&t.details&&(this.state=S.IDLE);break;case S.FRAG_LOADING_WAITING_RETRY:var b=performance.now(),_=this.retryDate;o=this.media;var E=o&&o.seeking;_&&_>b&&!E||(A.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=S.IDLE)}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(A.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===S.ENDED&&(this.state=S.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(e){A.logger.log("audio tracks updated"),this.tracks=e.audioTracks}},{key:"onAudioTrackSwitch",value:function(e){var t=!!e.url;this.trackId=e.id,this.state=S.IDLE,this.fragCurrent=null,this.state=S.PAUSED,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.hls.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),this.tick()}},{key:"onAudioTrackLoaded",value:function(e){var t=e.details,n=e.id,r=this.tracks[n],i=t.totalduration;if(A.logger.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),t.PTSKnown=!1,r.details=t,!this.startFragRequested){if(-1===this.startPosition){var o=t.startTimeOffset;isNaN(o)?this.startPosition=0:(A.logger.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===S.WAITING_TRACK&&(this.state=S.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===S.KEY_LOADING&&(this.state=S.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent;if(this.state===S.FRAG_LOADING&&t&&"audio"===e.frag.type&&e.frag.level===t.level&&e.frag.sn===t.sn){this.state=S.PARSING,this.stats=e.stats;var n=this.tracks[this.trackId],r=n.details,i=r.totalduration,o=t.start,a=t.level,s=t.sn,u=this.config.defaultAudioCodec||n.audioCodec;this.pendingAppending=0,this.demuxer||(this.demuxer=new h.default(this.hls,"audio")),A.logger.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a);var l=r.PTSKnown||!r.live;this.demuxer.push(e.payload,u,null,o,t.cc,a,s,i,t.decryptdata,l)}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S.PARSING){var n=e.tracks,r=void 0;if(r=n.audio){r.levelCodec="mp4a.40.2",r.id=e.id,this.hls.trigger(y.default.BUFFER_CODECS,n),A.logger.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var i=r.initSegment;i&&(this.pendingAppending++,this.hls.trigger(y.default.BUFFER_APPENDING,{type:"audio",data:i,parent:"audio",content:"initSegment"})),this.tick()}}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent;if(n&&"audio"===e.id&&e.sn===n.sn&&e.level===n.level&&this.state===S.PARSING){var r=this.tracks[this.trackId],i=this.fragCurrent;A.logger.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),b.default.updateFragPTSDTS(r.details,i.sn,e.startPTS,e.endPTS),[e.data1,e.data2].forEach(function(n){n&&(t.pendingAppending++,t.hls.trigger(y.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"audio",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"audio"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S.PARSING&&(this.stats.tparsed=performance.now(),this.state=S.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(e){if("audio"===e.parent)switch(this.state){case S.PARSING:case S.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:"_checkAppendedParsed",value:function(){if(this.state===S.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.hls.trigger(y.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;A.logger.log("audio buffered : "+E.default.toString(n.buffered)),this.state=S.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(r.fragLoadingMaxRetry<n)A.logger.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(y.default.ERROR,e),this.state=S.ERROR;else{this.fragLoadError=n,t.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);A.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=S.FRAG_LOADING_WAITING_RETRY}}break;case w.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case w.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case w.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==S.ERROR&&(this.state=e.fatal?S.ERROR:S.IDLE,A.logger.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."))}}},{key:"onBufferFlushed",value:function(){this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=S.IDLE,this.fragPrevious=null,this.tick()}}]),t}(v.default);n.default=T},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(45),h=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MANIFEST_LOADING,l.default.MANIFEST_LOADED,l.default.AUDIO_TRACK_LOADED))}return a(t,e),s(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(e){var t=this,n=e.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(l.default.AUDIO_TRACKS_UPDATED,{audioTracks:n});var i=0;n.forEach(function(e){return e.default?(t.audioTrack=i,void(r=!0)):void i++}),!1===r&&n.length&&(d.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(e){this.tracks.length>e.id&&(d.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(e){if(e>=0&&this.tracks.length>e){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=e,d.logger.log("switching to audioTrack "+e);var t=this.tracks[e],n=t.type,r=t.url;this.hls.trigger(l.default.AUDIO_TRACK_SWITCH,{id:e,type:n,url:r});var i=t.details;!r||void 0!==i&&!0!==i.live||(d.logger.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(l.default.AUDIO_TRACK_LOADING,{url:r,id:e}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(f.default);n.default=h},{27:27,28:28,45:45}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(45),h=e(26),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.MANIFEST_PARSED,l.default.BUFFER_RESET,l.default.BUFFER_APPENDING,l.default.BUFFER_CODECS,l.default.BUFFER_EOS,l.default.BUFFER_FLUSHING,l.default.LEVEL_PTS_UPDATED,l.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return a(t,e),s(t,[{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var r=this.sourceBuffer.audio;if(Math.abs(r.timestampOffset-e.start)>.1){var i=r.updating;try{r.abort()}catch(e){i=!0,d.logger.warn("can not abort audio buffer: "+e)}i?this.audioTimestampOffset=e.start:(d.logger.warn("change mpeg audio timestamp offset from "+r.timestampOffset+" to "+e.start),r.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,n=e.video,r=0;e.altAudio&&(t||n)&&(r=(t?1:0)+(n?1:0),d.logger.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(n)}}},{key:"onMediaDetaching",value:function(){d.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){d.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(l.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){d.logger.log("media source opened"),this.hls.trigger(l.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;!t||this.sourceBufferNb>t&&0!==this.sourceBufferNb||(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){d.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){d.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;d.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1,this.hls.trigger(l.default.BUFFER_APPENDED,{parent:this.parent}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){d.logger.error("sourceBuffer error:"+e),this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var r in e)if(!t[r]){var i=e[r],o=i.levelCodec||i.codec,a=i.container+";codecs="+o;d.logger.log("creating sourceBuffer("+a+")");try{var s=t[r]=n.addSourceBuffer(a);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[r]={codec:o,container:i.container},i.buffer=s}catch(e){d.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:a})}}this.hls.trigger(l.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){d.logger.error("sourceBuffer error:"+e.event),this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,n=e.type;for(var r in t)n&&r!==n||t[r].ended||(t[r].ended=!0,d.logger.log(r+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var n in e){var r=e[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}d.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){d.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,n=this.sourceBuffer,r=this._levelDuration;if(null!==r&&e&&t&&n&&0!==e.readyState&&"open"===t.readyState){for(var i in n)if(n[i].updating)return;null===this._msDuration&&(this._msDuration=t.duration),r>this._msDuration&&r>e.duration&&(d.logger.log("Updating mediasource duration to "+r.toFixed(3)),this._msDuration=t.duration=r)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var r in n)t+=n[r].buffered.length}catch(e){d.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(l.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void d.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var i=r.type;t[i]?(t[i].ended=!1,this.parent=r.parent,t[i].appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){d.logger.error("error while trying to append buffer:"+t.message),n.unshift(r);var o={type:h.ErrorTypes.MEDIA_ERROR};if(22===t.code)return this.segments=[],o.details=h.ErrorDetails.BUFFER_FULL_ERROR,void e.trigger(l.default.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=h.ErrorDetails.BUFFER_APPEND_ERROR,o.frag=this.fragCurrent,this.appendError>e.config.appendErrorMaxRetry)return d.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],o.fatal=!0,void e.trigger(l.default.ERROR,o);o.fatal=!1,e.trigger(l.default.ERROR,o)}}}}},{key:"flushBuffer",value:function(e,t,n){var r,i,o,a,s,u,l=this.sourceBuffer;if(Object.keys(l).length){if(d.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime+"/"+e+"/"+t),this.appended>this.flushBufferCounter){for(var c in l)if(!n||c===n){if(r=l[c],r.ended=!1,r.updating)return d.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;r.buffered.length>i;i++)if(o=r.buffered.start(i),a=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,u=t):(s=Math.max(o,e),u=Math.min(a,t)),Math.min(u,a)-s>.5)return this.flushBufferCounter++,d.logger.log("flush "+c+" ["+s+","+u+"], of ["+o+","+a+"], pos:"+this.media.currentTime),r.remove(s,u),!1}catch(e){d.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else d.logger.warn("abort flushing too many retries");d.logger.log("buffer flushed")}return!0}}]),t}(f.default);n.default=p},{26:26,27:27,28:28,45:45}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FPS_DROP_LEVEL_CAPPING,l.default.MEDIA_ATTACHING,l.default.MANIFEST_PARSED))}return a(t,e),s(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){this.hls.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,this.hls.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;e&&(this.hls.autoLevelCapping=this.getMaxLevel(e-1),this.hls.autoLevelCapping>this.autoLevelCapping&&this.hls.streamController.nextLevelSwitch(),this.autoLevelCapping=this.hls.autoLevelCapping)}}},{key:"getMaxLevel",value:function(e){var t=0,n=void 0,r=void 0,i=this.mediaWidth,o=this.mediaHeight,a=0,s=0;for(n=0;e>=n&&(r=this.levels[n],!this.isLevelRestricted(n))&&(t=n,a=r.width,s=r.height,a<i&&s<o);n++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(e))}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:"mediaWidth",get:function(){var e=void 0;return this.media&&(e=this.media.width||this.media.clientWidth||this.media.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0;return this.media&&(e=this.media.height||this.media.clientHeight||this.media.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(f.default);n.default=d},{27:27,28:28}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(44),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n,i,o){r(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new a.default(n),this.fast_=new a.default(i)}return i(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var n=8e3*t/e,r=e/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();n.default=s},{44:44}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(45),h=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING))}return a(t,e),s(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){this.hls.config.capLevelOnFPSDrop&&(this.video=e.media instanceof HTMLVideoElement?e.media:null,"function"==typeof this.video.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),this.hls.config.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(e,t,n){var r=performance.now();if(t){if(this.lastTime){var i=r-this.lastTime,o=n-this.lastDroppedFrames,a=t-this.lastDecodedFrames,s=1e3*o/i;if(this.hls.trigger(l.default.FPS_DROP,{currentDropped:o,currentDecoded:a,totalDroppedFrames:n}),s>0&&o>this.hls.config.fpsDroppedMonitoringThreshold*a){var u=this.hls.currentLevel;d.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),0>=u||-1!==this.hls.autoLevelCapping&&u>this.hls.autoLevelCapping||(u-=1,this.hls.trigger(l.default.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:this.hls.currentLevel}),this.hls.autoLevelCapping=u,this.hls.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){if(this.video)if(this.isVideoPlaybackQualityAvailable){var e=this.video.getVideoPlaybackQuality();this.checkFPS(this.video,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(this.video,this.video.webkitDecodedFrameCount,this.video.webkitDroppedFrameCount)}}]),t}(f.default);n.default=h},{27:27,28:28,45:45}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(45),h=e(26),p=e(30),y=r(p),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MANIFEST_LOADED,l.default.LEVEL_LOADED,l.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=n._autoLevelCapping=-1,n}return a(t,e),s(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0,this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,n=[],r=[],i={},o=!1,a=!1,s=this.hls,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(o=!0),u&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(a=!0);var t=i[e.bitrate];void 0===t?(i[e.bitrate]=n.length,e.url=[e.url],e.urlId=0,n.push(e)):n[t].url.push(e.url)}),o&&a?n.forEach(function(e){e.videoCodec&&r.push(e)}):r=n,r=r.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||c("audio",t))&&(!n||c("video",n))}),r.length){t=r[0].bitrate,r.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=r;for(var f=0;r.length>f;f++)if(r[f].bitrate===t){this._firstLevel=f,d.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}s.trigger(l.default.MANIFEST_PARSED,{levels:r,firstLevel:this._firstLevel,stats:e.stats,audio:a,video:o,altAudio:e.audioTracks.length>0})}else s.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:s.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&t.length>e){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e&&(d.logger.log("switching to level "+e),this._level=e,this.hls.trigger(l.default.LEVEL_SWITCH,{level:e}));var n=t[e],r=n.details;if(!r||!0===r.live){var i=n.urlId;this.hls.trigger(l.default.LEVEL_LOADING,{url:n.url[i],level:e,id:i})}}else this.hls.trigger(l.default.ERROR,{type:h.ErrorTypes.OTHER_ERROR,details:h.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,n=this.hls,r=void 0,i=void 0,o=!1,a=n.abrController,s=a.minAutoLevel;switch(t){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:case h.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:r=e.frag.level;break;case h.ErrorDetails.LEVEL_LOAD_ERROR:case h.ErrorDetails.LEVEL_LOAD_TIMEOUT:r=e.context.level,o=!0;break;case h.ErrorDetails.REMUX_ALLOC_ERROR:r=e.level}if(void 0!==r)if(i=this._levels[r],i.url.length-1>i.urlId)i.urlId++,i.details=void 0,d.logger.warn("level controller,"+t+" for level "+r+": switching to redundant stream id "+i.urlId);else{var u=-1===this._manualLevel&&r;if(u)d.logger.warn("level controller,"+t+": switch-down for next fragment"),a.nextAutoLevel=Math.max(s,r-1);else if(i&&i.details&&i.details.live)d.logger.warn("level controller,"+t+" on live stream, discard"),o&&(this._level=void 0);else if(t===h.ErrorDetails.LEVEL_LOAD_ERROR||t===h.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=n.media,f=c&&y.default.isBuffered(c,c.currentTime)&&y.default.isBuffered(c,c.currentTime+.5);if(f){var p=n.config.levelLoadingRetryDelay;d.logger.warn("level controller,"+t+", but media buffered, retry in "+p+"ms"),this.timer=setTimeout(this.ontick,p)}else d.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,n.trigger(l.default.ERROR,e)}}}}},{key:"onLevelLoaded",value:function(e){if(e.level===this._level){var t=e.details;if(t.live){var n=1e3*(t.averagetargetduration?t.averagetargetduration:t.targetduration),r=this._levels[e.level],i=r.details;i&&t.endSN===i.endSN&&(n/=2,d.logger.log("same live playlist, reload twice faster")),n-=performance.now()-e.stats.trequest,n=Math.max(1e3,Math.round(n)),d.logger.log("live playlist, reload in "+n+" ms"),this.timer=setTimeout(this.ontick,n)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],n=t.urlId;this.hls.trigger(l.default.LEVEL_LOADING,{url:t.url[n],level:e,id:n})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){-1!==e&&(e=Math.max(e,this.hls.abrController.minAutoLevel)),this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(f.default);n.default=g},{26:26,27:27,28:28,30:30,45:45}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(41),l=r(u),c=e(30),f=r(c),d=e(22),h=r(d),p=e(28),y=r(p),g=e(27),v=r(g),m=e(31),b=r(m),_=e(46),E=r(_),w=e(26),A=e(45),S={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},T=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,y.default.MEDIA_ATTACHED,y.default.MEDIA_DETACHING,y.default.MANIFEST_LOADING,y.default.MANIFEST_PARSED,y.default.LEVEL_LOADED,y.default.KEY_LOADED,y.default.FRAG_LOADED,y.default.FRAG_LOAD_EMERGENCY_ABORTED,y.default.FRAG_PARSING_INIT_SEGMENT,y.default.FRAG_PARSING_DATA,y.default.FRAG_PARSED,y.default.ERROR,y.default.AUDIO_TRACK_SWITCH,y.default.BUFFER_CREATED,y.default.BUFFER_APPENDED,y.default.BUFFER_FLUSHED));return n.config=e.config,n.audioCodecSwap=!1,n.ticks=0,n.ontick=n.tick.bind(n),n}return a(t,e),s(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),v.default.prototype.destroy.call(this),this.state=S.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(A.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=S.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else A.logger.warn("cannot start loading as manifest not parsed yet"),this.state=S.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=S.STOPPED}},{key:"tick",value:function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case S.ERROR:break;case S.BUFFER_FLUSHING:this.fragLoadError=0;break;case S.IDLE:if(!this._doTickIdle())return;break;case S.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=S.IDLE);break;case S.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(A.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=S.IDLE)}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&!n&&(this.startFragRequested||!t.startFragPrefetch))return!0;var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=e.nextLoadLevel,o=this.levels[i],a=o.bitrate,s=void 0;s=a?Math.max(8*t.maxBufferSize/a,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var u=f.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,t.maxBufferHole),l=u.len;if(l>=s)return!0;A.logger.trace("buffer length of "+l.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=i;var c=o.details;if(void 0===c||c.live&&this.levelLastLoaded!==i)return this.state=S.WAITING_LEVEL,!0;var d=this.fragPrevious;if(!c.live&&d&&d.sn===c.endSN&&(!n.seeking&&u.len||d.duration/2>=n.duration-u.end)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(y.default.BUFFER_EOS,h),this.state=S.ENDED,!0}return this._fetchPayloadOrEos({pos:r,bufferInfo:u,levelDetails:c})}},{key:"_fetchPayloadOrEos",value:function(e){var t=e.pos,n=e.bufferInfo,r=e.levelDetails,i=this.fragPrevious,o=this.level,a=r.fragments,s=a.length;if(0===s)return!1;var u=a[0].start,l=a[s-1].start+a[s-1].duration,c=n.end,f=void 0;if(r.live){var d=this.config.initialLiveManifestSize;if(d>s)return A.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+d),!1;if(null===(f=this._ensureFragmentAtLivePoint({levelDetails:r,bufferEnd:c,start:u,end:l,fragPrevious:i,fragments:a,fragLen:s})))return!1}else u>c&&(f=a[0]);return f||(f=this._findFragment({start:u,fragPrevious:i,fragLen:s,fragments:a,bufferEnd:c,end:l,levelDetails:r})),!f||this._loadFragmentOrKey({frag:f,level:o,levelDetails:r,pos:t,bufferEnd:c})}},{key:"_ensureFragmentAtLivePoint",value:function(e){var t=e.levelDetails,n=e.bufferEnd,r=e.start,i=e.end,o=e.fragPrevious,a=e.fragments,s=e.fragLen,u=this.hls.config,l=this.media,c=void 0,f=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*t.targetduration;if(n<Math.max(r,i-f)){var d=this.liveSyncPosition=this.computeLivePosition(r,t);A.logger.log("buffer end: "+n.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),n=d,l&&l.readyState&&l.duration>d&&(l.currentTime=d)}if(t.PTSKnown&&n>i&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o){var h=o.sn+1;t.startSN>h||h>t.endSN||(c=a[h-t.startSN],A.logger.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=a[Math.min(s-1,Math.round(s/2))],A.logger.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c}},{key:"_findFragment",value:function(e){var t=(e.start,e.fragPrevious),n=e.fragLen,r=e.fragments,i=e.bufferEnd,o=e.end,a=e.levelDetails,s=this.hls.config,u=void 0,c=void 0,f=s.maxFragLookUpTolerance;if(o>i?(i>o-f&&(f=0),c=l.default.search(r,function(e){return e.start+e.duration-f>i?e.start-f>i&&e.start?-1:0:1})):c=r[n-1],c&&(u=c,c.start,t&&u.level===t.level&&u.sn===t.sn))if(a.endSN>u.sn){var d=t.deltaPTS,h=u.sn-a.startSN;d&&d>s.maxBufferHole&&t.dropped&&h?(u=r[h-1],A.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(u=r[h+1],A.logger.log("SN just loaded, load next one: "+u.sn))}else u=null;return u}},{key:"_loadFragmentOrKey",value:function(e){var t=e.frag,n=e.level,r=e.levelDetails,i=e.pos,o=e.bufferEnd,a=this.hls,s=a.config;if(null==t.decryptdata.uri||null!=t.decryptdata.key){if(A.logger.log("Loading "+t.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+n+", currentTime:"+i.toFixed(3)+",bufferEnd:"+o.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var u=s.fragLoadingLoopThreshold;if(t.loadCounter>u&&Math.abs(this.fragLoadIdx-t.loadIdx)<u)return a.trigger(y.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t}),!1}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,this.fragCurrent=t,this.startFragRequested=!0,this.nextLoadPosition=t.start+t.duration,t.autoLevel=a.autoLevelEnabled,t.bitrateTest=this.bitrateTest,a.trigger(y.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new h.default(a,"main")),this.state=S.FRAG_LOADING,!0}A.logger.log("Loading key for "+t.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+n),this.state=S.KEY_LOADING,a.trigger(y.default.KEY_LOADING,{frag:t})}},{key:"getBufferRange",value:function(e){var t,n,r=this.bufferRange;if(r)for(t=r.length-1;t>=0;t--)if(n=r[t],e>=n.start&&n.end>=e)return n;return null}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(t=n.currentTime,t>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),f.default.isBuffered(n,t)?e=this.getBufferRange(t):f.default.isBuffered(n,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var r=e.frag;r!==this.fragPlaying&&(this.fragPlaying=r,this.hls.trigger(y.default.FRAG_CHANGED,{frag:r}))}}},{key:"immediateLevelSwitch",value:function(){if(A.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=S.BUFFER_FLUSHING,this.hls.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,f.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,n=void 0,r=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,n=this.getBufferRange(e.currentTime),n&&n.start>1&&(this.state=S.BUFFER_FLUSHING,this.hls.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:n.start-1})),e.paused)t=0;else{var i=this.hls.nextLoadLevel,o=this.levels[i],a=this.fragLastKbps;t=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((r=this.getBufferRange(e.currentTime+t))&&(r=this.followingBufferRange(r))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.state=S.BUFFER_FLUSHING,this.hls.trigger(y.default.BUFFER_FLUSHING,{startOffset:r.start,endOffset:Number.POSITIVE_INFINITY})}}}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(A.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;if(A.logger.log("media seeking to "+t.toFixed(3)),this.state===S.FRAG_LOADING){var r=f.default.bufferInfo(e,t,this.config.maxBufferHole),i=this.fragCurrent;if(0===r.len&&i){var o=n.maxFragLookUpTolerance,a=i.start-o,s=i.start+i.duration+o;a>t||t>s?(i.loader&&(A.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=S.IDLE):A.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===S.ENDED&&(this.state=S.IDLE);e&&(this.lastCurrentTime=t),this.state!==S.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){A.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){A.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){A.logger.log("trigger BUFFER_RESET"),this.hls.trigger(y.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,n=!1,r=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&A.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,n=e.level,r=this.levels[n],i=t.totalduration,o=0;if(A.logger.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+i),this.levelLastLoaded=n,t.live){var a=r.details;a&&t.fragments.length>0?(b.default.mergeDetails(a,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,a),A.logger.log(t.PTSKnown?"live playlist sliding:"+o.toFixed(3):"live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,A.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(r.details=t,this.hls.trigger(y.default.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var s=t.startTimeOffset;isNaN(s)?t.live?(this.startPosition=this.computeLivePosition(o,t),A.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(0>s&&(A.logger.log("negative start time offset "+s+", count from end of last fragment"),s=o+i+s),A.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===S.WAITING_LEVEL&&(this.state=S.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===S.KEY_LOADING&&(this.state=S.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,n=e.frag;if(this.state===S.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var r=e.stats,i=this.levels[t.level],o=i.details;if(A.logger.log("Loaded  "+t.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+t.level),this.bitrateTest=!1,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=S.IDLE,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(y.default.FRAG_BUFFERED,{stats:r,frag:t,id:"main"}),this.tick();else{this.state=S.PARSING,this.stats=r;var a=o.totalduration,s=isNaN(t.startDTS)?t.start:t.startDTS,u=t.level,l=t.sn,c=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(A.logger.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingAppending=0,A.logger.log("Parsing "+l+" of ["+o.startSN+" ,"+o.endSN+"],level "+u+", cc "+t.cc);var f=this.demuxer;f||(f=this.demuxer=new h.default(this.hls,"main"));var d=o.PTSKnown||!o.live;f.push(e.payload,c,i.videoCodec,s,t.cc,u,l,a,t.decryptdata,d)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S.PARSING){var n,r,i=e.tracks;if(i.audio&&this.altAudio&&delete i.audio,r=i.audio){var o=this.levels[this.level].audioCodec,a=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(A.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===a.indexOf("firefox")&&(o="mp4a.40.5"),-1!==a.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",A.logger.log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=e.id}if(r=i.video,r&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=e.id),e.unique){var s={codec:"",levelCodec:""};for(n in e.tracks)r=i[n],s.container=r.container,s.codec&&(s.codec+=",",s.levelCodec+=","),r.codec&&(s.codec+=r.codec),r.levelCodec&&(s.levelCodec+=r.levelCodec);i={audiovideo:s}}this.hls.trigger(y.default.BUFFER_CODECS,i);for(n in i){r=i[n],A.logger.log("main track:"+n+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var u=r.initSegment;u&&(this.pendingAppending++,this.hls.trigger(y.default.BUFFER_APPENDING,{type:n,data:u,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,n=this.fragCurrent;if(n&&"main"===e.id&&e.sn===n.sn&&e.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===S.PARSING){var r=this.levels[this.level],i=this.fragCurrent;A.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0));var o=b.default.updateFragPTSDTS(r.details,i.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),a=this.hls;a.trigger(y.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),"video"===e.type&&(i.dropped=e.dropped),[e.data1,e.data2].forEach(function(n){n&&(t.pendingAppending++,a.trigger(y.default.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))}),this.bufferRange.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:i}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===S.PARSING&&(this.stats.tparsed=performance.now(),this.state=S.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitch",value:function(e){var t=!!e.url;if(t)this.videoBuffer&&this.mediaBuffer!==this.videoBuffer&&(A.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=this.videoBuffer);else if(this.mediaBuffer!==this.media){A.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(A.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=S.IDLE}this.altAudio=t}},{key:"onBufferCreated",value:function(e){var t=e.tracks,n=void 0,r=void 0,i=!1;for(var o in t){var a=t[o];"main"===a.id?(r=o,n=a,"video"===o&&(this.videoBuffer=t[o].buffer)):i=!0}i&&n?(A.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent)switch(this.state){case S.PARSING:case S.PARSED:this.pendingAppending--,this._checkAppendedParsed()}}},{key:"_checkAppendedParsed",value:function(){if(this.state===S.PARSED&&0===this.pendingAppending){var e=this.fragCurrent,t=this.stats;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*t.total/(t.tbuffered-t.tfirst)),this.hls.trigger(y.default.FRAG_BUFFERED,{stats:t,frag:e,id:"main"});var n=this.mediaBuffer?this.mediaBuffer:this.media;A.logger.log("main buffered : "+E.default.toString(n.buffered)),this.state=S.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=this.media,r=n&&f.default.isBuffered(n,n.currentTime)&&f.default.isBuffered(n,n.currentTime+.5);switch(e.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var i=this.fragLoadError;i?i++:i=1;var o=this.config;if(o.fragLoadingMaxRetry>=i||r||t.autoLevel&&t.level){this.fragLoadError=i,t.loadCounter=0;var a=Math.min(Math.pow(2,i-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);A.logger.warn("mediaController: frag loading failed, retry in "+a+" ms"),this.retryDate=performance.now()+a,this.state=S.FRAG_LOADING_WAITING_RETRY}else A.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(y.default.ERROR,e),this.state=S.ERROR}break;case w.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(r?(this._reduceMaxBufferLength(t.duration),this.state=S.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(y.default.ERROR,e),this.state=S.ERROR));break;case w.ErrorDetails.LEVEL_LOAD_ERROR:case w.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==S.ERROR&&(e.fatal?(this.state=S.ERROR,A.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===S.WAITING_LEVEL&&(this.state=S.IDLE));break;case w.ErrorDetails.BUFFER_FULL_ERROR:this.state!==S.PARSING&&this.state!==S.PARSED||(r?(this._reduceMaxBufferLength(t.duration),this.state=S.IDLE):(A.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.state=S.PAUSED,this.hls.trigger(y.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY})))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;e>t.maxMaxBufferLength||(t.maxMaxBufferLength/=2,A.logger.warn("reduce max buffer length to "+t.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,n=e.buffered;if(this.loadedmetadata||!n.length||e.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var r=f.default.bufferInfo(e,t,0),i=!(e.paused||e.ended||0===e.buffered.length),o=.5,a=t>e.playbackRate*this.lastCurrentTime,s=this.config;if(this.stalled&&a&&(this.stalled=!1,A.logger.log("playback not stuck anymore @"+t)),i&&o>=r.len&&(a?(o=0,this.seekHoleNudgeDuration=0):this.stalled?this.seekHoleNudgeDuration+=s.seekHoleNudgeDuration:(this.seekHoleNudgeDuration=0,A.logger.log("playback seems stuck @"+t),this.hls.trigger(y.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1}),this.stalled=!0),o>=r.len)){var u=r.nextStart,l=u-t;if(u&&s.maxSeekHole>l&&l>0){A.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+u+" + nudge "+this.seekHoleNudgeDuration);var c=u+this.seekHoleNudgeDuration-e.currentTime;e.currentTime=u+this.seekHoleNudgeDuration,this.hls.trigger(y.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:c})}}}else{this.loadedmetadata=!0;var d=this.startPosition,h=f.default.isBuffered(e,d);t===d&&h||(A.logger.log("target start position:"+d),h||(d=n.start(0),A.logger.log("target start position not buffered, seek to buffered.start(0) "+d)),A.logger.log("adjust currentTime from "+t+" to "+d),e.currentTime=d)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=S.IDLE,this.loadedmetadata||(this.startFragRequested=!1),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media,t=this.bufferRange,n=[],r=void 0,i=void 0;for(i=0;t.length>i;i++)r=t[i],f.default.isBuffered(e,(r.start+r.end)/2)&&n.push(r);this.bufferRange=n,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=S.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,A.logger.log("engine state transition from "+t+" to "+e),this.hls.trigger(y.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(v.default);n.default=T},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(42),h=r(d),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.FRAG_PARSING_USERDATA,l.default.MANIFEST_LOADING,l.default.FRAG_LOADED,l.default.LEVEL_SWITCH));if(n.hls=e,n.config=e.config,n.enabled=!0,n.Cues=e.config.cueHandler,n.config.enableCEA708Captions){var r=n,a=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},s={newCue:function(e,t,n){if(!r.textTrack1){var i=r.getExistingTrack("1");i?(r.textTrack1=i,r.clearCurrentCues(r.textTrack1),a(r.textTrack1,r.media)):(r.textTrack1=r.createTextTrack("captions","English","en"),r.textTrack1.textTrack1=!0)}r.Cues.newCue(r.textTrack1,e,t,n)}},u={newCue:function(e,t,n){if(!r.textTrack2){var i=r.getExistingTrack("2");i?(r.textTrack2=i,r.clearCurrentCues(r.textTrack2),a(r.textTrack2,r.media)):(r.textTrack2=r.createTextTrack("captions","Spanish","es"),r.textTrack2.textTrack2=!0)}r.Cues.newCue(r.textTrack2,e,t,n)}};n.cea608Parser=new h.default(0,s,u)}return n}return a(t,e),s(t,[{key:"clearCurrentCues",value:function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},{key:"getExistingTrack",value:function(e){var t=this.media;if(t)for(var n=0;t.textTracks.length>n;n++){var r=t.textTracks[n],i="textTrack"+e;if(!0===r[i])return r}return null}},{key:"createTextTrack",value:function(e,t,n){if(this.media)return this.media.addTextTrack(e,t,n)}},{key:"destroy",value:function(){f.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(e){this.media=e.media}},{key:"onMediaDetaching",value:function(){this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:"onLevelSwitch",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(e){if("main"===e.frag.type){var t=e.frag.start;t>this.lastPts||(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=t}}},{key:"onFragParsingUserdata",value:function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;e.samples.length>t;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}}},{key:"extractCea608Data",value:function(e){for(var t,n,r,i,o,a=31&e[0],s=2,u=[],l=0;a>l;l++)t=e[s++],n=127&e[s++],r=127&e[s++],i=0!==(4&t),o=3&t,0===n&&0===r||i&&0===o&&(u.push(n),u.push(r));return u}}]),t}(f.default);n.default=p},{27:27,28:28,42:42}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.subtle=t,this.aesIV=n}return i(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();n.default=o},{}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return i(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;n.length>r;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix[0],r=this.subMix[1],i=this.subMix[2],o=this.subMix[3],a=this.invSubMix[0],s=this.invSubMix[1],u=this.invSubMix[2],l=this.invSubMix[3],c=new Uint32Array(256),f=0,d=0,h=0;for(h=0;256>h;h++)c[h]=128>h?h<<1:h<<1^283;for(h=0;256>h;h++){var p=d^d<<1^d<<2^d<<3^d<<4;p=p>>>8^255&p^99,e[f]=p,t[p]=f;var y=c[f],g=c[y],v=c[g],m=257*c[p]^16843008*p;n[f]=m<<24|m>>>8,r[f]=m<<16|m>>>16,i[f]=m<<8|m>>>24,o[f]=m,m=16843009*v^65537*g^257*y^16843008*f,a[p]=m<<24|m>>>8,s[p]=m<<16|m>>>16,u[p]=m<<8|m>>>24,l[p]=m,f?(f=y^c[c[c[v^y]]],d^=c[c[d]]):f=d=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;t.length>r&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw Error("Invalid aes key size="+i);var o=this.ksRows=4*(i+6+1),a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(this.ksRows),l=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,f=this.rcon,d=this.invSubMix[0],h=this.invSubMix[1],p=this.invSubMix[2],y=this.invSubMix[3],g=void 0,v=void 0;for(a=0;o>a;a++)i>a?g=u[a]=t[a]:(v=g,a%i===0?(v=v<<8|v>>>24,v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v],v^=f[a/i|0]<<24):i>6&&a%i===4&&(v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[255&v]),u[a]=g=(u[a-i]^v)>>>0);for(s=0;o>s;s++)a=o-s,v=3&s?u[a]:u[a-4],l[s]=4>s||4>=a?v:d[c[v>>>24]]^h[c[v>>>16&255]]^p[c[v>>>8&255]]^y[c[255&v]],l[s]=l[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,o=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,u=this.invSubMix[0],l=this.invSubMix[1],c=this.invSubMix[2],f=this.invSubMix[3],d=this.uint8ArrayToUint32Array_(n),h=d[0],p=d[1],y=d[2],g=d[3],v=new Int32Array(e),m=new Int32Array(v.length),b=void 0,_=void 0,E=void 0,w=void 0,A=void 0,S=void 0,T=void 0,O=void 0,N=void 0,R=void 0,k=void 0,I=void 0;v.length>t;){for(N=this.networkToHostOrderSwap(v[t]),R=this.networkToHostOrderSwap(v[t+1]),k=this.networkToHostOrderSwap(v[t+2]),I=this.networkToHostOrderSwap(v[t+3]),A=N^a[0],S=I^a[1],T=k^a[2],O=R^a[3],r=4,i=1;o>i;i++)b=u[A>>>24]^l[S>>16&255]^c[T>>8&255]^f[255&O]^a[r],_=u[S>>>24]^l[T>>16&255]^c[O>>8&255]^f[255&A]^a[r+1],E=u[T>>>24]^l[O>>16&255]^c[A>>8&255]^f[255&S]^a[r+2],w=u[O>>>24]^l[A>>16&255]^c[S>>8&255]^f[255&T]^a[r+3],A=b,S=_,T=E,O=w,r+=4;b=s[A>>>24]<<24^s[S>>16&255]<<16^s[T>>8&255]<<8^s[255&O]^a[r],_=s[S>>>24]<<24^s[T>>16&255]<<16^s[O>>8&255]<<8^s[255&A]^a[r+1],E=s[T>>>24]<<24^s[O>>16&255]<<16^s[A>>8&255]<<8^s[255&S]^a[r+2],w=s[O>>>24]<<24^s[A>>16&255]<<16^s[S>>8&255]<<8^s[255&T]^a[r+3],r+=3,m[t]=this.networkToHostOrderSwap(b^h),m[t+1]=this.networkToHostOrderSwap(w^p),m[t+2]=this.networkToHostOrderSwap(E^y),m[t+3]=this.networkToHostOrderSwap(_^g),h=N,p=R,y=k,g=I,t+=4}return m.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();n.default=o},{}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(14),s=r(a),u=e(17),l=r(u),c=e(15),f=r(c),d=e(26),h=e(45),p=function(){function e(t){i(this,e),this.hls=t;try{var n=window?window.crypto:crypto;this.subtle=n.subtle||n.webkitSubtle}catch(e){}this.disableWebCrypto=!this.supportsWebCrypto()}return o(e,[{key:"supportsWebCrypto",value:function(){return this.subtle&&"https:"===window.location.protocol}},{key:"decrypt",value:function(e,t,n,r){var i=this;this.disableWebCrypto&&this.hls.config.enableSoftwareAES?(h.logger.log("decrypting by JavaScript Implementation"),this.decryptor||(this.decryptor=new f.default),this.decryptor.expandKey(t),r(this.decryptor.decrypt(e,0,n))):function(){h.logger.log("decrypting by WebCrypto API");var o=i.subtle;i.key!==t&&(i.key=t,i.fastAesKey=new l.default(o,t)),i.fastAesKey.expandKey().then(function(t){new s.default(o,n).decrypt(e,t).then(function(e){r(e)})}).catch(function(o){i.onWebCryptoError(o,e,t,n,r)})}()}},{key:"onWebCryptoError",value:function(e,t,n,r,i){var o=this.hls;o.config.enableSoftwareAES?(h.logger.log("disabling to use WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(t,n,r,i)):(h.logger.error("decrypting error : "+e.message),o.trigger(Event.ERROR,{type:d.ErrorTypes.MEDIA_ERROR,details:d.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();n.default=p},{14:14,15:15,17:17,26:26,45:45}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.subtle=t,this.key=n}return i(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();n.default=o},{}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(19),s=r(a),u=e(45),l=e(24),c=r(l),f=function(){function e(t,n,r,o,a){i(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=o,this.remuxer=new this.remuxerClass(t,n,o,a),this.insertDiscontinuity()}return o(e,[{key:"insertDiscontinuity",value:function(){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0}}},{key:"push",value:function(e,t,n,r,i,o,a,l,f){var d,h,p,y,g,v,m,b,_,E,w=new c.default(e),A=90*w.timeStamp,S=!1;for(i!==this.lastCC?(u.logger.log(this.id+" discontinuity detected"),this.lastCC=i,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):o!==this.lastLevel?(u.logger.log("audio track switch detected"),this.lastLevel=o,this.remuxer.switchLevel(),this.insertDiscontinuity()):a===this.lastSN+1&&(S=!0),d=this._aacTrack,this.lastSN=a,this.lastLevel=o,v=w.length,_=e.length;_-1>v&&(255!==e[v]||240!==(240&e[v+1]));v++);for(d.audiosamplerate||(h=s.default.getAudioConfig(this.observer,e,v,t),d.config=h.config,d.audiosamplerate=h.samplerate,d.channelCount=h.channelCount,d.codec=h.codec,d.duration=l,u.logger.log("parsed codec:"+d.codec+",rate:"+h.samplerate+",nb channel:"+h.channelCount)),g=0,y=9216e4/d.audiosamplerate;_>v+5&&(m=1&e[v+1]?7:9,p=(3&e[v+3])<<11|e[v+4]<<3|(224&e[v+5])>>>5,(p-=m)>0&&_>=v+m+p);)for(b=A+g*y,E={unit:e.subarray(v+m,v+m+p),pts:b,dts:b},d.samples.push(E),d.len+=p,v+=p+m,g++;_-1>v&&(255!==e[v]||240!==(240&e[v+1]));v++);this.remuxer.remux(o,a,this._aacTrack,{samples:[]},{samples:[{pts:A,dts:A,unit:w.payload}]},{samples:[]},r,S,f)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,n,r=new c.default(e);if(r.hasTimeStamp)for(t=r.length,n=e.length;n-1>t;t++)if(255===e[t]&&240===(240&e[t+1]))return!0;return!1}}]),e}();n.default=f},{19:19,24:24,45:45}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),a=e(26),s=function(){function e(){r(this,e)}return i(e,null,[{key:"getAudioConfig",value:function(e,t,n,r){var i,s,u,l,c,f=navigator.userAgent.toLowerCase(),d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return i=1+((192&t[n+2])>>>6),s=(60&t[n+2])>>>2,s>d.length-1?void e.trigger(Event.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s}):(l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,o.logger.log("manifest codec:"+r+",ADTS data:type:"+i+",sampleingIndex:"+s+"["+d[s]+"Hz],channelConfig:"+l),/firefox|OPR/i.test(f)?6>s?(i=2,c=Array(2),u=s):(i=5,c=Array(4),u=s-3):-1!==f.indexOf("android")?(i=2,c=Array(2),u=s):(i=5,c=Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&s>=6?u=s-3:((r&&-1!==r.indexOf("mp4a.40.2")&&s>=6&&1===l||!r&&1===l)&&(i=2,c=Array(2)),u=s)),c[0]=i<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=l<<3,5===i&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:d[s],channelCount:l,codec:"mp4a.40."+i})}}]),e}();n.default=s},{26:26,45:45}],20:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(28),s=r(a),u=e(26),l=e(18),c=r(l),f=e(25),d=r(f),h=e(38),p=r(h),y=e(39),g=r(y),v=function(){function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,e),this.hls=t,this.id=n,this.config=this.hls.config||o,this.typeSupported=r}return o(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,n,r,i,o,a,l,f){var h=this.demuxer;if(!h){var y=this.hls,v=this.id,m=this.config,b=this.typeSupported;if(d.default.probe(e))h=!0===this.typeSupported.mp2t?new d.default(y,v,g.default,m,b):new d.default(y,v,p.default,m,b);else{if(!c.default.probe(e))return void y.trigger(s.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:v,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});h=new c.default(y,v,p.default,m,b)}this.demuxer=h}h.push(e,t,n,r,i,o,a,l,f)}}]),e}();n.default=v},{18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(20),o=r(i),a=e(28),s=r(a),u=e(45),l=e(1),c=r(l),f=function(e){var t=new c.default;t.trigger=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",function(r){var i=r.data;switch(i.cmd){case"init":var a=JSON.parse(i.config);e.demuxer=new o.default(t,i.id,i.typeSupported,a);try{(0,u.enableLogs)(!0===a.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(new Uint8Array(i.data),i.audioCodec,i.videoCodec,i.timeOffset,i.cc,i.level,i.sn,i.duration,i.accurateTimeOffset)}}),t.on(s.default.FRAG_PARSING_INIT_SEGMENT,n),t.on(s.default.FRAG_PARSED,n),t.on(s.default.ERROR,n),t.on(s.default.FRAG_PARSING_METADATA,n),t.on(s.default.FRAG_PARSING_USERDATA,n),t.on(s.default.FRAG_PARSING_DATA,function(t,n){var r=n.data1.buffer,i=n.data2.buffer;delete n.data1,delete n.data2,e.postMessage({event:t,data:n,data1:r,data2:i},[r,i])})};n.default=f},{1:1,20:20,28:28,45:45}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(28),s=r(a),u=e(20),l=r(u),c=e(21),f=r(c),d=e(45),h=e(16),p=r(h),y=e(26),g=function(){function t(n,r){i(this,t),this.hls=n,this.id=r;var o={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:n.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(n.config.enableWorker&&"undefined"!=typeof Worker){d.logger.log("demuxing in webworker");var a=void 0;try{var u=e(3);a=this.w=u(f.default),this.onwmsg=this.onWorkerMessage.bind(this),a.addEventListener("message",this.onwmsg),a.onerror=function(e){n.trigger(s.default.ERROR,{type:y.ErrorTypes.OTHER_ERROR,details:y.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},a.postMessage({cmd:"init",typeSupported:o,id:r,config:JSON.stringify(n.config)})}catch(e){d.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),a&&URL.revokeObjectURL(a.objectURL),this.demuxer=new l.default(n,r,o)}}else this.demuxer=new l.default(n,r,o);this.demuxInitialized=!0}return o(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.decrypter;n&&(n.destroy(),this.decrypter=null)}},{key:"pushDecrypted",value:function(e,t,n,r,i,o,a,s,u){var l=this.w;if(l)l.postMessage({cmd:"demux",data:e,audioCodec:t,videoCodec:n,timeOffset:r,cc:i,level:o,sn:a,duration:s,accurateTimeOffset:u},[e]);else{var c=this.demuxer;c&&c.push(new Uint8Array(e),t,n,r,i,o,a,s,u)}}},{key:"push",value:function(e,t,n,r,i,o,a,u,l,c){if(e.byteLength>0&&null!=l&&null!=l.key&&"AES-128"===l.method){null==this.decrypter&&(this.decrypter=new p.default(this.hls));var f=this,d=performance.now();this.decrypter.decrypt(e,l.key.buffer,l.iv.buffer,function(e){f.hls.trigger(s.default.FRAG_DECRYPTED,{level:o,sn:a,stats:{tstart:d,tdecrypt:performance.now()}}),f.pushDecrypted(e,t,n,r,i,o,a,u,c)})}else this.pushDecrypted(e,t,n,r,i,o,a,u,c)}},{key:"onWorkerMessage",value:function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case s.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data.data2=new Uint8Array(t.data2);default:n.trigger(t.event,t.data)}}}]),t}();n.default=g},{16:16,20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),a=function(){function e(t){r(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return i(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&o.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n}},{key:"skipLZ",value:function(){var e;for(e=0;this.bitsAvailable>e;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,n,r=8,i=8;for(t=0;e>t;t++)0!==i&&(n=this.readEG(),i=(r+n+256)%256),r=0===i?r:i}},{key:"readSPS",value:function(){var e,t,n,r,i,o,a,s=0,u=0,l=0,c=0,f=1,d=this.readUByte.bind(this),h=this.readBits.bind(this),p=this.readUEG.bind(this),y=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),b=this.skipScalingList.bind(this);if(d(),e=d(),h(5),g(3),d(),m(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var _=p();if(3===_&&g(1),m(),m(),g(1),y())for(o=3!==_?8:12,a=0;o>a;a++)y()&&b(6>a?16:64)}m();var E=p();if(0===E)p();else if(1===E)for(g(1),v(),v(),t=p(),a=0;t>a;a++)v();if(m(),g(1),n=p(),r=p(),i=h(1),0===i&&g(1),g(1),y()&&(s=p(),u=p(),l=p(),c=p()),y()&&y()){var w=void 0;switch(d()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[d()<<8|d(),d()<<8|d()]}w&&(f=w[0]/w[1])}return{width:Math.ceil((16*(n+1)-2*s-2*u)*f),height:(2-i)*(r+1)*16-(i?2:4)*(l+c)}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();n.default=a},{45:45}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),a=function(){function e(t){r(this,e),this._hasTimeStamp=!1;for(var n,i,a,s,u,l,c,f,d=0;;)if(c=this.readUTF(t,d,3),d+=3,"ID3"===c)d+=3,n=127&t[d++],i=127&t[d++],a=127&t[d++],s=127&t[d++],u=(n<<21)+(i<<14)+(a<<7)+s,l=d+u,this._parseID3Frames(t,d,l),d=l;else{if("3DI"!==c)return d-=3,void((f=d)&&(this.hasTimeStamp||o.logger.warn("ID3 tag found, but no timestamp"),this._length=f,this._payload=t.subarray(0,f)));d+=7,o.logger.log("3DI footer found, end: "+d)}}return i(e,[{key:"readUTF",value:function(e,t,n){var r="",i=t,o=t+n;do{r+=String.fromCharCode(e[i++])}while(o>i);return r}},{key:"_parseID3Frames",value:function(e,t,n){for(var r,i;n>=t+8;)switch(r=this.readUTF(e,t,4),t+=4,e[t++]<<24+e[t++]<<16+e[t++]<<8+e[t++],e[t++]<<8+e[t++],t,r){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var a=1&e[t++];this._hasTimeStamp=!0,i=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,a&&(i+=47721858.84),i=Math.round(i),o.logger.trace("ID3 timestamp found: "+i),this._timeStamp=i}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();n.default=a},{45:45}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(19),s=r(a),u=e(28),l=r(u),c=e(23),f=r(c),d=e(45),h=e(26),p=function(){function e(t,n,r,o,a){i(this,e),this.observer=t,this.id=n,this.remuxerClass=r,this.config=o,this.typeSupported=a,this.lastCC=0,this.remuxer=new this.remuxerClass(t,n,o,a)}return o(e,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(e,t,n,r,i,o,a,s,u){var c,f,p,y,g,v=e.length,m=this.remuxer.passthrough,b=!1;this.audioCodec=t,this.videoCodec=n,this._duration=s,this.contiguous=!1,this.accurateTimeOffset=u,i!==this.lastCC&&(d.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=i),o!==this.lastLevel?(d.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=o):a===this.lastSN+1&&(this.contiguous=!0),this.lastSN=a;var _=this.pmtParsed,E=this._avcTrack,w=this._audioTrack,A=this._id3Track,S=E.id,T=w.id,O=A.id,N=this._pmtId,R=E.pesData,k=w.pesData,I=A.pesData,D=this._parsePAT,B=this._parsePMT,P=this._parsePES,C=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),x=this._parseMPEGPES.bind(this),U=this._parseID3PES.bind(this);for(v-=v%188,c=0;v>c;c+=188)if(71===e[c]){if(f=!!(64&e[c+1]),p=((31&e[c+1])<<8)+e[c+2],(48&e[c+3])>>4>1){if((y=c+5+e[c+4])===c+188)continue}else y=c+4;switch(p){case S:if(f){if(R&&(g=P(R))&&(C(g,!1),m&&E.codec&&(-1===T||w.codec)))return void this.remux(o,a,e,r);R={data:[],size:0}}R&&(R.data.push(e.subarray(y,c+188)),R.size+=c+188-y);break;case T:if(f){if(k&&(g=P(k))&&(w.isAAC?L(g):x(g),m&&w.codec&&(-1===S||E.codec)))return void this.remux(o,a,e,r);k={data:[],size:0}}k&&(k.data.push(e.subarray(y,c+188)),k.size+=c+188-y);break;case O:f&&(I&&(g=P(I))&&U(g),I={data:[],size:0}),I&&(I.data.push(e.subarray(y,c+188)),I.size+=c+188-y);break;case 0:f&&(y+=e[y]+1),N=this._pmtId=D(e,y);break;case N:f&&(y+=e[y]+1);var M=B(e,y,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);S=M.avc,S>0&&(E.id=S),T=M.audio,T>0&&(w.id=T,w.isAAC=M.isAAC),O=M.id3,O>0&&(A.id=O),b&&!_&&(d.logger.log("reparse from beginning"),b=!1,c=-188),_=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});R&&(g=P(R))?(C(g,!0),E.pesData=null):E.pesData=R,k&&(g=P(k))?(w.isAAC?L(g):x(g),w.pesData=null):(k&&k.size&&d.logger.log("last AAC PES packet truncated,might overlap between fragments"),w.pesData=k),I&&(g=P(I))?(U(g),A.pesData=null):A.pesData=I,this.remux(o,a,null,r)}},{key:"remux",value:function(e,t,n,r){for(var i=this._avcTrack,o=i.samples,a=0,s=0,u=0;o.length>u;u++){for(var l=o[u],c=l.units.units,f=c.length,d=0,h=0;f>h;h++)d+=c[h].data.length;s+=d,a+=f,l.length=d}i.len=s,i.nbNalu=a,this.remuxer.remux(e,t,this._audioTrack,this._avcTrack,this._id3Track,this._txtTrack,r,this.contiguous,this.accurateTimeOffset,n)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,n){var r,i,o,a,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=(15&e[t+1])<<8|e[t+2],i=t+3+r-4,o=(15&e[t+10])<<8|e[t+11],t+=12+o;i>t;){switch(a=(31&e[t+1])<<8|e[t+2],e[t]){case 15:-1===s.audio&&(s.audio=a);break;case 21:-1===s.id3&&(s.id3=a);break;case 27:-1===s.avc&&(s.avc=a);break;case 3:case 4:n?-1===s.audio&&(s.audio=a,s.isAAC=!1):d.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:d.logger.warn("HEVC stream type found, not supported for now");break;default:d.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return s}},{key:"_parsePES",value:function(e){var t,n,r,i,o,a,s,u,l=0,c=e.data;if(!e||0===e.size)return null;for(;19>c[0].length&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;for(n=t[7],192&n&&(a=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,a>4294967295&&(a-=8589934592),64&n?(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(s-=8589934592):s=a),i=t[8],u=i+9,e.size-=u,o=new Uint8Array(e.size);c.length;){t=c.shift();var d=t.byteLength;if(u){if(u>d){u-=d;continue}t=t.subarray(u),d-=u,u=0}o.set(t,l),l+=d}return r&&(r-=i+3),{data:o,pts:a,dts:s,len:r}}return null}},{key:"pushAccesUnit",value:function(e,t){e.units.units.length&&e.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&d.logger.log(e.pts+"/"+e.dts+":"+e.debug+","+e.units.length)}},{key:"_parseAVCPES",value:function(e,t){var n,r,i,o=this,a=this._avcTrack,s=this._parseAVCNALu(e.data),u=this.avcSample;e.data=null,s.forEach(function(t){switch(t.type){case 1:r=!0,u.frame=!0;var s=t.data;if(s.length>1){var l=new f.default(s).readSliceType();2!==l&&4!==l&&7!==l&&9!==l||(u.key=!0)}break;case 5:r=!0,u||(u=o.avcSample=o._createAVCSample(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:r=!0,n=new f.default(o.discardEPB(t.data)),n.readUByte();for(var c=0,d=0,h=!1,p=0;!h&&n.bytesAvailable>1;){c=0;do{p=n.readUByte(),c+=p}while(255===p);d=0;do{p=n.readUByte(),d+=p}while(255===p);if(4===c&&0!==n.bytesAvailable){h=!0;if(181===n.readUByte()){if(49===n.readUShort()){if(1195456820===n.readUInt()){if(3===n.readUByte()){var y=n.readUByte(),g=n.readUByte(),v=31&y,m=[y,g];for(i=0;v>i;i++)m.push(n.readUByte()),m.push(n.readUByte()),m.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:m})}}}}}else if(n.bytesAvailable>d)for(i=0;d>i;i++)n.readUByte()}break;case 7:if(r=!0,!a.sps){n=new f.default(t.data);var b=n.readSPS();a.width=b.width,a.height=b.height,a.sps=[t.data],a.duration=o._duration;var _=t.data.subarray(1,4),E="avc1.";for(i=0;3>i;i++){var w=_[i].toString(16);2>w.length&&(w="0"+w),E+=w}a.codec=E}break;case 8:r=!0,a.pps||(a.pps=[t.data]);break;case 9:r=!1,u&&o.pushAccesUnit(u,a),u=o.avcSample=o._createAVCSample(!1,e.pts,e.dts,"");break;case 12:r=!1;break;default:r=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}if(u&&r){u.units.units.push(t)}}),t&&u&&(this.pushAccesUnit(u,a),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,n,r){return{key:e,pts:t,dts:n,units:{units:[],length:0},debug:r}}},{key:"_insertSampleInOrder",value:function(e,t){var n=e.length;if(n>0)if(t.pts<e[n-1].pts){for(var r=n-1;r>=0;r--)if(e[r].pts>t.pts){e.splice(r,0,t);break}}else e.push(t);else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var n=this._avcTrack,r=n.samples;e=r[r.length-1]}if(e){var i=e.units.units;t=i[i.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){for(var t,n,r,i,o,a=0,s=e.byteLength,u=this._avcTrack,l=u.naluState||0,c=l,f=[],d=-1;s>a;)if(t=e[a++],l)if(1!==l)switch(l){case 2:case 3:if(0===t)l=3;else if(1===t){if(d<0){var h=this._getLastNalUnit();if(h&&(c&&4-c>=a&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-c)),(n=a-l-1)>0)){var p=new Uint8Array(h.data.byteLength+n);p.set(h.data,0),p.set(e.subarray(0,n),h.data.byteLength),h.data=p}}else r={data:e.subarray(d,a-l-1),type:o},f.push(r);s>a?(i=31&e[a],d=a,o=i,l=0):l=-1}else l=0;break;case-1:d=0,o=31&t,l=0}else l=t?0:2;else l=t?0:1;if(0>d||0>l||(r={data:e.subarray(d,s),type:o,state:l},f.push(r)),0===f.length){var y=this._getLastNalUnit();if(y){var g=new Uint8Array(y.data.byteLength+e.byteLength);g.set(y.data,0),g.set(e,y.data.byteLength),y.data=g}}return u.naluState=l,f}},{key:"discardEPB",value:function(e){for(var t,n,r=e.byteLength,i=[],o=1;r-2>o;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;t>o;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n}},{key:"_parseAACPES",value:function(e){var t,n,r,i,o,a,u,c,f,p=this._audioTrack,y=e.data,g=e.pts,v=this.aacOverFlow,m=this.aacLastPTS;if(v){var b=new Uint8Array(v.byteLength+y.byteLength);b.set(v,0),b.set(y,v.byteLength),y=b}for(o=0,c=y.length;c-1>o&&(255!==y[o]||240!==(240&y[o+1]));o++);if(o){var _,E;if(c-1>o?(_="AAC PES did not start with ADTS header,offset:"+o,E=!1):(_="no ADTS header found in AAC PES",E=!0),d.logger.warn("parsing error:"+_),this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:E,reason:_}),E)return}if(p.audiosamplerate||(t=s.default.getAudioConfig(this.observer,y,o,this.audioCodec),p.config=t.config,p.audiosamplerate=t.samplerate,p.channelCount=t.channelCount,p.codec=t.codec,p.duration=this._duration,d.logger.log("parsed codec:"+p.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)),i=0,r=9216e4/p.audiosamplerate,v&&m){var w=m+r;Math.abs(w-g)>1&&(d.logger.log("AAC: align PTS for overlapping frames by "+Math.round((w-g)/90)),g=w)}for(;c>o+5&&(a=1&y[o+1]?7:9,n=(3&y[o+3])<<11|y[o+4]<<3|(224&y[o+5])>>>5,(n-=a)>0&&c>=o+a+n);)for(u=g+i*r,f={unit:y.subarray(o+a,o+a+n),pts:u,dts:u},p.samples.push(f),p.len+=n,o+=n+a,i++;c-1>o&&(255!==y[o]||240!==(240&y[o+1]));o++);v=c>o?y.subarray(o,c):null,this.aacOverFlow=v,this.aacLastPTS=u}},{key:"_parseMPEGPES",value:function(e){for(var t,n=e.data,r=e.pts,i=n.length,o=0,a=0;i>a&&(t=this._parseMpeg(n,a,i,o++,r))>0;)a+=t}},{key:"_onMpegFrame",value:function(e,t,n,r,i,o){var a=1152/n*1e3,s=o+i*a,u=this._audioTrack;u.config=[],u.channelCount=r,u.audiosamplerate=n,u.duration=this._duration,u.samples.push({unit:e,pts:s,dts:s}),u.len+=e.length}},{key:"_onMpegNoise",value:function(e){d.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,n,r,i){var o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(t+2>n)return-1;if(255===e[t]||224===(224&e[t+1])){if(t+24>n)return-1;var s=e[t+1]>>3&3,u=e[t+1]>>1&3,l=e[t+2]>>4&15,c=e[t+2]>>2&3,f=!!(2&e[t+2]);if(1!==s&&0!==l&&15!==l&&3!==c){var d=3===s?3-u:3===u?3:4,h=1e3*o[14*d+l-1],p=3===s?0:2===s?1:2,y=a[3*p+c],g=f?1:0,v=e[t+3]>>6===3?1:2,m=3===u?(3===s?12:6)*h/y+g<<2:(3===s?144:72)*h/y+g|0;return t+m>n?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+m),h,y,v,r,i),m)}}for(var b=t+2;n>b;){if(255===e[b-1]&&224===(224&e[b]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,b-1)),b-t-1;b++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();n.default=p},{19:19,23:23,26:26,28:28,45:45}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",INTERNAL_EXCEPTION:"internalException"}},{}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(45),s=e(26),u=e(28),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(){function e(t){r(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;n>o;o++)i[o-1]=arguments[o];this.handledEvents=i,this.useGenericHandler=!0,this.registerListeners()}return o(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===i(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var n=function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)};try{n.call(this,e,t).call()}catch(t){a.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();n.default=c},{26:26,28:28,45:45}],28:[function(e,t,n){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"getSilentFrame",value:function(e){return 1===e?new Uint8Array([0,200,0,128,35,128]):2===e?new Uint8Array([33,0,73,144,2,25,0,35,128]):3===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]):4===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]):5===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]):6===e?new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]):null}}]),e}();n.default=o},{}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var n=e.buffered,r=0;n.length>r;r++)if(t>=n.start(r)&&t<=n.end(r))return!0;return!1}},{key:"bufferInfo",value:function(e,t,n){if(e){var r,i=e.buffered,o=[];for(r=0;i.length>r;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,t,n)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,n){var r,i,o,a,s,u=[];for(e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end}),s=0;e.length>s;s++){var l=u.length;if(l){var c=u[l-1].end;n>e[s].start-c?e[s].end>c&&(u[l-1].end=e[s].end):u.push(e[s])}else u.push(e[s])}for(s=0,r=0,i=o=t;u.length>s;s++){var f=u[s].start,d=u[s].end;if(t+n>=f&&d>t)i=f,o=d,r=o-t;else if(f>t+n){a=f;break}}return{len:r,start:i,end:o,nextStart:a}}}]),e}();n.default=o},{}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),a=function(){function e(){r(this,e)}return i(e,null,[{key:"mergeDetails",value:function(t,n){var r,i=Math.max(t.startSN,n.startSN)-n.startSN,a=Math.min(t.endSN,n.endSN)-n.startSN,s=n.startSN-t.startSN,u=t.fragments,l=n.fragments,c=0;if(i>a)return void(n.PTSKnown=!1);for(var f=i;a>=f;f++){var d=u[s+f],h=l[f];h&&d&&(c=d.cc-h.cc,isNaN(d.startPTS)||(h.start=h.startPTS=d.startPTS,h.endPTS=d.endPTS,h.duration=d.duration,r=h))}if(c)for(o.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;l.length>f;f++)l[f].cc+=c;if(r)e.updateFragPTSDTS(n,r.sn,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(s>=0&&u.length>s){var p=u[s].start;for(f=0;l.length>f;f++)l[f].start+=p}n.PTSKnown=t.PTSKnown}},{key:"updateFragPTSDTS",value:function(t,n,r,i,o,a){var s,u,l,c;if(!t||t.startSN>n||n>t.endSN)return 0;if(s=n-t.startSN,u=t.fragments,l=u[s],!isNaN(l.startPTS)){var f=Math.abs(l.startPTS-r);l.deltaPTS=isNaN(l.deltaPTS)?f:Math.max(f,l.deltaPTS),r=Math.min(r,l.startPTS),i=Math.max(i,l.endPTS),o=Math.min(o,l.startDTS),a=Math.max(a,l.endDTS)}var d=r-l.start;for(l.start=l.startPTS=r,l.endPTS=i,l.startDTS=o,l.endDTS=a,l.duration=i-r,c=s;c>0;c--)e.updatePTS(u,c,c-1);for(c=s;u.length-1>c;c++)e.updatePTS(u,c,c+1);return t.PTSKnown=!0,d}},{key:"updatePTS",value:function(e,t,n){var r=e[t],i=e[n],a=i.startPTS;isNaN(a)?i.start=n>t?r.start+r.duration:r.start-i.duration:n>t?(r.duration=a-r.start,0>r.duration&&o.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(i.duration=r.start-a,0>i.duration&&o.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();n.default=a},{45:45}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(28),s=r(a),u=e(26),l=e(36),c=r(l),f=e(34),d=r(f),h=e(4),p=r(h),y=e(7),g=r(y),v=e(8),m=r(v),b=e(5),_=r(b),E=e(12),w=r(E),A=e(11),S=r(A),T=e(13),O=r(T),N=e(10),R=r(N),k=e(6),I=r(k),D=e(45),B=e(47),P=r(B),C=e(1),L=r(C),x=e(35),U=r(x),M=e(43),F=r(M),j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e);var n=e.DefaultConfig;if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in t||(t[r]=n[r]);if(void 0!==t.liveMaxLatencyDurationCount&&t.liveSyncDurationCount>=t.liveMaxLatencyDurationCount)throw Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(t.liveSyncDuration>=t.liveMaxLatencyDuration||void 0===t.liveSyncDuration))throw Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,D.enableLogs)(t.debug),this.config=t;var o=this.observer=new L.default;o.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];o.emit.apply(o,[e,e].concat(n))},o.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];o.removeListener.apply(o,[e].concat(n))},this.on=o.on.bind(o),this.off=o.off.bind(o),this.trigger=o.trigger.bind(o),this.playlistLoader=new c.default(this),this.fragmentLoader=new d.default(this),this.levelController=new S.default(this),this.abrController=new t.abrController(this),this.bufferController=new t.bufferController(this),this.capLevelController=new t.capLevelController(this),this.fpsController=new t.fpsController(this),this.streamController=new t.streamController(this),this.audioStreamController=new t.audioStreamController(this),this.timelineController=new t.timelineController(this),this.audioTrackController=new I.default(this),this.keyLoader=new U.default(this)}return o(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.6.14"}},{key:"Events",get:function(){return s.default}},{key:"ErrorTypes",get:function(){return u.ErrorTypes}},{key:"ErrorDetails",get:function(){return u.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig||(e.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,seekHoleNudgeDuration:.01,stalledInBufferedNudgeThreshold:10,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,enableLazyURLResolve:!1,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:P.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:p.default,bufferController:g.default,capLevelController:m.default,fpsController:R.default,streamController:w.default,audioStreamController:_.default,timelineController:O.default,cueHandler:F.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),e.defaultConfig},set:function(t){e.defaultConfig=t}}]),o(e,[{key:"destroy",value:function(){D.logger.log("destroy"),this.trigger(s.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){D.logger.log("attachMedia"),this.media=e,this.trigger(s.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){D.logger.log("detachMedia"),this.trigger(s.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){D.logger.log("loadSource:"+e),this.url=e,this.trigger(s.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;D.logger.log("startLoad("+e+")"),this.levelController.startLoad(),this.streamController.startLoad(e),this.audioStreamController.startLoad(e)}},{key:"stopLoad",value:function(){D.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:"swapAudioCodec",value:function(){D.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){D.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){D.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){D.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){D.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(e){D.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){D.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){D.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){return this.audioTrackController.audioTracks}},{key:"audioTrack",get:function(){return this.audioTrackController.audioTrack},set:function(e){this.audioTrackController.audioTrack=e}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}}]),e}();n.default=j},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,47:47,5:5,6:6,7:7,8:8}],33:[function(e,t,n){"use strict";t.exports=e(32).default},{32:32}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(26),h=e(45),p=e(2),y=r(p),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.FRAG_LOADING));return n.loaders={},n}return a(t,e),s(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},f.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=this.hls.config;t.loaded=0,r&&(h.logger.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=t.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var o=void 0,a=void 0,s=void 0;o={url:t.url?t.url:y.default.buildAbsoluteURL(t.baseurl,t.relurl),frag:t,responseType:"arraybuffer",progressData:!1};var u=t.byteRangeStartOffset,l=t.byteRangeEndOffset;isNaN(u)||isNaN(l)||(o.rangeStart=u,o.rangeEnd=l),a={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(o,a,s)}},{key:"loadsuccess",value:function(e,t,n){var r=e.data,i=n.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(l.default.FRAG_LOADED,{payload:r,frag:i,stats:t})}},{key:"loaderror",value:function(e,t){var n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,n){var r=t.frag;r.loaded=e.loaded,this.hls.trigger(l.default.FRAG_LOAD_PROGRESS,{frag:r,stats:e})}}]),t}(f.default);n.default=g},{2:2,26:26,27:27,28:28,45:45}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(28),l=r(u),c=e(27),f=r(c),d=e(26),h=e(45),p=e(2),y=r(p),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,l.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return a(t,e),s(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},f.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,n=t.type,r=this.loaders[n],i=t.decryptdata,o=i.uri?i.uri:y.default.buildAbsoluteURL(i.baseuri,i.reluri);if(o!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;r&&(h.logger.warn("abort previous key loader for type:"+n),r.abort()),t.loader=this.loaders[n]=new a.loader(a),this.decrypturl=o,this.decryptkey=null;var s=void 0,u=void 0,c=void 0;s={url:o,frag:t,responseType:"arraybuffer"},u={timeout:a.fragLoadingTimeOut,maxRetry:a.fragLoadingMaxRetry,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,u,c)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(l.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(e.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(l.default.KEY_LOADED,{frag:r})}},{key:"loaderror",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})}},{key:"loadtimeout",value:function(e,t){var n=t.frag,r=n.loader;r&&r.abort(),this.loaders[t.type]=void 0,this.hls.trigger(l.default.ERROR,{type:d.ErrorTypes.NETWORK_ERROR,details:d.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})}}]),t}(f.default);n.default=g},{2:2,26:26,27:27,28:28,45:45}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e(2),l=r(u),c=e(28),f=r(c),d=e(27),h=r(d),p=e(26),y=e(40),g=r(y),v=e(45),m=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,b=/#EXT-X-MEDIA:(.*)/g,_=/(?:#EXT(INF): *(\d*(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,E=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,f.default.MANIFEST_LOADING,f.default.LEVEL_LOADING,f.default.AUDIO_TRACK_LOADING));return n.loaders={},n}return a(t,e),s(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},h.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"load",value:function(e,t){var n=this.loaders[t.type];if(n){var r=n.context;if(r&&r.url===e)return void v.logger.trace("playlist request ongoing");v.logger.warn("abort previous loader for type:"+t.type),n.abort()}var i=this.hls.config,o=void 0,a=void 0,s=void 0,u=void 0;"manifest"===t.type?(o=i.manifestLoadingMaxRetry,a=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,u=i.manifestLoadingMaxRetryTimeout):(o=i.levelLoadingMaxRetry,a=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,u=i.levelLoadingMaxRetryTimeout,v.logger.log("loading playlist for level "+t.level)),n=this.loaders[t.type]=t.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),t.url=e,t.responseType="";var l=void 0,c=void 0;l={timeout:a,maxRetry:o,retryDelay:s,maxRetryDelay:u},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(t,l,c)}},{key:"resolve",value:function(e,t){return l.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var n=[],r=void 0;for(m.lastIndex=0;null!=(r=m.exec(e));){var i={},o=i.attrs=new g.default(r[1]);i.url=this.resolve(r[2],t);var a=o.decimalResolution("RESOLUTION");a&&(i.width=a.width,i.height=a.height),i.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),i.name=o.NAME;var s=o.CODECS;if(s){s=s.split(/[ ,]+/);for(var u=0;s.length>u;u++){var l=s[u];-1!==l.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(l):i.audioCodec=l}}n.push(i)}return n}},{key:"parseMasterPlaylistMedia",value:function(e,t,n){var r=void 0,i=[];for(b.lastIndex=0;null!=(r=b.exec(e));){var o={},a=new g.default(r[1]);a.TYPE===n&&(o.groupId=a["GROUP-ID"],o.name=a.NAME,o.type=n,o.default="YES"===a.DEFAULT,o.autoselect="YES"===a.AUTOSELECT,o.forced="YES"===a.FORCED,a.URI&&(o.url=this.resolve(a.URI,t)),o.lang=a.LANGUAGE,o.name||(o.name=o.lang),i.push(o))}return i}},{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),n=12;16>n;n++)t[n]=e>>8*(15-n)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&(n=this.cloneObj(e),n.iv=this.createInitializationVector(t)),n}},{key:"avc1toavcoti",value:function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"parseLevelPlaylist",value:function(e,t,n,r){var i,o,a,s=0,u=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},c={method:null,key:null,iv:null,uri:null},f=0,d=null,h=null,p=null,y=null,m=null,b=null,E=[],w=this.hls.config,A=!!w&&w.enableLazyURLResolve;for(_.lastIndex=0;null!==(o=_.exec(e));){for(a=1;o.length>a&&void 0===o[a];a++);var S=o[a],T=o[a+1],O=o[a+2];switch(S){case"PLAYLIST-TYPE":l.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":s=l.startSN=parseInt(T);break;case"TARGETDURATION":l.targetduration=parseFloat(T);break;case"VERSION":l.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":f++,E.push([S]);break;case"DISCONTINUITY-SEQ":f=parseInt(T);break;case"BYTERANGE":var N=T.split("@");b=1===N.length?m:parseInt(N[1]),m=parseInt(N[0])+b;break;case"INF":p=parseFloat(T),y=O||null,E.push(O?[S,T,O]:[S,T]);break;case"":if(!isNaN(p)){var R=s++;i=this.fragmentDecryptdataFromLevelkey(c,R),h={type:r,duration:p,title:y,start:u,sn:R,level:n,cc:f,decryptdata:i,programDateTime:d,tagList:E},A?(h.relurl=T,h.baseurl=t):h.url=T?this.resolve(T,t):null,null!==b&&(h.byteRangeStartOffset=b,h.byteRangeEndOffset=m),l.fragments.push(h),u+=p,p=null,y=null,b=null,d=null,E=[]}break;case"KEY":var k=T,I=new g.default(k),D=I.enumeratedString("METHOD"),B=I.URI,P=I.hexadecimalInteger("IV");D&&(c={method:null,key:null,iv:null,uri:null},B&&"AES-128"===D&&(c.method=D,A?(c.baseuri=t,c.reluri=B):c.uri=this.resolve(B,t),c.key=null,c.iv=P));break;case"START":var C=T,L=new g.default(C),x=L.decimalFloatingPoint("TIME-OFFSET");isNaN(x)||(l.startTimeOffset=x);break;case"PROGRAM-DATE-TIME":d=new Date(Date.parse(T)),E.push([S,T]);break;case"#":E.push(O?[T,O]:[T]);break;default:v.logger.warn("line parsed but not handled: "+o)}}return!h||h.url||h.relurl||(l.fragments.pop(),u-=h.duration),l.totalduration=u,l.averagetargetduration=u/l.fragments.length,l.endSN=s-1,l}},{key:"loadsuccess",value:function(e,t,n){var r=e.data,i=e.url,o=n.type,a=n.id,s=n.level,u=this.hls;if(this.loaders[o]=void 0,void 0!==i&&0!==i.indexOf("data:")||(i=n.url),t.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var l="audioTrack"!==o,c=this.parseLevelPlaylist(r,i,(l?s:a)||0,l?"main":"audio");"manifest"===o&&u.trigger(f.default.MANIFEST_LOADED,{levels:[{url:i,details:c}],audioTracks:[],url:i,stats:t}),t.tparsed=performance.now(),c.targetduration?l?u.trigger(f.default.LEVEL_LOADED,{details:c,level:s||0,id:a||0,stats:t}):u.trigger(f.default.AUDIO_TRACK_LOADED,{details:c,id:a,stats:t}):u.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"invalid targetduration"})}else{var d=this.parseMasterPlaylist(r,i);if(d.length){var h=this.parseMasterPlaylistMedia(r,i,"AUDIO");if(h.length){var y=!1;h.forEach(function(e){e.url||(y=!0)}),!1===y&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(v.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}u.trigger(f.default.MANIFEST_LOADED,{levels:d,audioTracks:h,url:i,stats:t})}else u.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no level found in manifest"})}else u.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:p.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var n,r,i=t.loader;switch(t.type){case"manifest":n=p.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case"level":n=p.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case"audioTrack":n=p.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var n,r,i=t.loader;switch(t.type){case"manifest":n=p.ErrorDetails.MANIFEST_LOAD_TIMEOUT,r=!0;break;case"level":n=p.ErrorDetails.LEVEL_LOAD_TIMEOUT,r=!1;break;case"audioTrack":n=p.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,r=!1}i&&(i.abort(),this.loaders[t.type]=void 0),this.hls.trigger(f.default.ERROR,{type:p.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,context:t})}}]),t}(h.default);n.default=E},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))}},{key:"box",value:function(e){for(var t,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for(t=new Uint8Array(r),t[0]=r>>24&255,t[1]=r>>16&255,t[2]=r>>8&255,t[3]=255&r,t.set(e,4),i=0,r=8;o>i;i++)t.set(n[i],r),r+=n[i].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,n){return n*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))}},{key:"moov",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))}},{key:"mvhd",value:function(t,n){n*=t;var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,r)}},{key:"sdtp",value:function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(r=0;i.length>r;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var n,r,i,o=[],a=[];for(n=0;t.sps.length>n;n++)r=t.sps[n],i=r.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;t.pps.length>n;n++)r=t.pps[n],i=r.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height;return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var n=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var n=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var n=t.id,r=t.duration*t.timescale,i=t.width,o=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,n){var r=e.sdtp(t),i=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),e.trun(t,r.length+16+16+8+16+8+8),r)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,n){var r,i,o,a,s,u,l=t.samples||[],c=l.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;c>r;r++)i=l[r],o=i.duration,a=i.size,s=i.flags,u=i.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,d)}},{key:"initSegment",value:function(t){e.types||e.init();var n,r=e.moov(t);return n=new Uint8Array(e.FTYP.byteLength+r.byteLength),n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n}}]),e}();n.default=o},{}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(29),s=r(a),u=e(28),l=r(u),c=e(45),f=e(37),d=r(f),h=e(26),p=function(){function e(t,n,r,o){i(this,e),this.observer=t,this.id=n,this.config=r,this.typeSupported=o,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return o(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,o,a,s,u){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(n,r,a),this.ISGenerated)if(n.samples.length){var c=this.remuxAudio(n,a,s,u);if(r.samples.length){var f=void 0;c&&(f=c.endPTS-c.startPTS),this.remuxVideo(r,a,s,f)}}else{var d=void 0;r.samples.length&&(d=this.remuxVideo(r,a,s)),d&&n.codec&&this.remuxEmptyAudio(n,a,s,d)}i.samples.length&&this.remuxID3(i,a),o.samples.length&&this.remuxText(o,a),this.observer.trigger(l.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,n){var r,i,o=this.observer,a=e.samples,s=t.samples,u=this.PES_TIMESCALE,f=this.typeSupported,p="audio/mp4",y={},g={id:this.id,level:this.level,sn:this.sn,tracks:y,unique:!1},v=void 0===this._initPTS;v&&(r=i=1/0),e.config&&a.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&function(){e.timescale=e.audiosamplerate/function e(t,n){return n?e(n,t%n):t}(e.audiosamplerate,e.isAAC?1024:1152)}(),c.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(f.mpeg?(p="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),y.audio={container:p,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:d.default.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(r=i=a[0].pts-u*n)),t.sps&&t.pps&&s.length&&(t.timescale=this.MP4_TIMESCALE,y.video={container:"video/mp4",codec:t.codec,initSegment:d.default.initSegment([t]),metadata:{width:t.width,height:t.height}},v&&(r=Math.min(r,s[0].pts-u*n),i=Math.min(i,s[0].dts-u*n))),Object.keys(y).length?(o.trigger(l.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,v&&(this._initPTS=r,this._initDTS=i)):o.trigger(l.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,id:this.id,details:h.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,n,r){var i,o,a,s,u,f,p,y=8,g=this.PES_TIMESCALE,v=this.PES2MP4SCALEFACTOR,m=e.samples,b=[],_=this._PTSNormalize,E=this._initDTS;m.sort(function(e,t){return e.dts-t.dts});var w=m.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(0>w){c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var A=0;m.length>A;A++)m[A].dts+=w}var S=void 0;S=n?this.nextAvcDts:t*g;var T=m[0];u=Math.max(_(T.dts-E,S),0),s=Math.max(_(T.pts-E,S),0);var O=Math.round((u-S)/90);n&&O&&(O>1?c.logger.log("AVC:"+O+" ms hole between fragments detected,filling it"):-1>O&&c.logger.log("AVC:"+-O+" ms overlapping between fragments detected"),u=S,m[0].dts=u+E,s=Math.max(s-O,S),m[0].pts=s+E,c.logger.log("Video/PTS/DTS adjusted: "+Math.round(s/90)+"/"+Math.round(u/90)+",delta:"+O+" ms")),u,T=m[m.length-1],p=Math.max(_(T.dts-E,S),0),f=Math.max(_(T.pts-E,S),0),f=Math.max(f,p);var N=navigator.vendor,R=navigator.userAgent,k=N&&N.indexOf("Apple")>-1&&R&&!R.match("CriOS");k&&(i=Math.round((p-u)/(v*(m.length-1))));for(var I=0;m.length>I;I++){var D=m[I];k?D.dts=u+I*v*i:(D.dts=Math.max(_(D.dts-E,S),u),D.dts=Math.round(D.dts/v)*v),D.pts=Math.max(_(D.pts-E,S),D.dts),D.pts=Math.round(D.pts/v)*v}var B=e.len+4*e.nbNalu+8;try{o=new Uint8Array(B)}catch(e){return void this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:B,reason:"fail allocating video mdat "+B})}var P=new DataView(o.buffer);P.setUint32(0,o.byteLength),o.set(d.default.types.mdat,4);for(var C=0;m.length>C;C++){for(var L=m[C],x=0,U=void 0;L.units.units.length;){var M=L.units.units.shift();P.setUint32(y,M.data.byteLength),y+=4,o.set(M.data,y),y+=M.data.byteLength,x+=4+M.data.byteLength}if(k)U=Math.max(0,i*Math.round((L.pts-L.dts)/(v*i)));else{if(m.length-1>C)i=m[C+1].dts-L.dts;else{var F=this.config,j=L.dts-m[C>0?C-1:C].dts;if(F.stretchShortVideoTrack){var $=F.maxBufferHole,z=F.maxSeekHole,G=Math.floor(Math.min($,z)*g),Y=(r?s+r*g:this.nextAudioPts)-L.pts;Y>G?(i=Y-j,0>i&&(i=j),c.logger.log("It is approximately "+Y/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=j}else i=j}i/=v,U=Math.round((L.pts-L.dts)/v)}b.push({size:x,duration:i,cts:U,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:L.key?2:1,isNonSync:L.key?0:1}})}this.nextAvcDts=p+i*v;var V=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,b.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var K=b[0].flags;K.dependsOn=2,K.isNonSync=0}e.samples=b,a=d.default.moof(e.sequenceNumber++,u/v,e),e.samples=[];var W={id:this.id,level:this.level,sn:this.sn,data1:a,data2:o,startPTS:s/g,endPTS:(f+v*i)/g,startDTS:u/g,endDTS:this.nextAvcDts/g,type:"video",nb:b.length,dropped:V};return this.observer.trigger(l.default.FRAG_PARSING_DATA,W),W}},{key:"remuxAudio",value:function(e,t,n,r){var i,o,a,u,f,p,y,g,v,m,b,_,E,w,A,S,T=this.PES_TIMESCALE,O=e.timescale,N=T/O,R=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate,k=R*N,I=this._PTSNormalize,D=this._initDTS,B=!e.isAAC&&this.typeSupported.mpeg,P=B?0:8,C=[],L=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),L=e.samples,S=this.nextAudioPts,n|=L.length&&S&&(Math.abs(t-S/T)<.1||Math.abs(L[0].pts-S-this._initDTS)<20*k),n||(S=t*T),r&&e.isAAC)for(var x=0,U=S;L.length>x;){var M=L[x],F=I(M.pts-D,S),j=F-U;if(-k<j)if(j<k)Math.abs(j),U+=k,M.pts=M.dts=0===x?D+S:L[x-1].pts+k,x+=1;else{var $=Math.round(j/k);c.logger.warn("Injecting "+$+" audio frame @ "+Math.round(U/90)/1e3+"s due to "+Math.round(j/90)+" ms gap.");for(var z=0;$>z;z++)A=U+D,A=Math.max(A,D),w=s.default.getSilentFrame(e.channelCount),w||(c.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),w=M.unit.subarray()),L.splice(x,0,{unit:w,pts:A,dts:A}),e.len+=w.length,U+=k,x+=1;M.pts=M.dts=U+D,U+=k,x+=1}else c.logger.warn("Dropping 1 audio frame @ "+Math.round(U/90)/1e3+"s due to "+Math.round(Math.abs(j/90))+" ms overlap."),L.splice(x,1),e.len-=M.unit.length}for(;L.length;){if(o=L.shift(),u=o.unit,m=o.pts-D,b=o.dts-D,void 0!==v)_=I(m,v),E=I(b,v),a.duration=Math.round((E-v)/N);else{_=I(m,S),E=I(b,S);var G=Math.round(1e3*(_-S)/T),Y=0;if(n&&e.isAAC&&G){if(G>0)Y=Math.round((_-S)/k),c.logger.log(G+" ms hole between AAC samples detected,filling it"),Y>0&&(w=s.default.getSilentFrame(e.channelCount),w||(w=u.subarray()),e.len+=Y*w.length);else if(-12>G){c.logger.log(-G+" ms overlapping between AAC samples detected, drop frame"),e.len-=u.byteLength;continue}_=E=S}if(y=Math.max(0,_),g=Math.max(0,E),0>=e.len)return;var V=B?e.len:e.len+8;try{f=new Uint8Array(V)}catch(e){return void this.observer.trigger(l.default.ERROR,{type:h.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:h.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}B||(i=new DataView(f.buffer),i.setUint32(0,f.byteLength),f.set(d.default.types.mdat,4));for(var K=0;Y>K;K++)A=_-(Y-K)*k,w=s.default.getSilentFrame(e.channelCount),w||(c.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),w=u.subarray()),f.set(w,P),P+=w.byteLength,a={size:w.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},C.push(a)}f.set(u,P),P+=u.byteLength,a={size:u.byteLength,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},C.push(a),v=E}var W=0,H=C.length;if(2>H||(W=C[H-2].duration,a.duration=W),H){this.nextAudioPts=_+N*W,e.len=0,e.samples=C,p=B?new Uint8Array:d.default.moof(e.sequenceNumber++,g/N,e),e.samples=[];var q={id:this.id,level:this.level,sn:this.sn,data1:p,data2:f,startPTS:y/T,endPTS:this.nextAudioPts/T,startDTS:g/T,endDTS:(E+N*W)/T,type:"audio",nb:H};return this.observer.trigger(l.default.FRAG_PARSING_DATA,q),q}return null}},{key:"remuxEmptyAudio",value:function(e,t,n,r){var i=this.PES_TIMESCALE,o=e.timescale?e.timescale:e.audiosamplerate,a=i/o,u=this.nextAudioPts,l=(void 0!==u?u:r.startDTS*i)+this._initDTS,f=r.endDTS*i+this._initDTS,d=1024*a,h=Math.ceil((f-l)/d),p=s.default.getSilentFrame(e.channelCount);if(c.logger.warn("remux empty Audio"),!p)return void c.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var y=[],g=0;h>g;g++){var v=l+g*d;y.push({unit:p,pts:v,dts:v}),e.len+=p.length}e.samples=y,this.remuxAudio(e,t,n)}},{key:"remuxID3",value:function(e,t){var n,r=e.samples.length;if(r){for(var i=0;r>i;i++)n=e.samples[i],n.pts=(n.pts-this._initPTS)/this.PES_TIMESCALE,n.dts=(n.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(l.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var n,r=e.samples.length;if(r){for(var i=0;r>i;i++)n=e.samples[i],n.pts=(n.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(l.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var n;if(void 0===t)return e;for(n=e>t?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}},{key:"passthrough",get:function(){return!1}}]),e}();n.default=p},{26:26,28:28,29:29,37:37,45:45}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(28),a=function(e){return e&&e.__esModule?e:{default:e}}(o),s=function(){function e(t,n){r(this,e),this.observer=t,this.id=n,this.ISGenerated=!1}return i(e,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,n,r,i,o){var s=this.observer;if(!this.ISGenerated){var u={},l={id:this.id,tracks:u,unique:!0},c=t,f=c.codec;f&&(l.tracks.video={container:c.container,codec:f,metadata:{width:c.width,height:c.height}}),c=e,f=c.codec,f&&(l.tracks.audio={container:c.container,codec:f,metadata:{channelCount:c.channelCount}}),this.ISGenerated=!0,s.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,l)}s.trigger(a.default.FRAG_PARSING_DATA,{id:this.id,data1:o,startPTS:i,startDTS:i,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),e}();n.default=s},{28:28}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/^(\d+)x(\d+)$/,a=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,s=function(){function e(t){r(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return i(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;t.length/2>r;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=o.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,n={};for(a.lastIndex=0;null!==(t=a.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n}}]),e}();n.default=s},{}],41:[function(e,t,n){"use strict";var r={search:function(e,t){for(var n=0,r=e.length-1,i=null,o=null;r>=n;){i=(n+r)/2|0,o=e[i];var a=t(o);if(a>0)n=i+1;else{if(a>=0)return o;r=i-1}}return null}};t.exports=r},{}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},s=15,u=32,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e]>this.verboseLevel||console.log(this.time+" ["+e+"] "+t)}},y=function(e){for(var t=[],n=0;e.length>n;n++)t.push(e[n].toString(16));return t},g=function(){function e(t,n,i,o,a){r(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=i||!1,this.background=o||"black",this.flash=a||!1}return i(e,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;t.length>n;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}},{key:"copy",value:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),e}(),v=function(){function e(t,n,i,o,a,s){r(this,e),this.uchar=t||" ",this.penState=new g(n,i,o,a,s)}return i(e,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(e,t){this.uchar=e,this.penState.copy(t)}},{key:"setPenState",value:function(e){this.penState.copy(e)}},{key:"equals",value:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}},{key:"copy",value:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),e}(),m=function(){function e(){r(this,e),this.chars=[];for(var t=0;u>t;t++)this.chars.push(new v);this.pos=0,this.currPenState=new g}return i(e,[{key:"equals",value:function(e){for(var t=!0,n=0;u>n;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;u>t;t++)this.chars[t].copy(e.chars[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;u>t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}},{key:"setCursor",value:function(e){this.pos!==e&&(this.pos=e),0>this.pos?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>u&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=u)}},{key:"moveCursor",value:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;t+1>n;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(e){144>e||this.backSpace();var t=a(e);return u>this.pos?(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1)):void p.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!")}},{key:"clearFromPos",value:function(e){var t;for(t=e;u>t;t++)this.chars[t].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var e=[],t=!0,n=0;u>n;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")}},{key:"setPenStyles",value:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}]),e}(),b=function(){function e(){r(this,e),this.rows=[];for(var t=0;s>t;t++)this.rows.push(new m);this.currRow=s-1,this.nrRollUpRows=null,this.reset()}return i(e,[{key:"reset",value:function(){for(var e=0;s>e;e++)this.rows[e].clear();this.currRow=s-1}},{key:"equals",value:function(e){for(var t=!0,n=0;s>n;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t}},{key:"copy",value:function(e){for(var t=0;s>t;t++)this.rows[t].copy(e.rows[t])}},{key:"isEmpty",value:function(){for(var e=!0,t=0;s>t;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(e){this.rows[this.currRow].insertChar(e)}},{key:"setPen",value:function(e){this.rows[this.currRow].setPenStyles(e)}},{key:"moveCursor",value:function(e){this.rows[this.currRow].moveCursor(e)}},{key:"setCursor",value:function(e){p.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)}},{key:"setPAC",value:function(e,t){p.log("INFO","pacData = "+JSON.stringify(e));var n=e.row-1;if(this.nrRollUpRows&&this.nrRollUpRows-1>n&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var r=0;s>r;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,o=t.rows[i].cueStartTime;if(o&&p.time>o)for(r=0;this.nrRollUpRows>r;r++)this.rows[n-this.nrRollUpRows+r+1].copy(t.rows[i+r])}this.currRow=n;var a=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,l=Math.max(u-1,0);a.setCursor(e.indent),e.color=a.chars[l].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)}},{key:"setBkgData",value:function(e){p.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}},{key:"setRollUpRows",value:function(e){this.nrRollUpRows=e}},{key:"rollUp",value:function(){if(null===this.nrRollUpRows)return void p.log("DEBUG","roll_up but nrRollUpRows not set yet");p.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}},{key:"getDisplayText",value:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;s>i;i++){var o=this.rows[i].getTextString();o&&(r=i+1,t.push(e?"Row "+r+": '"+o+"'":o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),e}(),_=function(){function e(t,n){r(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new b,this.nonDisplayedMemory=new b,this.lastOutputScreen=new b,this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return i(e,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(e){this.outputFilter=e}},{key:"setPAC",value:function(e){this.writeScreen.setPAC(e,this.lastOutputScreen)}},{key:"setBkgData",value:function(e){this.writeScreen.setBkgData(e)}},{key:"setMode",value:function(e){e!==this.mode&&(this.mode=e,p.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}},{key:"insertChars",value:function(e){for(var t=0;e.length>t;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";p.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(e){p.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}},{key:"ccFON",value:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(e){p.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}},{key:"ccMIDROW",value:function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}p.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}},{key:"outputDataUpdate",value:function(){var e=p.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}]),e}(),E=function(){function e(t,n,i){r(this,e),this.field=t||1,this.outputs=[n,i],this.channels=[new _(1,n),new _(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return i(e,[{key:"getHandler",value:function(e){return this.channels[e].getHandler()}},{key:"setHandler",value:function(e,t){this.channels[e].setHandler(t)}},{key:"addData",value:function(e,t){var n,r,i,o=!1;this.lastTime=e,p.setTime(e);for(var a=0;t.length>a;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(p.log("DATA","["+y([t[a],t[a+1]])+"] -> ("+y([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else p.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+y([r,i])+" orig: "+y([t[a],t[a+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(e,t){var n=null,r=!(20!==e&&28!==e||32>t||t>47),i=!(23!==e&&31!==e||33>t||t>35);if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+y([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"parseMidrow",value:function(e,t){var n=null;if(!(17!==e&&25!==e||32>t||t>47)){if((n=17===e?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].ccMIDROW(t),p.log("DEBUG","MIDROW ("+y([e,t])+")"),!0}return!1}},{key:"parsePAC",value:function(e,t){var n=null,r=null,i=!((17>e||e>23)&&(25>e||e>31)||64>t||t>127),o=!(16!==e&&24!==e||64>t||t>95);if(!i&&!o)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e>23?2:1,r=64>t||t>95?1===n?c[e]:d[e]:1===n?l[e]:f[e];var a=this.interpretPAC(r,t);return this.channels[n-1].setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0}},{key:"interpretPAC",value:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n>13?n>15?r.indent=4*Math.floor((n-16)/2):(r.italics=!0,r.color="white"):r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)],r}},{key:"parseChars",value:function(e,t){var n=null,r=null,i=null;if(25>e?(n=1,i=e):(n=2,i=e-8),17>i||i>19)32>e||e>127||(r=0===t?[e]:[e,t]);else{var o=t;o=17===i?t+80:18===i?t+112:t+144,p.log("INFO","Special char '"+a(o)+"' in channel "+n),r=[o]}if(r){var s=y(r);p.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r}},{key:"parseBackgroundAttributes",value:function(e,t){var n,r,i,o,a=!(16!==e&&24!==e||32>t||t>47),s=!(23!==e&&31!==e||45>t||t>47);return!(!a&&!s)&&(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=h[r],t%2===1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=24>e?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)}},{key:"reset",value:function(){for(var e=0;this.channels.length>e;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(e){for(var t=0;this.channels.length>t;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}}]),e}();n.default=E},{}],43:[function(e,t,n){"use strict";var r={newCue:function(e,t,n,r){for(var i,o,a,s,u,l=window.VTTCue||window.TextTrackCue,c=0;r.rows.length>c;c++)if(i=r.rows[c],a=!0,s=0,u="",!i.isEmpty()){for(var f=0;i.chars.length>f;f++)i.chars[f].uchar.match(/\s/)&&a?s++:(u+=i.chars[f].uchar,a=!1);i.cueStartTime=t,o=new l(t,n,u.trim()),16>s?s++:s--,o.line=navigator.userAgent.match(/Firefox\//)?c+1:c>7?c-2:c+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(o)}}};t.exports=r},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return i(e,[{key:"sample",value:function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();n.default=o},{}],45:[function(e,t,n){"use strict";function r(){}function i(e,t){return t="["+e+"] > "+t}function o(e){var t=self.console[e];return t?function(){for(var n=arguments.length,r=Array(n),o=0;n>o;o++)r[o]=arguments[o];r[0]&&(r[0]=i(e,r[0])),t.apply(self.console,r)}:r}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;t>r;r++)n[r-1]=arguments[r];n.forEach(function(t){l[t]=e[t]?e[t].bind(e):o(t)})}Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={trace:r,debug:r,log:r,warn:r,info:r,error:r},l=u;n.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":s(e))){a(e,"debug","log","info","warn","error");try{l.log()}catch(e){l=u}}else l=u},n.logger=l},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,null,[{key:"toString",value:function(e){for(var t="",n=e.length,r=0;n>r;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}]),e}();n.default=o},{}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(45),a=function(){function e(t){r(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return i(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e=this.loader="undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var n=this.stats;n.tfirst=0,n.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,n=t.readyState,r=this.stats,i=this.context,a=this.config;if(!r.aborted&&(window.clearTimeout(this.requestTimeout),n>=2&&(0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout-(r.tfirst-r.trequest))),4===n))){var s=t.status;if(s>=200&&300>s){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,l=void 0;"arraybuffer"===i.responseType?(u=t.response,l=u.byteLength):(u=t.responseText,l=u.length),r.loaded=r.total=l;var c={url:t.responseURL,data:u};this.callbacks.onSuccess(c,r,i)}else r.retry>=a.maxRetry||s>=400&&499>s?(o.logger.error(s+" while loading "+i.url),this.callbacks.onError({code:s,text:t.statusText},i)):(o.logger.warn(s+" while loading "+i.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}}},{key:"loadtimeout",value:function(){o.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var n=this.callbacks.onProgress;n&&n(t,this.context,null)}}]),e}();n.default=a},{45:45}]},{},[33])(33)}()}()},31:function(e,t,n){e.exports=n(34)()},32:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(17),c=r(l),f=n(31),d=r(f),h=n(30),p=r(h),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={playerId:Date.now()},n.hls=null,n}return a(t,e),u(t,[{key:"componentDidUpdate",value:function(){this._initPlayer()}},{key:"componentDidMount",value:function(){this._initPlayer()}},{key:"componentWillUnmount",value:function(){var e=this.hls;e&&e.destroy()}},{key:"_initPlayer",value:function(){this.hls&&this.hls.destroy();var e=this.props,t=e.url,n=e.autoplay,r=e.hlsConfig,i=this.refs.video,o=new p.default(r);o.loadSource(t),o.attachMedia(i),o.on(p.default.Events.MANIFEST_PARSED,function(){n&&i.play()}),this.hls=o}},{key:"render",value:function(){var e=this.state.playerId,t=this.props,n=t.controls,r=t.width,i=t.height,o=t.poster,a=t.videoProps;return c.default.createElement("div",{key:e,className:"player-area"},c.default.createElement("video",s({ref:"video",className:"hls-player",id:"react-hls-"+e,controls:n,width:r,height:i,poster:o},a)))}}]),t}(c.default.Component);y.propTypes={url:d.default.string.isRequired,autoplay:d.default.bool,hlsConfig:d.default.object,controls:d.default.bool,width:d.default.number,height:d.default.number,poster:d.default.string,videoProps:d.default.object},y.defaultProps={autoplay:!1,hlsConfig:{},controls:!0,width:500,height:375},t.default=y},34:function(e,t,n){"use strict";var r=n(6),i=n(0),o=n(24);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},6:function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i}})})},function(e,t){},function(e,t,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="/service-worker.js";a?o(e):i(e)})}}function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}function o(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}t.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))}]);
//# sourceMappingURL=main.7a37dd13.js.map